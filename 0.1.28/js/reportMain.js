define("constants/AnalysisConstants",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={TC_LOSS:"TC_LOSS",TC_LOSS_GAIN:"TC_LOSS_GAIN",LC_LOSS:"LC_LOSS",BIO_LOSS:"BIO_LOSS",INTACT_LOSS:"INTACT_LOSS",FIRES:"FIRES",LCC:"LCC",SLOPE:"SLOPE",ANALYSIS_GROUP_RESTORATION:"ANALYSIS_GROUP_RESTORATION",ANALYSIS_GROUP_SLOPE:"ANALYSIS_GROUP_SLOPE",ANALYSIS_GROUP_OTHER:"ANALYSIS_GROUP_OTHER",ANALYSIS_TYPE_RESTORATION:"ANALYSIS_TYPE_RESTORATION",ANALYSIS_TYPE_SLOPE:"ANALYSIS_TYPE_SLOPE",GEOMETRY_POLYGON:"polygon",GEOMETRY_POLYLINE:"polyline"}}),define("js/config",["exports","constants/AnalysisConstants"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.urls=e.errors=e.modalText=e.layerInformation=e.layerPanelText=e.corsServers=e.analysisConfig=e.uploadConfig=e.assetUrls=e.mapConfig=undefined;var n=r(t),i="http://gis-gfw.wri.org/arcgis/rest/services/image_services/analysis/ImageServer",s={map:{options:{navigationMode:"css-transforms",force3DTransforms:!0,showAttribution:!1,fadeOnZoom:!0,slider:!1,logo:!1}},corsServers:["gis-gfw.wri.org","gis-potico.wri.org"],assets:{jQuery:"vendor/jquery/dist/jquery.min.js",highcharts:"//code.highcharts.com/highcharts.js",highchartsMore:"//code.highcharts.com/highcharts-more.js",highchartsExports:"//code.highcharts.com/modules/exporting.js",ionCSS:"vendor/ion.rangeslider/css/ion.rangeSlider.css",ionSkinCSS:"vendor/ion.rangeslider/css/ion.rangeSlider.skinNice.css",rangeSlider:"vendor/ion.rangeslider/js/ion.rangeSlider.min.js"},urls:{liveSite:"http://wri.github.io/gfw-mapbuilder/",metadataApi:"http://api.globalforestwatch.org/metadata",metadataXmlEndpoint:function(t){return"http://www.arcgis.com/sharing/rest/content/items/"+t+"/info/metadata/metadata.xml"}},upload:{portal:"http://www.arcgis.com/sharing/rest/content/features/generate",shapefileParams:function(t,n,r,i){return{name:t,generalize:!0,targetSr:n,maxRecordCount:1e3,reducePrecision:!0,numberOfDigitsAfterDecimal:0,enforceInputFileSizeLimit:!0,enforceOutputJsonSizeLimit:!0,maxAllowableOffset:r/i}},shapefileContent:function(t,n){return{publishParameters:t,"callback.html":"textarea",filetype:n,f:"json"}}},layerPanel:{landCoverDynamics:"Land Cover Dynamics",landCover:"Land Cover",waterStressLegend:{min:"Low",max:"High",arid:"Arid",nodata:"No Data"},sedimentLegend:{min:"Low",max:"Extreme"},firesOptions:[{label:"Past Week",value:7},{label:"Past 72 hours",value:3},{label:"Past 48 hours",value:2},{label:"Past 24 hours",value:1}],lossOptions:[{label:"2001",value:1},{label:"2002",value:2},{label:"2003",value:3},{label:"2004",value:4},{label:"2005",value:5},{label:"2006",value:6},{label:"2007",value:7},{label:"2008",value:8},{label:"2009",value:9},{label:"2010",value:10},{label:"2011",value:11},{label:"2012",value:12},{label:"2013",value:13},{label:"2014",value:14}]},errors:{missingLayerConfig:"You provided a layer config containing a url but not a type, please specify the layer type in the layer config.",incorrectLayerConfig:function(t){return"You provided an invalid type, the application is not configured for type: "+t+". Please use the correct type or implement it in the LayerFactory."},geolocationUnavailable:"Sorry, it looks like your browser does not support geolocation, please try the latest versions of Safari, Chrome, or Firefox.",geolocationFailure:function(t){return"Error retrieving location at this time. "+t},featureNotFound:"We could not find a feature available at this point. Please try again."},modals:{noInfo:"No Information Available",alerts:{title:"Subscribe to GFW Alerts",descriptions:{email:"Your email address",subscription:"Name your subscription area",subscriptionTypes:"Select your subscriptions"},messages:{formaSuccess:"Thank you for subscribing to Forma Alerts.\nYou should receive a confirmation email soon.",formaFail:"There was an error with your request to subscribe to Forma alerts.\rPlease try again later.",fireSuccess:"Thank you for subscribing to Fires Alerts.\rYou should receive a confirmation email soon.",fireFail:"There was an error with your request to subscribe to Fires alerts.\rPlease try again later."}},canopy:{slider:[0,10,15,20,25,30,50,75,100]},share:{title:"Share this view",linkInstructions:"Copy and paste the link to share it or use the buttons below to share on social media.",copyFailure:"Sorry, we were unable to copy this to your clipboard, please press Cmd + c on Mac or Ctrl + c on Windows/Linux.",copyButton:"Copy",copiedButton:"Copied",googleUrl:function(t){return"https://plus.google.com/share?url="+t},twitterUrl:function(t){return"https://twitter.com/share?url="+t+"&via=gfw-water"},facebookUrl:function(t){return"https://www.facebook.com/sharer.php?u="+t}}},analysis:{imageService:i,pixelSize:100,tcd:{id:"$520",outputValues:[0,1],inputRanges:function(t){return[0,+t,+t,101]}},restoration:{treeCoverId:"$4",populationId:"$2",populationClasses:["No Data","<= 20","20 - 50","50 - 150","150 - 500","> 500"],populationColors:["rgb(0, 0, 0)","rgb(255, 255, 128)","rgb(250, 209, 85)","rgb(242, 167, 46)","rgb(173, 83, 19)","rgb(107, 0, 0)"],slopeId:"$3",landCoverId:"$1",landCoverColors:["rgb(0, 0, 0)","rgb(0, 174, 0)","rgb(255, 255, 0)","rgb(255, 155, 190)","rgb(0, 238, 238)","rgb(255, 0, 0)","rgb(255, 255, 188)"]}}};s.analysis[n.default.INTACT_LOSS]={id:"$9",bounds:[0,1],colors:["#186513"]},s.analysis[n.default.BIO_LOSS]={id:"$524",bounds:[0,2],labels:["1 - 19","20 - 79",">= 80"],colors:["#fdffcc","#f1bc8b","#d56f4a"],remap:{rasterFunction:"Remap",rasterFunctionArguments:{InputRanges:[0,20,20,80,80,1e3],OutputValues:[0,1,2],Raster:"$524",AllowUnmatched:!1}}},s.analysis[n.default.SLOPE]={id:"$3",restoration:"$5",slopeOptions:[{label:"<= 30%",value:1},{label:"30% - 60%",value:2},{label:"> 60%",value:3}]},s.analysis[n.default.TC_LOSS_GAIN]={lossRaster:"$530",gainRaster:"$527"},s.analysis[n.default.TC_LOSS]={id:"$530",colors:["#cf5188"],bounds:[1,14],labels:[2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014]},s.analysis[n.default.FIRES]={url:"http://gis-potico.wri.org/arcgis/rest/services/Fires/Global_Fires/MapServer/4"};var o=e.mapConfig=s.map,u=e.assetUrls=s.assets,a=e.uploadConfig=s.upload,f=e.analysisConfig=s.analysis,l=e.corsServers=s.corsServers,c=e.layerPanelText=s.layerPanel,h=e.layerInformation=s.layerInformation,p=e.modalText=s.modals,d=e.errors=s.errors,v=e.urls=s.urls}),define("utils/loaders",["exports","dojo/Deferred"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.loadJS=e.loadCSS=undefined;var n=r(t),i={loadCSS:function(t){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=t,requestAnimationFrame(function(){document.getElementsByTagName("head")[0].appendChild(n)})},loadJS:function(t,r){var i=new n.default,s=document.createElement("script");return s.src=t,s.async=r||!1,s.onload=i.resolve,s.onerror=i.reject,requestAnimationFrame(function(){document.getElementsByTagName("head")[0].appendChild(s)}),i}},s=e.loadCSS=i.loadCSS,o=e.loadJS=i.loadJS}),define("constants/LayerConstants",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ACTIVE_FIRES:"ACTIVE_FIRES",TREE_COVER:"TREE_COVER",LAND_COVER:"LAND_COVER",TREE_COVER_GAIN:"TREE_COVER_GAIN",TREE_COVER_LOSS:"TREE_COVER_LOSS",IFL:"IFL",AG_BIOMASS:"AG_BIOMASS",MASK:"MASK",LEGEND_LAYER:"LEGEND_LAYER",CUSTOM_FEATURES:"CUSTOM_FEATURES",GROUP_LCD:"GROUP_LCD",GROUP_LC:"GROUP_LC",GROUP_WEBMAP:"GROUP_WEBMAP",GROUP_BASEMAP:"GROUP_BASEMAP"}}),define("utils/analysisUtils",["exports","esri/tasks/QueryTask","js/config","esri/request","esri/tasks/query","dojo/Deferred","dojo/_base/lang","dojo/promise/all"],function(e,t,n,r,i,s,o,u){"use strict";function d(e){return e&&e.__esModule?e:{"default":e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=d(t),f=d(r),l=d(i),c=d(s),h=d(o),p=d(u),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g="The requested image exceeds the size limit.",y=3,b=1,w=function(t){return t.code===400&&t.details&&t.details.length>0&&t.details[0]===g},E=function(t){return{input:t===3?[0,3,3,3]:[0,t,t,t,t+1,3],output:t===3?[0,1]:[0,1,0]}},S={fires:function(t){return{fireCount:t.features?t.features.length:0}},getCounts:function(t,n,r){var i=t.histograms,s=i&&i.length===1?i[0].counts:[];return s=s.map(function(e){return e*Math.pow(n,2)/1e4}),{counts:r?s:s.slice(1)}}},x={mosaicRule:function(t){return{mosaicMethod:"esriMosaicLockRaster",mosaicOperation:"MT_FIRST",lockRasterIds:[t],ascending:!0}},arithmetic:function(t,n,r){return{rasterFunction:"Arithmetic",rasterFunctionArguments:{Raster:t,Raster2:n,Operation:r}}},remap:function(t,n,r){return{rasterFunction:"Remap",rasterFunctionArguments:{InputRanges:n,OutputValues:r,Raster:t,AllowUnmatched:!1}}}},T=function(t,n,r,i){n.geometry&&(n.geometry=JSON.stringify(n.geometry)),n.renderingRule&&(n.renderingRule=JSON.stringify(n.renderingRule)),n.mosaicRule&&(n.mosaicRule=JSON.stringify(n.mosaicRule)),n.geometryType=n.goemetryType||"esriGeometryPolygon",n.pixelSize=n.pixelSize||100,n.f=n.f||"json";if(!r||!i)return(0,f.default)({url:t+"/computeHistograms",callbackParamName:"callback",content:n,handleAs:"json",timeout:3e4},{usePost:!0});(0,f.default)({url:t+"/computeHistograms",callbackParamName:"callback",content:n,handleAs:"json",timeout:3e4},{usePost:!0}).then(r,i)},N=function(){function e(t,n){v(this,e),this.fromBounds=function(e){var t=[],n=e[1],r=e[0];for(;r<=n;r++)t.push(r);return t},this.A=this.fromBounds(t),this.B=this.fromBounds(n)}return m(e,[{key:"encode",value:function(t,n){return this.B.length*t+n}},{key:"decode",value:function(t){var n=t%this.B.length,r=(t-n)/this.B.length;return[r,n]}},{key:"getSimpleRule",value:function(t,r,i){var s=n.analysisConfig.tcd,o=x.remap(s.id,s.inputRanges(i),s.outputValues),u=x.arithmetic(o,x.arithmetic(t,r,y),y);return u.rasterFunctionArguments.Raster2.outputPixelType="U8",u}},{key:"getRule",value:function(t,r,i){var s=n.analysisConfig.tcd,o=x.remap(t,[this.A[0],this.A[this.A.length-1]+1],[this.B.length]),u=x.remap(s.id,s.inputRanges(i),s.outputValues),a=x.arithmetic(u,x.arithmetic(x.arithmetic(o,t,y),r,b),y);return a.rasterFunctionArguments.Raster2.outputPixelType="U8",a}}]),e}();e.default={getFireCount:function(t,n){var r=new a.default(t),i=new c.default,s=new l.default;return s.geometry=n,s.returnGeometry=!1,s.outFields=[""],s.where="1 = 1",r.execute(s).then(function(e){i.resolve(S.fires(e))},function(e){i.resolve(S.fires(e))}),i},getCountsWithDensity:function(t,r,i){var s=new c.default,o=n.analysisConfig.tcd,u=x.remap(o.id,o.inputRanges(i),o.outputValues),a=n.analysisConfig.imageService,f=n.analysisConfig.pixelSize,l={pixelSize:f,geometry:r,renderingRule:x.arithmetic(u,t,y)},h=function(t){s.resolve(S.getCounts(t,l.pixelSize))},p=function d(e){w(e)&&l.pixelSize!==500?(l.pixelSize=500,T(a,l,h,d)):s.resolve(e)};return T(a,l,h,p),s},getMosaic:function(t,r){var i=new c.default,s=n.analysisConfig.imageService,o=n.analysisConfig.pixelSize,u={pixelSize:o,geometry:r,mosaicRule:x.mosaicRule(t)},a=function(t){i.resolve(S.getCounts(t,u.pixelSize))},f=function l(e){w(e)&&u.pixelSize!==500?(u.pixelSize=500,T(s,u,a,l)):i.resolve(e)};return T(s,u,a,f),i},getCrossedWithLoss:function(t,r,i,s){var o=new c.default,u=n.analysisConfig.imageService,a=n.analysisConfig.pixelSize,f=new N(r.bounds,t.bounds),l=t.remap?t.remap:t.id,h=s.simple?f.getSimpleRule(r.id,l,s.canopyDensity):f.getRule(r.id,l,s.canopyDensity),p={geometry:i,pixelSize:a,renderingRule:h},d=function(t){o.resolve({counts:S.getCounts(t,p.pixelSize,!0).counts,encoder:f,options:s})},v=function m(e){w(e)&&p.pixelSize!==500?(p.pixelSize=500,T(u,p,d,m)):o.resolve(e)};return T(u,p,d,v),o},getSlope:function(t,r,i,s,o){var u=E(r),a=n.analysisConfig.pixelSize,f=new c.default,l=x.arithmetic(x.remap(i,u.input,u.output),s,y),h={pixelSize:a,geometry:o,renderingRule:l},p=function(t){var n=S.getCounts(t,h.pixelSize).counts;f.resolve({counts:n.slice(1)})},d=function v(e){w(e)&&h.pixelSize!==500?(h.pixelSize=500,T(t,h,p,v)):f.resolve(e)};return T(t,h,p,d),f},getRestoration:function(t,r,i){var s=new c.default,o=n.analysisConfig.pixelSize,u=n.analysisConfig.restoration,a={pixelSize:o,geometry:i},f=h.default.delegate(a,{renderingRule:x.arithmetic(u.landCoverId,r,y)}),l=h.default.delegate(a,{renderingRule:x.arithmetic(u.treeCoverId,r,y)}),d=h.default.delegate(a,{renderingRule:x.arithmetic(u.populationId,r,y)}),v=h.default.delegate(a,{renderingRule:x.arithmetic(u.slopeId,r,y)});return(0,p.default)([T(t,f),T(t,l),T(t,d),T(t,v)]).always(function(e){e.error?s.resolve(e):s.resolve({landCover:e[0]?S.getCounts(e[0],a.pixelSize,!0).counts:[0],treeCover:e[1]?S.getCounts(e[1],a.pixelSize,!0).counts:[0],population:e[2]?S.getCounts(e[2],a.pixelSize,!0).counts:[0],slope:e[3]?S.getCounts(e[3],a.pixelSize,!0).counts:[0]})}),s}}}),define("utils/params",["exports"],function(e){"use strict";function t(e){if(!e)return{};var t={},n=e.split("&").map(function(e){return e.split("=").map(function(e){return decodeURIComponent(e)})});return n.forEach(function(e){if(!e[0]||!e[1]){console.warn("You provided an invalid key-value pair, "+e[0]+" is being omitted.");return}t[e[0]]=e[1]}),t}function n(e,t){var n="You should not be converting nested objects as they wont encode properly. Try making it a string first.",r=[];for(var i in e){if(Object.prototype.toString.call(e[i])==="[object Object]")throw new Error(n);t?r.push(i+"="+e[i]):r.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]))}return r.join("&")}function r(e){if(!e)return{};var n=e.split("?"),r=n.length>1?n[1]:"";return t(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.toObject=t,e.toQuery=n,e.getUrlParams=r}),define("utils/AppUtils",["exports","utils/params"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n={getObject:function(t,n,r){var i=void 0;return t.some(function(e){if(e[n]===r)return i=e,!0}),i},containsObject:function(t,n,r){return t.some(function(e){return e[n]===r})},validLatLng:function(t,n){return t>-90&&t<90&&n>-180&&n<180},supportsExecCommand:function(){return typeof document!="undefined"&&!!document.execCommand},copySelectionFrom:function(t){var r=!1;if(!n.supportsExecCommand())return r;t.select();try{r=document.execCommand("copy")}catch(i){console.error(i)}return r},clone:function(t){return JSON.parse(JSON.stringify(t))},generateReport:function(n){var r=n.selectedFeature,i=n.settings,s=n.lang,o=n.canopyDensity,u=r._layer,a=function(){return u.source?u.source.mapLayerId:u.layerId};if(u.url){var f=u.objectIdField,l=r.attributes[f],c=a(u),h=u.id,p=u.url.slice(0,u.url.lastIndexOf("/")),d=i.labels[s],v=(0,t.toQuery)({title:d.title,subtitle:d.subtitle,logoUrl:i.logoUrl,logoLinkUrl:i.logoLinkUrl,webmap:i.webmap,idvalue:l,service:p,layerid:c,layerName:h,tcd:o,lang:s});window.open("report.html?"+v)}else console.log("Custom feature: "+r)}};e.default=n}),define("utils/performAnalysis",["exports","constants/AnalysisConstants","constants/LayerConstants","utils/analysisUtils","js/config","dojo/Deferred","utils/AppUtils","dojo/promise/all"],function(e,t,n,r,i,s,o,u){"use strict";function d(e){return e&&e.__esModule?e:{"default":e}}function v(e){var t=e.type,n=e.geometry,r=e.canopyDensity,s=e.activeSlopeClass,o=e.settings,u=e.language,d=o&&o.restorationImageServer,v=o&&o.layers?h.default.getObject(o.layers[u],"id",f.default.LAND_COVER):{},m=i.analysisConfig[t],g=new c.default;switch(t){case a.default.FIRES:l.default.getFireCount(m.url,n).then(g.resolve);break;case a.default.LCC:l.default.getMosaic(v.rasterId,n).then(g.resolve);break;case a.default.TC_LOSS:l.default.getCountsWithDensity(m.id,n,r).then(g.resolve);break;case a.default.SLOPE:var y=o.slopeClasses.indexOf(s);l.default.getSlope(d,y,m.id,m.restoration,n).then(g.resolve);break;case a.default.TC_LOSS_GAIN:(0,p.default)([l.default.getCountsWithDensity(m.lossRaster,n,r),l.default.getCountsWithDensity(m.gainRaster,n,r)]).then(function(e){g.resolve({lossCounts:e[0].counts,gainCounts:e[1].counts})});break;case a.default.LC_LOSS:l.default.getCrossedWithLoss({id:v.rasterId,bounds:v.bounds},i.analysisConfig[a.default.TC_LOSS],n,{canopyDensity:r}).then(g.resolve);break;case a.default.BIO_LOSS:l.default.getCrossedWithLoss(m,i.analysisConfig[a.default.TC_LOSS],n,{canopyDensity:r}).then(g.resolve);break;case a.default.INTACT_LOSS:l.default.getCrossedWithLoss(m,i.analysisConfig[a.default.TC_LOSS],n,{canopyDensity:r,simple:!0}).then(g.resolve);break;default:l.default.getRestoration(d,t,n).then(g.resolve)}return g}Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;var a=d(t),f=d(n),l=d(r),c=d(s),h=d(o),p=d(u)}),define("utils/symbols",["exports","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol","esri/Color"],function(e,t,n,r){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=u(t),s=u(n),o=u(r),a=void 0;e.default={getCustomSymbol:function(){return a?a:(a=new i.default(s.default.STYLE_SOLID,new s.default(s.default.STYLE_SOLID,new o.default([3,188,255]),3),new o.default([210,210,210,0])),a)}}}),define("constants/AppConstants",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=e.attributes={SOURCE_DRAW:"draw",SOURCE_SEARCH:"search",SOURCE_UPLOAD:"upload"}}),define("utils/geometryUtils",["exports","esri/SpatialReference","constants/AppConstants","esri/InfoTemplate","esri/geometry/Polygon","utils/symbols","esri/graphic"],function(e,t,n,r,i,s,o){"use strict";function h(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var u=h(t),a=h(r),f=h(i),l=h(s),c=h(o),p=0,d=function(){return++p};e.default={generateDrawnPolygon:function(t){var r=d();return new c.default(new f.default(t),l.default.getCustomSymbol(),{cfid:r,OBJECTID:r,__source:n.attributes.SOURCE_DRAW,Name:"Custom Feature #"+r},new a.default({title:"${Name}",content:"<div class='custom-feature__content'>Object Id: ${OBJECTID}</div>"}))},generatePolygonInSr:function(t,n){var r=new f.default(t);return r.setSpatialReference(new u.default(n)),r},generatePolygonsFromUpload:function(t){var n=[];return t.layers.forEach(function(e){var t=e.featureSet;t.features.forEach(function(e){n.push(new c.default(new f.default(e.geometry),l.default.getCustomSymbol(),e.attributes))})}),n}}}),define("utils/request",["exports","esri/tasks/FindParameters","esri/tasks/QueryTask","esri/tasks/FindTask","esri/request","esri/tasks/query","dojo/Deferred","utils/geometryUtils"],function(e,t,n,r,i,s,o,u){"use strict";function v(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var a=v(t),f=v(n),l=v(r),c=v(i),h=v(s),p=v(o),d=v(u),m=function(t){return/\/dynamicLayer$/.test(t)},g={getLegendInfos:function(t,n){var r=new p.default;return(0,c.default)({url:t+"/legend",handleAs:"json",callbackParamName:"callback",content:{f:"json"}}).then(function(e){if(e&&e.layers&&e.layers.length>0){var t=e.layers.filter(function(e){return n.indexOf(e.layerId)>-1}),i=t.length===1?t[0].legend:t.map(function(e){return e.legend});r.resolve(i||[])}},function(e){console.error(e),r.resolve([])}),r},upload:function(t,n,r){return(0,c.default)({url:t,form:r,content:n,handleAs:"json"})},queryTaskById:function(t,n){var r=new f.default(t),i=new h.default;return i.objectIds=[n],i.outFields=["*"],i.returnGeometry=!0,i.maxAllowableOffset=0,r.execute(i)},queryTaskByGeometry:function(t,n){var r=new f.default(t),i=new h.default;return i.returnGeometry=!1,i.maxAllowableOffset=0,i.geometry=n,i.outFields=["*"],r.execute(i)},findTaskByLayer:function(t,n){var r=new l.default(n.url),i=new a.default;i.returnGeometry=!1,i.searchText=t;if(n.visibleLayers||n.layerObject&&n.layerObject.visibleLayers)i.layerIds=n.visibleLayers||n.layerObject.visibleLayers;return r.execute(i)},getRawGeometry:function(t){var n=new p.default,r=t._layer,i=r&&r._url&&r._url.path,s=t.attributes[r.objectIdField];if(m(i)&&r.source){var o={layer:JSON.stringify({source:{type:"mapLayer",mapLayerId:r.source.mapLayerId}}),objectIds:s,returnGeometry:!0,outFields:"*",f:"json"};(0,c.default)({url:i+"/query",handleAs:"json",callbackParamName:"callback",content:o}).then(function(e){e.features.length?n.resolve(d.default.generatePolygonInSr(e.features[0].geometry,102100)):n.resolve(t.geometry)},function(){n.resolve(t.geometry)})}else i?this.queryTaskById(i,s).then(function(e){e.features.length?n.resolve(e.features[0].geometry):n.resolve(t.geometry)},function(){n.resolve(t.geometry)}):n.resolve(t.geometry);return n}};e.default=g}),define("utils/charts",["exports","constants/AnalysisConstants"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var n=r(t);e.default={makeSimpleBarChart:function(t,n,r,i){var s=new Highcharts.Chart({chart:{renderTo:t,type:"bar"},title:{text:null},xAxis:{title:{text:null},categories:n,maxPadding:.5},yAxis:{title:{text:null}},tooltip:{useHTML:!0},series:i,colors:r,credits:{enabled:!1}})},makeCompositionPieChart:function(t,n,r){var i=r=r||t.clientWidth||290,s=new Highcharts.Chart({chart:{renderTo:t,type:"pie"},title:{text:null},plotOptions:{pie:{dataLabels:{enabled:!1},allowPointSelect:!0,showInLegend:!0,cursor:"pointer"}},legend:{enabled:!0,verticalAlign:"bottom",itemStyle:{width:i-20+"px"}},tooltip:{useHTML:!0},series:n,credits:{enabled:!1}})},makeRestorationBarChart:function(t,r,i){var s=new Highcharts.Chart({chart:{renderTo:t,type:"bar"},title:{text:r},xAxis:{title:{enabled:!1},labels:{enabled:!1}},yAxis:{reversedStacks:!1,title:{text:"Hectares (k = 1000)"}},plotOptions:{series:{stacking:"normal"}},tooltip:{valueSuffix:" (Ha)",useHTML:!0},series:i,credits:{enabled:!1},analysis:n.default.ANALYSIS_TYPE_RESTORATION})},makeSlopeBarChart:function(t,r,i,s,o){var u=function(t){var n=[],r=t.split(" "),i="";return r.forEach(function(e,t){i.length>20?(n.push(i+" "+e),i=""):(i=i+" "+e,r.length-1===t&&n.push(""+i))}),n[n.length-1]+=":",n.join("<br>")},a=new Highcharts.Chart({chart:{renderTo:t,type:"bar"},title:{text:null},xAxis:{categories:r,maxPadding:.5,title:{text:null}},yAxis:{title:{text:"Hectares (k = 1000)"}},tooltip:{useHTML:!0,valueSuffix:" (Ha)",formatter:function(){return u(s[this.point.index])+" <b>"+Highcharts.numberFormat(this.y,0)+" (Ha)</b>"}},plotOptions:{bar:{colorByPoint:!0,colors:i}},series:o,legend:{enabled:!1},credits:{enabled:!1},analysis:n.default.ANALYSIS_TYPE_SLOPE}),f=function(t){var n=document.querySelectorAll(t),r=void 0;for(var i=0;i<n.length;i++)r=document.createElement("title"),r.innerHTML=s[i],n[i].insertBefore(r,n[i].firstChild),n[i].innerHTML=n[i].innerHTML};t.id?f("#"+t.id+" .highcharts-xaxis-labels text"):(console.warn("Attempting to add tooltips, you should give this chart element an ID so this does not interfere with other charts."),f(".highcharts-xaxis-labels text"))},makeTotalLossBarChart:function(t,n,r,i,s){var o=s=s||t.clientWidth||290,u=new Highcharts.Chart({chart:{renderTo:t,type:"bar"},title:{text:null},xAxis:{categories:n,maxPadding:.5,title:{text:null}},yAxis:{reversedStacks:!1,stackLabels:{enabled:!0},title:{text:null}},legend:{enabled:!0,verticalAlign:"bottom",itemStyle:{width:o-20+"px"}},tooltip:{useHTML:!0},plotOptions:{series:{stacking:"normal"}},credits:{enabled:!1},series:i,colors:r})},formatSeriesWithEncoder:function(t){var n=t.Xs,r=t.Ys,i=t.encoder,s=t.labels,o=t.counts,u=t.colors,a=t.isSimple,f=[],l=[],c=void 0,h=void 0;if(a)f.push({name:s[0],data:o.slice(1)}),l.push(u[0]);else for(var p=0;p<r.length;p++){h=[];for(var d=0;d<n.length;d++)c=i.encode(n[d],r[p]),h.push(o[c]||0);h.some(function(e){return e!==0})&&(f.push({name:s[p],data:h}),l.push(u[p]))}return{series:f,colors:l}},formatCompositionAnalysis:function(t){var n=t.name,r=t.counts,i=t.labels,s=t.colors,o=[];return r.forEach(function(e,t){e&&o.push({color:s[t],name:i[t],y:e})}),[{type:"pie",name:n,data:o}]}}}),define("js/languages",["exports","constants/AnalysisConstants"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=undefined;var n=r(t),i='<svg class="svg-icon"><use xlink:href="#icon-draw-upload" /></svg>',s={en:{},fr:{},es:{},pt:{},id:{},zh:{}};s.en.LANG_EN="English",s.en.LANG_FR="French",s.en.LANG_ES="Spanish",s.en.LANG_PT="Portugese",s.en.LANG_ID="Indonesian",s.en.LANG_ZH="Mandarin",s.en.NAV_ABOUT="About",s.en.NAV_DOWNLOAD="Download Data",s.en.NAV_MAP_THEMES="Map Themes",s.en.NAV_MY_GFW="Log in to my GFW",s.en.NAV_LANGUAGE="Select Language",s.en.DOCS_INSTRUCTIONS="Select an area of interest to see if there are any related documents",s.en.DOCS_NOT_AVAILABLE="There are no documents available for this area",s.en.DOCS_TYPE="Type",s.en.DOCS_AUTHOR="Author",s.en.DOCS_YEAR="Year",s.en.DOCS_PDF="PDF",s.en.INFO_WINDOW_INSTRUCTION_HEADER="Select a shape on the map",s.en.INFO_WINDOW_INSTRUCTION_LIST=["Use the layers tab to turn on a data layer","Select a shape on the map"],s.en.ANALYSIS_INSTRUCTION_HEADER="Analyze a shape on the map",s.en.ANALYSIS_INSTRUCTION_LIST=["Use the layers tab to turn on a data layer","Select a shape on the map","Click on the analyze tab"],s.en.ANALYSIS_OR="Or",s.en.ANALYSIS_DRAW_HEADER="Analyze your own shape",s.en.ANALYSIS_DRAW_INSTRUCTIONS=["Choose the draw tool "+i+" in the toolbox","Draw a shape anywhere on the map","Select the shape to run the analysis"],s.en.ANALYSIS_DRAW_BUTTON="Start drawing",s.en.ANALYSIS_INSTRUCTION_ADDITIONAL="Add additional shapes in the future by visiting the draw tool "+i,s.en.ANALYSIS_SHAPEFILE_UPLOAD="or drop a custom shapefile here",s.en.ANALYSIS_SELECT_TYPE_LABEL="Select Analysis:",s.en.ANALYSIS_TC_CHART_NAME="Tree cover loss in Hectares",s.en.ANALYSIS_LCC_CHART_NAME="Land Cover Composition",s.en.ANALYSIS_IFL_LABELS=["Intact Forest"],s.en.ANALYSIS_FIRES_PRE="There are",s.en.ANALYSIS_FIRES_ACTIVE="active fires",s.en.ANALYSIS_FIRES_POST="in the last 7 days",s.en.ANALYSIS_TOTAL_LOSS_LABEL="Total tree cover loss",s.en.ANALYSIS_TOTAL_LOSS_RANGE="(2001 - 2014):",s.en.ANALYSIS_TOTAL_GAIN_LABEL="Total tree cover gained",s.en.ANALYSIS_TOTAL_GAIN_RANGE="(2001 - 2012):",s.en.ANALYSIS_SLOPE_OPTION="Option #",s.en.SLOPE_SELECT_LABEL="Choose slope percent:",s.en.ANALYSIS_RESTORATION_LC_LABELS=["No Data","Forestland","Grassland","Cropland","Wetland and Waterbodies","Settlement","Bare soil"],s.en.ANALYSIS_RESTORATION_ERROR="Area not meeting criteria for potential/No data",s.en.ANALYSIS_GROUP_RESTORATION="Restoration potential for",s.en.ANALYSIS_GROUP_SLOPE="Potential according to",s.en.ANALYSIS_GROUP_OTHER="Other analysis",s.en.ANALYSIS_SELECT_TYPE_OPTIONS=[{label:"Slope",value:n.default.SLOPE,group:n.default.ANALYSIS_GROUP_SLOPE},{label:"Total tree cover loss/gain",value:n.default.TC_LOSS_GAIN,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Tree cover loss",value:n.default.TC_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Land cover loss",value:n.default.LC_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Biomass loss",value:n.default.BIO_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Intact forest loss",value:n.default.INTACT_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Active fires",value:n.default.FIRES,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Land cover composition",value:n.default.LCC,group:n.default.ANALYSIS_GROUP_OTHER}],s.en.CANOPY_MODAL_TEXT="Adjust the minimum canopy density for tree cover and tree cover loss",s.en.DENSITY_FIRST="Displaying",s.en.DENSITY_SECOND="canopy density.",s.en.SEARCH_WIDGET_TITLE="Search for feature:",s.en.NO_INFO="No Information Available",s.en.OVERVIEW="Overview",s.en.CITATION="Citation",s.en.FUNCTION="function",s.en.RESOLUTION="resolution",s.en.GEO_COVERAGE="geographic coverage",s.en.SOURCE="source",s.en.FREQUENCY="frequency",s.en.CONTENT_DATE="date of content",s.en.CAUTIONS="cautions",s.en.LICENSE="license",s.en.LEARN_MORE="learn More",s.en.DOWNLOAD_DATA="download data",s.en.DESCRIPTION="description",s.en.PRINT_BUTTON_LABEL="Choose a print output",s.en.PRINT_REPORT="Print Report",s.en.SUBSCRIBE="Subscribe",s.en.LAYERS="Layers",s.en.DATA="Data",s.en.ANALYZE="Analyze",s.en.DOCS="Docs",s.en.NARRATIVE="Narrative",s.en.MORE="More",s.en.DELETE="Delete",s.en.DOCUMENTS="Documents",s.en.BASEMAP="Basemap",s.en.SELECT_ALL="Select all",s.en.CLEAR_ALL="Clear all",s.en.LEGEND="Legend",s.en.SEARCH="Search",s.en.TOOL_ZOOM_IN="Zoom In",s.en.TOOL_ZOOM_OUT="Zoom Out",s.en.TOOL_SHARE="Share",s.en.TOOL_PRINT="Print",s.en.TOOL_ANALYSIS="Analysis",s.en.TOOL_TOGGLE="Toggle Panel",s.en.TOOL_RESET="Reset",s.fr.LANG_EN="English",s.fr.LANG_FR="French",s.fr.LANG_ES="Spanish",s.fr.LANG_PT="Portugese",s.fr.LANG_ID="Indonesian",s.fr.LANG_ZH="Mandarin",s.fr.NAV_ABOUT="A Propos",s.fr.NAV_DOWNLOAD="Téléchargez les Données",s.fr.NAV_MAP_THEMES="Thèmes",s.fr.NAV_MY_GFW="Se connecter à GFW",s.fr.NAV_LANGUAGE="Choisir Langue",s.fr.DOCS_INSTRUCTIONS="Choisisez une région d'intérêt pour voir les documents associés",s.fr.DOCS_NOT_AVAILABLE="pas de documents disponibles pour cette région",s.fr.DOCS_TYPE="Type",s.fr.DOCS_AUTHOR="Auteur",s.fr.DOCS_YEAR="Année",s.fr.DOCS_PDF="PDF",s.fr.INFO_WINDOW_INSTRUCTION_HEADER="Sélectionnez un polygone sur la carte",s.fr.INFO_WINDOW_INSTRUCTION_LIST=["Utiliser l'onglet Couches pour activer une couche de données","Sélectionnez un polygone sur la carte"],s.fr.ANALYSIS_INSTRUCTION_HEADER="Analysez un polygone sur la carte",s.fr.ANALYSIS_INSTRUCTION_LIST=["Utilisez l'onglet Couches pour activer une couche de données","Sélectionnez une entité sur la carte","Cliquez sur l'onglet analyse"],s.fr.ANALYSIS_OR="Ou",s.fr.ANALYSIS_DRAW_HEADER="Analysez votre propre polygone",s.fr.ANALYSIS_DRAW_INSTRUCTIONS=["Utiliser l'outil dessin "+i+" dans la boîte à outil","Tracez un polygone sur la carte","Cliquez sur le polygone pour lancer l'analyse"],s.fr.ANALYSIS_DRAW_BUTTON="Débutez le dessin",s.fr.ANALYSIS_INSTRUCTION_ADDITIONAL="Ajouter des polygones supplémentaires grâce à l'outil dessin "+i,s.fr.ANALYSIS_SHAPEFILE_UPLOAD="ou glissez un shapefile ici",s.fr.ANALYSIS_SELECT_TYPE_LABEL="Choisissez le type d'analyse:",s.fr.ANALYSIS_TC_CHART_NAME="Perte de couvert arboré en Hectares",s.fr.ANALYSIS_LCC_CHART_NAME="Occupation du sol",s.fr.ANALYSIS_IFL_LABELS=["Forêts intactes"],s.fr.ANALYSIS_FIRES_PRE="Il y a",s.fr.ANALYSIS_FIRES_ACTIVE="feux actifs",s.fr.ANALYSIS_FIRES_POST="ces 7 derniers jours",s.fr.ANALYSIS_TOTAL_LOSS_LABEL="Total Perte en couvert arboré",s.fr.ANALYSIS_TOTAL_LOSS_RANGE="(2001 - 2014):",s.fr.ANALYSIS_TOTAL_GAIN_LABEL="Total Gain en couvert arboré",s.fr.ANALYSIS_TOTAL_GAIN_RANGE="(2001 - 2012):",s.fr.ANALYSIS_SLOPE_OPTION="Option #",s.fr.SLOPE_SELECT_LABEL="Choisissez la pente (%):",s.fr.ANALYSIS_RESTORATION_LC_LABELS=["Pas de données","Forêts","Prairies","Cultures","Milieux humides et eaux de surface","Lieux habités","Sols nus"],s.fr.ANALYSIS_RESTORATION_ERROR="Région ne correspondant pas aux critères/Pas de données",s.fr.ANALYSIS_GROUP_RESTORATION="Potentiel de restauration pour",s.fr.ANALYSIS_GROUP_SLOPE="Potentiel selon",s.fr.ANALYSIS_GROUP_OTHER="Autre analyse",s.fr.ANALYSIS_SELECT_TYPE_OPTIONS=[{label:"Pente",value:n.default.SLOPE,group:n.default.ANALYSIS_GROUP_SLOPE},{label:"Perte de couvert arboré",value:n.default.TC_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Total perte/gain de couvert arboré",value:n.default.TC_LOSS_GAIN,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Perte en occupation du sol",value:n.default.LC_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Perte en biomasse",value:n.default.BIO_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Perte en forêts intactes",value:n.default.INTACT_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Feux actifs",value:n.default.FIRES,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Occupation du sol",value:n.default.LCC,group:n.default.ANALYSIS_GROUP_OTHER}],s.fr.CANOPY_MODAL_TEXT="Ajuster la densité minimum de la canopée pour le couvert arboré et la perte en couvert arboré",s.fr.DENSITY_FIRST="Affichage",s.fr.DENSITY_SECOND="Densité de la canopée.",s.fr.SEARCH_WIDGET_TITLE="Recherche de polygones:",s.fr.NO_INFO="No Information Available",s.fr.OVERVIEW="Overview",s.fr.CITATION="Citation",s.fr.FUNCTION="function",s.fr.RESOLUTION="resolution",s.fr.GEO_COVERAGE="geographic coverage",s.fr.SOURCE="source",s.fr.FREQUENCY="frequency",s.fr.CONTENT_DATE="date of content",s.fr.CAUTIONS="cautions",s.fr.LICENSE="license",s.fr.LEARN_MORE="learn More",s.fr.DOWNLOAD_DATA="download data",s.fr.DESCRIPTION="description",s.fr.PRINT_BUTTON_LABEL="Choisissez un gabarit d'impression",s.fr.PRINT_REPORT="Imprimer le Rapport",s.fr.SUBSCRIBE="S'abonner",s.fr.LAYERS="Couches",s.fr.DATA="Données",s.fr.ANALYZE="Analyser",s.fr.DOCS="Documents",s.fr.NARRATIVE="Texte",s.fr.MORE="Plus",s.fr.DELETE="Supprimer",s.fr.DOCUMENTS="Documents",s.fr.BASEMAP="Basemap",s.fr.SELECT_ALL="Tout sélectionner",s.fr.CLEAR_ALL="Tout effacer",s.fr.LEGEND="Légende",s.fr.SEARCH="Chercher",s.fr.TOOL_ZOOM_IN="Zoom avant",s.fr.TOOL_ZOOM_OUT="Zoom arrière",s.fr.TOOL_SHARE="Partager",s.fr.TOOL_PRINT="Imprimer",s.fr.TOOL_ANALYSIS="Analyse",s.fr.TOOL_TOGGLE="Basculer panneau",s.fr.TOOL_RESET="Réinitialiser",s.es.LANG_EN="English",s.es.LANG_FR="French",s.es.LANG_ES="Spanish",s.es.LANG_PT="Portugese",s.es.LANG_ID="Indonesian",s.es.LANG_ZH="Mandarin",s.es.NAV_ABOUT="Acerca de",s.es.NAV_DOWNLOAD="Descargar Datos",s.es.NAV_MAP_THEMES="Temas",s.es.NAV_MY_GFW="Entrar a mi GFW",s.es.NAV_LANGUAGE="Seleccionar idioma",s.es.DOCS_INSTRUCTIONS="Seleccionar una área de interés para ver si haya algún documento relacionado",s.es.DOCS_NOT_AVAILABLE="No hay documentos disponibles para esta área",s.es.DOCS_TYPE="Tipo",s.es.DOCS_AUTHOR="Autor",s.es.DOCS_YEAR="Año",s.es.DOCS_PDF="PDF",s.es.INFO_WINDOW_INSTRUCTION_HEADER="Seleccionar un polígono en el mapa",s.es.INFO_WINDOW_INSTRUCTION_LIST=["Usar la pestaña de capas para encender una capa","Seleccionar un polígono en el mapa"],s.es.ANALYSIS_INSTRUCTION_HEADER="Analizar un polígono  en el mapa",s.es.ANALYSIS_INSTRUCTION_LIST=["Usar la pestaña de capas para encender una capa","Seleccionar un polígono en el mapa","Hacer clic en la pestaña de analizar"],s.es.ANALYSIS_OR="O",s.es.ANALYSIS_DRAW_HEADER="Analizar su propio polígono",s.es.ANALYSIS_DRAW_INSTRUCTIONS=["Escoger la herramienta de dibujo "+i+" en la caja de herramientas","Dibujar un polígono en cualquier lugar del mapa","Seleccionar el polígono para hacer el análisis"],s.es.ANALYSIS_DRAW_BUTTON="Empezar a dibujar",s.es.ANALYSIS_INSTRUCTION_ADDITIONAL="Añadir polígonos adicionales en el futuro usando la herramienta de dibujo "+i,s.es.ANALYSIS_SHAPEFILE_UPLOAD="o dejar un shapefile aquí",s.es.ANALYSIS_SELECT_TYPE_LABEL="Seleccionar Análisis:",s.es.ANALYSIS_TC_CHART_NAME="Pérdida de la cobertura arbórea (ha)",s.es.ANALYSIS_LCC_CHART_NAME="Composición de la cobertura del suelo",s.es.ANALYSIS_IFL_LABELS=["Bosque Intacto"],s.es.ANALYSIS_FIRES_PRE="Hay",s.es.ANALYSIS_FIRES_ACTIVE="incendios activos",s.es.ANALYSIS_FIRES_POST="en los últimos 7 días",s.es.ANALYSIS_TOTAL_LOSS_LABEL="Pérdida total de la cobertura arbórea",s.es.ANALYSIS_TOTAL_LOSS_RANGE="(2001 - 2014):",s.es.ANALYSIS_TOTAL_GAIN_LABEL="Ganancia total de la cobertura arbórea",s.es.ANALYSIS_TOTAL_GAIN_RANGE="(2001 - 2012):",s.es.ANALYSIS_SLOPE_OPTION="Opción #",s.es.SLOPE_SELECT_LABEL="Escoger porcentaje del pendiente:",s.es.ANALYSIS_RESTORATION_LC_LABELS=["Sin Datos","Bosque","Pradera","Cultivos","Humedales y Cuerpos de Agua","Asentamientos Humanos","Suelo Desnudo"],s.es.ANALYSIS_RESTORATION_ERROR="Área no coincide con los criterios/ Sin Datos",s.es.ANALYSIS_GROUP_RESTORATION="Potencial de restauración para",s.es.ANALYSIS_GROUP_SLOPE="Potencial según",s.es.ANALYSIS_GROUP_OTHER="Otro análisis",s.es.ANALYSIS_SELECT_TYPE_OPTIONS=[{label:"Pendiente",value:n.default.SLOPE,group:n.default.ANALYSIS_GROUP_SLOPE},{label:"Pérdida de la cobertura arbórea",value:n.default.TC_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Pérdida/ ganancia total de la cobertura arbórea",value:n.default.TC_LOSS_GAIN,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Pérdida de la cobertura del suelo",value:n.default.LC_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Pérdida de biomasa",value:n.default.BIO_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Paisajes Forestales Intactos",value:n.default.INTACT_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Incendios activos",value:n.default.FIRES,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Composición de la cobertura del suelo",value:n.default.LCC,group:n.default.ANALYSIS_GROUP_OTHER}],s.es.CANOPY_MODAL_TEXT="Ajustar el mínimo densidad del follaje para la cobertura arbórea y la pérdida de la cobertura arbórea",s.es.DENSITY_FIRST="Mostrando",s.es.DENSITY_SECOND="densidad de follaje.",s.es.SEARCH_WIDGET_TITLE="Buscar polígono:",s.es.NO_INFO="No Information Available",s.es.OVERVIEW="Overview",s.es.CITATION="Citation",s.es.FUNCTION="function",s.es.RESOLUTION="resolution",s.es.GEO_COVERAGE="geographic coverage",s.es.SOURCE="source",s.es.FREQUENCY="frequency",s.es.CONTENT_DATE="date of content",s.es.CAUTIONS="cautions",s.es.LICENSE="license",s.es.LEARN_MORE="learn More",s.es.DOWNLOAD_DATA="download data",s.es.DESCRIPTION="description",s.es.PRINT_BUTTON_LABEL="Elegir diseño de página",s.es.PRINT_REPORT="Imprimir Informe",s.es.SUBSCRIBE="Subscribirse",s.es.LAYERS="Capas",s.es.DATA="Datos",s.es.ANALYZE="Análisis",s.es.DOCS="Documentos",s.es.NARRATIVE="Narrativa",s.es.MORE="Más",s.es.DELETE="Eliminar",s.es.DOCUMENTS="Documentos",s.es.BASEMAP="Basemap",s.es.SELECT_ALL="Seleccionar Todo",s.es.CLEAR_ALL="Borrar Todo",s.es.LEGEND="Leyenda",s.es.SEARCH="Buscar",s.es.TOOL_ZOOM_IN="Acercar",s.es.TOOL_ZOOM_OUT="Alejar",s.es.TOOL_SHARE="Compartir",s.es.TOOL_PRINT="Imprimir",s.es.TOOL_ANALYSIS="Análisis",s.es.TOOL_TOGGLE="Alternar Pane",s.es.TOOL_RESET="Reajustar",s.pt.LANG_EN="English",s.pt.LANG_FR="French",s.pt.LANG_ES="Spanish",s.pt.LANG_PT="Portugese",s.pt.LANG_ID="Indonesian",s.pt.LANG_ZH="Mandarin",s.pt.NAV_ABOUT="About",s.pt.NAV_DOWNLOAD="Download Data",s.pt.NAV_MAP_THEMES="Map Themes",s.pt.NAV_MY_GFW="Log in to my GFW",s.pt.NAV_LANGUAGE="Select Language",s.pt.DOCS_INSTRUCTIONS="Select an area of interest to see if there are any related documents",s.pt.DOCS_NOT_AVAILABLE="There are no documents available for this area",s.pt.DOCS_TYPE="Type",s.pt.DOCS_AUTHOR="Author",s.pt.DOCS_YEAR="Year",s.pt.DOCS_PDF="PDF",s.pt.INFO_WINDOW_INSTRUCTION_HEADER="Select a shape on the map",s.pt.INFO_WINDOW_INSTRUCTION_LIST=["Use the layers tab to turn on a data layer","Select a shape on the map"],s.pt.ANALYSIS_INSTRUCTION_HEADER="Analyze a shape on the map",s.pt.ANALYSIS_INSTRUCTION_LIST=["Use the layers tab to turn on a data layer","Select a shape on the map","Click on the analyze tab"],s.pt.ANALYSIS_OR="Or",s.pt.ANALYSIS_DRAW_HEADER="Analyze your own shape",s.pt.ANALYSIS_DRAW_INSTRUCTIONS=["Choose the draw tool "+i+" in the toolbox","Draw a shape anywhere on the map","Select the shape to run the analysis"],s.pt.ANALYSIS_DRAW_BUTTON="Start drawing",s.pt.ANALYSIS_INSTRUCTION_ADDITIONAL="Add additional shapes in the future by visiting the draw tool "+i,s.pt.ANALYSIS_SHAPEFILE_UPLOAD="or drop a custom shapefile here",s.pt.ANALYSIS_SELECT_TYPE_LABEL="Select Analysis:",s.pt.ANALYSIS_TC_CHART_NAME="Tree cover loss in Hectares",s.pt.ANALYSIS_LCC_CHART_NAME="Land Cover Composition",s.pt.ANALYSIS_IFL_LABELS=["Intact Forest"],s.pt.ANALYSIS_FIRES_PRE="There are",s.pt.ANALYSIS_FIRES_ACTIVE="active fires",s.pt.ANALYSIS_FIRES_POST="in the last 7 days",s.pt.ANALYSIS_TOTAL_LOSS_LABEL="Total tree cover loss",s.pt.ANALYSIS_TOTAL_LOSS_RANGE="(2001 - 2014):",s.pt.ANALYSIS_TOTAL_GAIN_LABEL="Total tree cover gained",s.pt.ANALYSIS_TOTAL_GAIN_RANGE="(2001 - 2012):",s.pt.ANALYSIS_SLOPE_OPTION="Option #",s.pt.SLOPE_SELECT_LABEL="Choose slope percent:",s.pt.ANALYSIS_RESTORATION_LC_LABELS=["No Data","Forestland","Grassland","Cropland","Wetland and Waterbodies","Settlement","Bare soil"],s.pt.ANALYSIS_RESTORATION_ERROR="Area not meeting criteria for potential/No data",s.pt.ANALYSIS_GROUP_RESTORATION="Restoration potential for",s.pt.ANALYSIS_GROUP_SLOPE="Potential according to",s.pt.ANALYSIS_GROUP_OTHER="Other analysis",s.pt.ANALYSIS_SELECT_TYPE_OPTIONS=[{label:"Slope",value:n.default.SLOPE,group:n.default.ANALYSIS_GROUP_SLOPE},{label:"Tree cover loss",value:n.default.TC_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Total tree cover loss/gain",value:n.default.TC_LOSS_GAIN,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Land cover loss",value:n.default.LC_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Biomass loss",value:n.default.BIO_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Intact forest loss",value:n.default.INTACT_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Active fires",value:n.default.FIRES,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Land cover composition",value:n.default.LCC,group:n.default.ANALYSIS_GROUP_OTHER}],s.pt.CANOPY_MODAL_TEXT="Adjust the minimum canopy density for tree cover and tree cover loss",s.pt.DENSITY_FIRST="Displaying",s.pt.DENSITY_SECOND="canopy density.",s.pt.SEARCH_WIDGET_TITLE="Search for feature:",s.pt.NO_INFO="No Information Available",s.pt.OVERVIEW="Overview",s.pt.CITATION="Citation",s.pt.FUNCTION="function",s.pt.RESOLUTION="resolution",s.pt.GEO_COVERAGE="geographic coverage",s.pt.SOURCE="source",s.pt.FREQUENCY="frequency",s.pt.CONTENT_DATE="date of content",s.pt.CAUTIONS="cautions",s.pt.LICENSE="license",s.pt.LEARN_MORE="learn More",s.pt.DOWNLOAD_DATA="download data",s.pt.DESCRIPTION="description",s.pt.PRINT_BUTTON_LABEL="Choose a print output",s.pt.PRINT_REPORT="Print Report",s.pt.SUBSCRIBE="Subscribe",s.pt.LAYERS="Layers",s.pt.DATA="Data",s.pt.ANALYZE="Analyze",s.pt.DOCS="Docs",s.pt.NARRATIVE="Narrative",s.pt.MORE="More",s.pt.DELETE="Delete",s.pt.DOCUMENTS="Documents",s.pt.BASEMAP="Basemap",s.pt.SELECT_ALL="select all",s.pt.CLEAR_ALL="clear all",s.pt.LEGEND="Legend",s.pt.SEARCH="Search",s.pt.TOOL_ZOOM_IN="Zoom In",s.pt.TOOL_ZOOM_OUT="Zoom Out",s.pt.TOOL_SHARE="Share",s.pt.TOOL_PRINT="Print",s.pt.TOOL_ANALYSIS="Analysis",s.pt.TOOL_TOGGLE="Toggle Panel",s.pt.TOOL_RESET="Reset",s.id.LANG_EN="English",s.id.LANG_FR="French",s.id.LANG_ES="Spanish",s.id.LANG_PT="Portugese",s.id.LANG_ID="Indonesian",s.id.LANG_ZH="Mandarin",s.id.NAV_ABOUT="About",s.id.NAV_DOWNLOAD="Download Data",s.id.NAV_MAP_THEMES="Map Themes",s.id.NAV_MY_GFW="Log in to my GFW",s.id.NAV_LANGUAGE="Select Language",s.id.DOCS_INSTRUCTIONS="Select an area of interest to see if there are any related documents",s.id.DOCS_NOT_AVAILABLE="There are no documents available for this area",s.id.DOCS_TYPE="Type",s.id.DOCS_AUTHOR="Author",s.id.DOCS_YEAR="Year",s.id.DOCS_PDF="PDF",s.id.INFO_WINDOW_INSTRUCTION_HEADER="Select a shape on the map",s.id.INFO_WINDOW_INSTRUCTION_LIST=["Use the layers tab to turn on a data layer","Select a shape on the map"],s.id.ANALYSIS_INSTRUCTION_HEADER="Analyze a shape on the map",s.id.ANALYSIS_INSTRUCTION_LIST=["Use the layers tab to turn on a data layer","Select a shape on the map","Click on the analyze tab"],s.id.ANALYSIS_OR="Or",s.id.ANALYSIS_DRAW_HEADER="Analyze your own shape",s.id.ANALYSIS_DRAW_INSTRUCTIONS=["Choose the draw tool "+i+" in the toolbox","Draw a shape anywhere on the map","Select the shape to run the analysis"],s.id.ANALYSIS_DRAW_BUTTON="Start drawing",s.id.ANALYSIS_INSTRUCTION_ADDITIONAL="Add additional shapes in the future by visiting the draw tool "+i,s.id.ANALYSIS_SHAPEFILE_UPLOAD="or drop a custom shapefile here",s.id.ANALYSIS_SELECT_TYPE_LABEL="Select Analysis:",s.id.ANALYSIS_TC_CHART_NAME="Tree cover loss in Hectares",s.id.ANALYSIS_LCC_CHART_NAME="Land Cover Composition",s.id.ANALYSIS_IFL_LABELS=["Intact Forest"],s.id.ANALYSIS_FIRES_PRE="There are",s.id.ANALYSIS_FIRES_ACTIVE="active fires",s.id.ANALYSIS_FIRES_POST="in the last 7 days",s.id.ANALYSIS_TOTAL_LOSS_LABEL="Total tree cover loss",s.id.ANALYSIS_TOTAL_LOSS_RANGE="(2001 - 2014):",s.id.ANALYSIS_TOTAL_GAIN_LABEL="Total tree cover gained",s.id.ANALYSIS_TOTAL_GAIN_RANGE="(2001 - 2012):",s.id.ANALYSIS_SLOPE_OPTION="Option #",s.id.SLOPE_SELECT_LABEL="Choose slope percent:",s.id.ANALYSIS_RESTORATION_LC_LABELS=["No Data","Forestland","Grassland","Cropland","Wetland and Waterbodies","Settlement","Bare soil"],s.id.ANALYSIS_RESTORATION_ERROR="Area not meeting criteria for potential/No data",s.id.ANALYSIS_GROUP_RESTORATION="Restoration potential for",s.id.ANALYSIS_GROUP_SLOPE="Potential according to",s.id.ANALYSIS_GROUP_OTHER="Other analysis",s.id.ANALYSIS_SELECT_TYPE_OPTIONS=[{label:"Slope",value:n.default.SLOPE,group:n.default.ANALYSIS_GROUP_SLOPE},{label:"Tree cover loss",value:n.default.TC_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Total tree cover loss/gain",value:n.default.TC_LOSS_GAIN,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Land cover loss",value:n.default.LC_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Biomass loss",value:n.default.BIO_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Intact forest loss",value:n.default.INTACT_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Active fires",value:n.default.FIRES,group:n.default.ANALYSIS_GROUP_OTHER},{label:"Land cover composition",value:n.default.LCC,group:n.default.ANALYSIS_GROUP_OTHER}],s.id.CANOPY_MODAL_TEXT="Adjust the minimum canopy density for tree cover and tree cover loss",s.id.DENSITY_FIRST="Displaying",s.id.DENSITY_SECOND="canopy density.",s.id.SEARCH_WIDGET_TITLE="Search for feature:",s.id.NO_INFO="No Information Available",s.id.OVERVIEW="Overview",s.id.CITATION="Citation",s.id.FUNCTION="function",s.id.RESOLUTION="resolution",s.id.GEO_COVERAGE="geographic coverage",s.id.SOURCE="source",s.id.FREQUENCY="frequency",s.id.CONTENT_DATE="date of content",s.id.CAUTIONS="cautions",s.id.LICENSE="license",s.id.LEARN_MORE="learn More",s.id.DOWNLOAD_DATA="download data",s.id.DESCRIPTION="description",s.id.PRINT_BUTTON_LABEL="Choose a print output",s.id.PRINT_REPORT="Print Report",s.id.SUBSCRIBE="Subscribe",s.id.LAYERS="Layers",s.id.DATA="Data",s.id.ANALYZE="Analyze",s.id.DOCS="Docs",s.id.NARRATIVE="Narrative",s.id.MORE="More",s.id.DELETE="Delete",s.id.DOCUMENTS="Documents",s.id.BASEMAP="Basemap",s.id.SELECT_ALL="select all",s.id.CLEAR_ALL="clear all",s.id.LEGEND="Legend",s.id.SEARCH="Search",s.id.TOOL_ZOOM_IN="Zoom In",s.id.TOOL_ZOOM_OUT="Zoom Out",s.id.TOOL_SHARE="Share",s.id.TOOL_PRINT="Print",s.id.TOOL_ANALYSIS="Analysis",s.id.TOOL_TOGGLE="Toggle Panel",s.id.TOOL_RESET="Reset",s.zh.LANG_EN="English",s.zh.LANG_FR="French",s.zh.LANG_ES="Spanish",s.zh.LANG_PT="Portugese",s.zh.LANG_ID="Indonesian",s.zh.LANG_ZH="Mandarin",s.zh.NAV_ABOUT="关于",s.zh.NAV_DOWNLOAD="下载数据",s.zh.NAV_MAP_THEMES="地图图集",s.zh.NAV_MY_GFW="登录我的GFW",s.zh.NAV_LANGUAGE="选择语言",s.zh.DOCS_INSTRUCTIONS="选择感兴趣区域来查看相关文件",s.zh.DOCS_NOT_AVAILABLE="此区域没有相关文件",s.zh.DOCS_TYPE="类别",s.zh.DOCS_AUTHOR="作者",s.zh.DOCS_YEAR="年份",s.zh.DOCS_PDF="PDF",s.zh.INFO_WINDOW_INSTRUCTION_HEADER="在地图上选择图形",s.zh.INFO_WINDOW_INSTRUCTION_LIST=["使用图层键来打开图层","在地图上选择图形"],s.zh.ANALYSIS_INSTRUCTION_HEADER="分析地图上的图形",s.zh.ANALYSIS_INSTRUCTION_LIST=["使用图层键来打开图层","在地图上选择一个图形","点击分析键"],s.zh.ANALYSIS_OR="或者",s.zh.ANALYSIS_DRAW_HEADER="分析自定义图形",s.zh.ANALYSIS_DRAW_INSTRUCTIONS=["在工具箱里选择一个绘画工具 "+i,"在地图上任意地方画一个图形","选择进行分析的图形"],s.zh.ANALYSIS_DRAW_BUTTON="开始绘画",s.zh.ANALYSIS_INSTRUCTION_ADDITIONAL="使用绘画工具来添加更多图形 "+i,s.zh.ANALYSIS_SHAPEFILE_UPLOAD="或者在这里添加自定义地理信息系统文件（shapefile）",s.zh.ANALYSIS_SELECT_TYPE_LABEL="选择分析方式：",s.zh.ANALYSIS_TC_CHART_NAME="森林覆盖损失（单位：公顷）",s.zh.ANALYSIS_LCC_CHART_NAME="土地覆盖组成",s.zh.ANALYSIS_IFL_LABELS=["原生森林"],s.zh.ANALYSIS_FIRES_PRE="共计",s.zh.ANALYSIS_FIRES_ACTIVE="活跃火点",s.zh.ANALYSIS_FIRES_POST="在过去7天里",s.zh.ANALYSIS_TOTAL_LOSS_LABEL="总森林覆盖损失",s.zh.ANALYSIS_TOTAL_LOSS_RANGE="(2001 - 2014):",s.zh.ANALYSIS_TOTAL_GAIN_LABEL="总森林覆盖增加",s.zh.ANALYSIS_TOTAL_GAIN_RANGE="(2001 - 2012):",s.zh.ANALYSIS_SLOPE_OPTION="选项 #",s.zh.SLOPE_SELECT_LABEL="选择倾斜度：",s.zh.ANALYSIS_RESTORATION_LC_LABELS=["无数据","林地","草地","农田","湿地和水体","建筑","裸地"],s.zh.ANALYSIS_RESTORATION_ERROR="无数据 或者 区域不满足条件",s.zh.ANALYSIS_GROUP_RESTORATION="在生态修复可能性的层面",s.zh.ANALYSIS_GROUP_SLOPE="可能性原因",s.zh.ANALYSIS_GROUP_OTHER="其他分析",s.zh.ANALYSIS_SELECT_TYPE_OPTIONS=[{label:"倾斜度",value:n.default.SLOPE,group:n.default.ANALYSIS_GROUP_SLOPE},{label:"森林覆盖损失",value:n.default.TC_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"总森林覆盖损失或增加",value:n.default.TC_LOSS_GAIN,group:n.default.ANALYSIS_GROUP_OTHER},{label:"土地覆盖损失",value:n.default.LC_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"生物量损失",value:n.default.BIO_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"原生林损失",value:n.default.INTACT_LOSS,group:n.default.ANALYSIS_GROUP_OTHER},{label:"活跃火点",value:n.default.FIRES,group:n.default.ANALYSIS_GROUP_OTHER},{label:"土地覆盖组成",value:n.default.LCC,group:n.default.ANALYSIS_GROUP_OTHER}],s.zh.CANOPY_MODAL_TEXT="对森林覆盖和森林覆盖损失图层调试最低林冠覆盖密度",s.zh.DENSITY_FIRST="显示中",s.zh.DENSITY_SECOND="林冠覆盖密度",s.zh.SEARCH_WIDGET_TITLE="搜寻特征：",s.zh.NO_INFO="No Information Available",s.zh.OVERVIEW="Overview",s.zh.CITATION="Citation",s.zh.FUNCTION="function",s.zh.RESOLUTION="resolution",s.zh.GEO_COVERAGE="geographic coverage",s.zh.SOURCE="source",s.zh.FREQUENCY="frequency",s.zh.CONTENT_DATE="date of content",s.zh.CAUTIONS="cautions",s.zh.LICENSE="license",s.zh.LEARN_MORE="learn More",s.zh.DOWNLOAD_DATA="download data",s.zh.DESCRIPTION="description",s.zh.PRINT_BUTTON_LABEL="选择打印模板",s.zh.PRINT_REPORT="打印报告",s.zh.SUBSCRIBE="订阅",s.zh.SEARCH="搜寻",s.zh.LAYERS="图层",s.zh.DATA="数据",s.zh.ANALYZE="分析",s.zh.DOCS="文本文件",s.zh.NARRATIVE="说明",s.zh.MORE="更多",s.zh.DELETE="删除",s.zh.DOCUMENTS="文件",s.zh.BASEMAP="Basemap",s.zh.SELECT_ALL="全选",s.zh.CLEAR_ALL="全部清除",s.zh.LEGEND="图例",s.zh.SEARCH="搜索",s.zh.TOOL_ZOOM_IN="放大",s.zh.TOOL_ZOOM_OUT="缩小",s.zh.TOOL_SHARE="分享",s.zh.TOOL_PRINT="打印",s.zh.TOOL_ANALYSIS="分析",s.zh.TOOL_TOGGLE="控制面板",s.zh.TOOL_RESET="重置",e.default=s}),define("report/report",["exports","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ImageParameters","constants/AnalysisConstants","utils/performAnalysis","constants/LayerConstants","esri/geometry/Polygon","utils/params","js/config","esri/request","utils/AppUtils","dojo/date/locale","dojo/Deferred","utils/symbols","utils/request","dojo/promise/all","esri/graphic","resources","utils/charts","dojo/number","js/languages","esri/map"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E){"use strict";function R(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var S=R(t),x=R(n),T=R(r),N=R(i),C=R(s),k=R(o),L=R(f),A=R(l),O=R(c),M=R(h),_=R(p),D=R(d),P=R(v),H=R(m),B=R(g),j=R(y),F=R(b),I=R(w),q=R(E),U=void 0,z=function(t){return(0,L.default)({url:"http://www.arcgis.com/sharing/rest/content/items/"+t+"/data?f=json",callbackParamName:"callback"})},W=function(t){var n=t.webmap,r=new M.default;return n?z(n).then(function(e){r.resolve({webmap:e}),brApp.debug&&console.log("getApplicationInfo.webmap: ",e)}):r.reject({error:new Error("Missing Webmap Id. We need atleast one.")}),r},X=function(){return localStorage?JSON.parse(localStorage.getItem("custom-feature")):undefined},V=function(t){var n=t.idvalue,r=t.service,i=t.layerid,s=X(),o=new M.default;return n&&r&&i?D.default.queryTaskById(r+"//"+i,n).then(function(e){var t=e.features[0];t?o.resolve({attributes:t.attributes,geometry:t.geometry,title:t.attributes[e.displayFieldName]}):o.reject({error:new Error("Unable to query for feature. Check the configuration.")}),brApp.debug&&console.log("getFeature: ",e)}):s?o.resolve({attributes:s.attributes,geometry:s.geometry,title:s.title,isCustom:!0}):o.reject({error:new Error("Unable to retrieve feature.")}),o},$=function(t){var n=t.basemap;U=new q.default("map",{center:[-8.086,21.085],basemap:n||"topo",slider:!1,logo:!1,zoom:2}),U.on("load",function(){U.disableKeyboardNavigation(),U.disableMapNavigation(),U.disableRubberBandZoom(),U.disablePan()})},J=function(t,n){var r=document.createElement("dl"),i=document.createElement("dt"),s=document.createElement("dd");return i.innerHTML=t,s.innerHTML=n,r.appendChild(i),r.appendChild(s),r},K=function(t,n){var r=t.service,i=t.visibleLayers,s=new H.default(new k.default(n.geometry),_.default.getCustomSymbol());U.setExtent(s.geometry.getExtent(),!0),U.graphics.add(s);if(r){var o=new x.default;i&&(o.layerOption=x.default.LAYER_OPTION_SHOW,o.layerIds=[i]),o.format="png32";var u=new S.default(r,{imageParameters:o,opacity:.8});U.addLayer(u)}},Q=function(t){var n=t.title,r=t.subtitle,i=t.logoUrl,s=t.logoLinkUrl;document.getElementById("report-title").innerHTML=n,document.getElementById("report-subtitle").innerHTML=r,document.getElementById("logo").setAttribute("src",i),document.getElementById("logo-anchor").setAttribute("href",s)},G=function(t,n,r){var i=t.layerName,s=t.layerid,o=r.operationalLayers;if(n.isCustom)document.getElementById("feature-title").innerHTML=n.title;else{var u=o.filter(function(e){return i.search(e.id)>-1})[0],a=u.layers?u.layers.filter(function(e){return e.id===+s})[0]:u;a&&function(){var e=a.popupInfo.title.replace(/{.*}/,n.title||"N/A"),t=document.createDocumentFragment();a.popupInfo.fieldInfos.filter(function(e){return e.visible}).forEach(function(e){var r=n.attributes[e.fieldName];e.format&&e.format.dateFormat?r=O.default.format(new Date(r)):e.format&&e.format.places!==undefined&&(r=F.default.format(r,e.format)),t.appendChild(J(e.label,r))}),brApp.debug&&console.log("Popup info: ",a.popupInfo),document.getElementById("feature-title").innerHTML=e,document.getElementById("popup-content").appendChild(t)}()}},Y=function(t,n){var r=a.analysisConfig[T.default.TC_LOSS].labels,i=t.tcd,s=t.lang;(0,N.default)({type:T.default.TC_LOSS_GAIN,geometry:n.geometry,settings:B.default,canopyDensity:i,language:s}).then(function(e){var t=e.lossCounts.reduce(function(e,t){return e+t},0),n=e.gainCounts.reduce(function(e,t){return e+t},0),i=I.default[s].ANALYSIS_TC_CHART_NAME,o=a.analysisConfig[T.default.TC_LOSS].colors,u=document.getElementById("tc-loss"),f=[{name:i,data:e.lossCounts}];j.default.makeSimpleBarChart(u,r,o,f),document.querySelector("#total-loss-badge .results__loss-gain--label").innerHTML=I.default[s].ANALYSIS_TOTAL_LOSS_LABEL,document.querySelector("#total-loss-badge .results__loss-gain--range").innerHTML=I.default[s].ANALYSIS_TOTAL_LOSS_RANGE,document.querySelector(".results__loss--count").innerHTML=t,document.getElementById("total-loss-badge").classList.remove("hidden"),document.querySelector("#total-gain-badge .results__loss-gain--label").innerHTML=I.default[s].ANALYSIS_TOTAL_GAIN_LABEL,document.querySelector("#total-gain-badge .results__loss-gain--range").innerHTML=I.default[s].ANALYSIS_TOTAL_GAIN_RANGE,document.querySelector(".results__gain--count").innerHTML=n,document.getElementById("total-gain-badge").classList.remove("hidden")}),(0,N.default)({type:T.default.LC_LOSS,geometry:n.geometry,settings:B.default,canopyDensity:i,language:s}).then(function(e){var t=A.default.getObject(B.default.layers[s],"id",C.default.LAND_COVER),n=t.colors,i=t.classes,o=document.getElementById("lc-loss"),u=e.counts,a=e.encoder,f=a.A,l=a.B,c=j.default.formatSeriesWithEncoder({colors:n,encoder:a,counts:u,labels:i,Xs:f,Ys:l});j.default.makeTotalLossBarChart(o,r,c.colors,c.series)}),(0,N.default)({type:T.default.BIO_LOSS,geometry:n.geometry,settings:B.default,canopyDensity:i,language:s}).then(function(e){var t=a.analysisConfig[T.default.BIO_LOSS],n=t.labels,i=t.colors,s=document.getElementById("bio-loss"),o=e.counts,u=e.encoder,f=u.A,l=u.B,c=j.default.formatSeriesWithEncoder({encoder:u,counts:o,labels:n,colors:i,Xs:f,Ys:l});j.default.makeTotalLossBarChart(s,r,c.colors,c.series)}),(0,N.default)({type:T.default.INTACT_LOSS,geometry:n.geometry,settings:B.default,canopyDensity:i,language:s}).then(function(e){var t=a.analysisConfig[T.default.INTACT_LOSS].colors,n=I.default[s].ANALYSIS_IFL_LABELS,i=document.getElementById("intact-loss"),o=e.counts,u=e.encoder,f=u.A,l=u.B,c=j.default.formatSeriesWithEncoder({colors:t,encoder:u,counts:o,labels:n,isSimple:!0,Xs:f,Ys:l});j.default.makeTotalLossBarChart(i,r,c.colors,c.series)}),(0,N.default)({type:T.default.LCC,geometry:n.geometry,settings:B.default,canopyDensity:i,language:s}).then(function(e){var t=A.default.getObject(B.default.layers[s],"id",C.default.LAND_COVER),n=document.getElementById("lc-composition"),r=j.default.formatCompositionAnalysis({colors:t.colors,name:I.default[s].ANALYSIS_LCC_CHART_NAME,labels:t.classes,counts:e.counts});j.default.makeCompositionPieChart(n,r)}),(0,N.default)({type:T.default.FIRES,geometry:n.geometry,settings:B.default,canopyDensity:i,language:s}).then(function(e){document.querySelector(".results__fires-pre").innerHTML=I.default[s].ANALYSIS_FIRES_PRE,document.querySelector(".results__fires-count").innerHTML=e.fireCount,document.querySelector(".results__fires-active").innerHTML=I.default[s].ANALYSIS_FIRES_ACTIVE,document.querySelector(".results__fires-post").innerHTML=I.default[s].ANALYSIS_FIRES_POST,document.getElementById("fires-badge").classList.remove("hidden")})};e.default={run:function(){var t=(0,u.getUrlParams)(location.href);brApp.debug&&console.log(t),Q(t),$(t),(0,P.default)({feature:V(t),info:W(t)}).always(function(e){if(e.error)throw e.error;var n=e.feature,r=e.info;G(t,n,r.webmap),U.loaded?K(t,n):U.on("load",function(){K(t,n)});if(n.geometry.type!==T.default.GEOMETRY_POLYGON)return;window.highchartsPromise.isResolved()?Y(t,n):window.highchartsPromise.then(function(){Y(t,n)})})}}}),function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){(function(t){"use strict";if(t._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");t._babelPolyfill=!0,e("core-js/shim"),e("regenerator/runtime")}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"core-js/shim":72,"regenerator/runtime":73}],2:[function(e,t,n){"use strict";var r=e("./$");t.exports=function(e){return function(t){var n=r.toObject(this),i=r.toLength(n.length),s=r.toIndex(arguments[1],i),o;if(e&&t!=t)while(i>s){o=n[s++];if(o!=o)return!0}else for(;i>s;s++)if(e||s in n)if(n[s]===t)return e||s;return!e&&-1}}},{"./$":16}],3:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.ctx");t.exports=function(e){var t=e==1,n=e==2,s=e==3,o=e==4,u=e==6,a=e==5||u;return function(f){var l=Object(r.assertDefined(this)),c=r.ES5Object(l),h=i(f,arguments[1],3),p=r.toLength(c.length),d=0,v=t?Array(p):n?[]:undefined,m,g;for(;p>d;d++)if(a||d in c){m=c[d],g=h(m,d,l);if(e)if(t)v[d]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return d;case 2:v.push(m)}else if(o)return!1}return u?-1:s||o?o:v}}},{"./$":16,"./$.ctx":10}],4:[function(e,t,n){function i(e,t,n){if(!e)throw TypeError(n?t+n:t)}var r=e("./$");i.def=r.assertDefined,i.fn=function(e){if(!r.isFunction(e))throw TypeError(e+" is not a function!");return e},i.obj=function(e){if(!r.isObject(e))throw TypeError(e+" is not an object!");return e},i.inst=function(e,t,n){if(e instanceof t)return e;throw TypeError(n+": use the 'new' operator!")},t.exports=i},{"./$":16}],5:[function(e,t,n){var r=e("./$");t.exports=Object.assign||function(t,n){var i=Object(r.assertDefined(t)),s=arguments.length,o=1;while(s>o){var u=r.ES5Object(arguments[o++]),a=r.getKeys(u),f=a.length,l=0,c;while(f>l)i[c=a[l++]]=u[c]}return i}},{"./$":16}],6:[function(e,t,n){function o(e){return s.call(e).slice(8,-1)}var r=e("./$"),i=e("./$.wks")("toStringTag"),s={}.toString;o.classof=function(e){var t,n;return e==undefined?e===undefined?"Undefined":"Null":typeof (n=(t=Object(e))[i])=="string"?n:o(t)},o.set=function(e,t,n){e&&!r.has(e=n?e:e.prototype,i)&&r.hide(e,i,t)},t.exports=o},{"./$":16,"./$.wks":27}],7:[function(e,t,n){"use strict";function E(e,t){if(!l(e))return(typeof e=="string"?"S":"P")+e;if(p(e))return"F";if(!a(e,d)){if(!t)return"E";c(e,d,++w)}return"O"+e[d]}function S(e,t){var n=E(t),r;if(n!="F")return e[v][n];for(r=e[g];r;r=r.n)if(r.k==t)return r}var r=e("./$"),i=e("./$.ctx"),s=e("./$.uid").safe,o=e("./$.assert"),u=e("./$.iter"),a=r.has,f=r.set,l=r.isObject,c=r.hide,h=u.step,p=Object.isFrozen||r.core.Object.isFrozen,d=s("id"),v=s("O1"),m=s("last"),g=s("first"),y=s("iter"),b=r.DESC?s("size"):"size",w=0;t.exports={getConstructor:function(e,t,n){function s(i){var a=o.inst(this,s,e);f(a,v,r.create(null)),f(a,b,0),f(a,m,undefined),f(a,g,undefined),i!=undefined&&u.forOf(i,t,a[n],a)}return r.mix(s.prototype,{clear:function(){for(var t=this,n=t[v],r=t[g];r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=undefined),delete n[r.i];t[g]=t[m]=undefined,t[b]=0},"delete":function(e){var t=this,n=S(t,e);if(n){var r=n.n,i=n.p;delete t[v][n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t[g]==n&&(t[g]=r),t[m]==n&&(t[m]=i),t[b]--}return!!n},forEach:function(t){var n=i(t,arguments[1],3),r;while(r=r?r.n:this[g]){n(r.v,r.k,this);while(r&&r.r)r=r.p}},has:function(t){return!!S(this,t)}}),r.DESC&&r.setDesc(s.prototype,"size",{get:function(){return o.def(this[b])}}),s},def:function(e,t,n){var r=S(e,t),i,s;return r?r.v=n:(e[m]=r={i:s=E(t,!0),k:t,v:n,p:i=e[m],n:undefined,r:!1},e[g]||(e[g]=r),i&&(i.n=r),e[b]++,s!="F"&&(e[v][s]=r)),e},getEntry:S,getIterConstructor:function(){return function(e,t){f(this,y,{o:e,k:t})}},next:function(){var e=this[y],t=e.k,n=e.l;while(n&&n.r)n=n.p;return!e.o||!(e.l=n=n?n.n:e.o[g])?(e.o=undefined,h(1)):t=="key"?h(0,n.k):t=="value"?h(0,n.v):h(0,[n.k,n.v])}}},{"./$":16,"./$.assert":4,"./$.ctx":10,"./$.iter":15,"./$.uid":25}],8:[function(e,t,n){"use strict";function y(e,t){return m.call(e.array,function(e){return e[0]===t})}function b(e){return e[d]||f(e,d,{array:[],get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.array.push([e,t])},"delete":function(e){var t=g.call(this.array,function(t){return t[0]===e});return~t&&this.array.splice(t,1),!!~t}})[d]}var r=e("./$"),i=e("./$.uid").safe,s=e("./$.assert"),o=e("./$.iter").forOf,u=r.has,a=r.isObject,f=r.hide,l=Object.isFrozen||r.core.Object.isFrozen,c=0,h=i("id"),p=i("weak"),d=i("leak"),v=e("./$.array-methods"),m=v(5),g=v(6);t.exports={getConstructor:function(e,t,n){function i(u){r.set(s.inst(this,i,e),h,c++),u!=undefined&&o(u,t,this[n],this)}return r.mix(i.prototype,{"delete":function(e){return a(e)?l(e)?b(this)["delete"](e):u(e,p)&&u(e[p],this[h])&&delete e[p][this[h]]:!1},has:function(t){return a(t)?l(t)?b(this).has(t):u(t,p)&&u(t[p],this[h]):!1}}),i},def:function(e,t,n){return l(s.obj(t))?b(e).set(t,n):(u(t,p)||f(t,p,{}),t[p][e[h]]=n),e},leakStore:b,WEAK:p,ID:h}},{"./$":16,"./$.array-methods":3,"./$.assert":4,"./$.iter":15,"./$.uid":25}],9:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.def"),s=e("./$.iter"),o=e("./$.assert").inst;t.exports=function(t,n,u,a,f){function v(e,t){var n=p[e];r.FW&&(p[e]=function(e,r){var i=n.call(this,e===0?0:e,r);return t?this:i})}var l=r.g[t],c=l,h=a?"set":"add",p=c&&c.prototype,d={};if(!r.isFunction(c)||!(f||!s.BUGGY&&p.forEach&&p.entries))c=u.getConstructor(t,a,h),r.mix(c.prototype,n);else{var m=new c,g=m[h](f?{}:0,1),y;e("./$.iter-detect")(function(e){new c(e)})||(c=function(e){o(this,c,t);var n=new l;return e!=undefined&&s.forOf(e,a,n[h],n),n},c.prototype=p,r.FW&&(p.constructor=c)),f||m.forEach(function(e,t){y=1/t===-Infinity}),y&&(v("delete"),v("has"),a&&v("get")),(y||g!==m)&&v(h,!0)}return e("./$.cof").set(c,t),e("./$.species")(c),d[t]=c,i(i.G+i.W+i.F*(c!=l),d),f||s.std(c,t,u.getIterConstructor(),u.next,a?"key+value":"value",!a,!0),c}},{"./$":16,"./$.assert":4,"./$.cof":6,"./$.def":11,"./$.iter":15,"./$.iter-detect":14,"./$.species":22}],10:[function(e,t,n){var r=e("./$.assert").fn;t.exports=function(e,t,n){r(e);if(~n&&t===undefined)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{"./$.assert":4}],11:[function(e,t,n){function u(e,t){return function(){return e.apply(t,arguments)}}function a(e,t,n){var f,l,c,h,p=e&a.G,d=p?i:e&a.S?i[t]:(i[t]||{}).prototype,v=p?s:s[t]||(s[t]={});p&&(n=t);for(f in n)l=!(e&a.F)&&d&&f in d,c=(l?d:n)[f],e&a.B&&l?h=u(c,i):h=e&a.P&&o(c)?u(Function.call,c):c,d&&!l&&(p?d[f]=c:delete d[f]&&r.hide(d,f,c)),v[f]!=c&&r.hide(v,f,h)}var r=e("./$"),i=r.g,s=r.core,o=r.isFunction;i.core=s,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,t.exports=a},{"./$":16}],12:[function(e,t,n){t.exports=function(e){return e.FW=!0,e.path=e.g,e}},{}],13:[function(e,t,n){t.exports=function(e,t,n){var r=n===undefined;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);case 5:return r?e(t[0],t[1],t[2],t[3],t[4]):e.call(n,t[0],t[1],t[2],t[3],t[4])}return e.apply(n,t)}},{}],14:[function(e,t,n){var r=e("./$.wks")("iterator"),i=!1;try{var s=[7][r]();s["return"]=function(){i=!0},Array.from(s,function(){throw 2})}catch(o){}t.exports=function(e){if(!i)return!1;var t=!1;try{var n=[7],s=n[r]();s.next=function(){t=!0},n[r]=function(){return s},e(n)}catch(o){}return t}},{"./$.wks":27}],15:[function(e,t,n){"use strict";function p(e,t){r.hide(e,a,t),f in[]&&r.hide(e,f,t)}function d(e,t,n,i){var o=e.prototype,u=o[a]||o[f]||i&&o[i]||n;r.FW&&p(o,u);if(u!==n){var c=r.getProto(u.call(new e));s.set(c,t+" Iterator",!0),r.FW&&r.has(o,f)&&p(c,r.that)}return l[t]=u,l[t+" Iterator"]=r.that,u}function v(e){var t=r.g.Symbol,n=e[t&&t.iterator||f],i=n||e[a]||l[s.classof(e)];return u(i.call(e))}function m(e){var t=e["return"];t!==undefined&&u(t.call(e))}function g(e,t,n,r){try{return r?t(u(n)[0],n[1]):t(n)}catch(i){throw m(e),i}}var r=e("./$"),i=e("./$.ctx"),s=e("./$.cof"),o=e("./$.def"),u=e("./$.assert").obj,a=e("./$.wks")("iterator"),f="@@iterator",l={},c={},h="keys"in[]&&!("next"in[].keys());p(c,r.that);var y=t.exports={BUGGY:h,Iterators:l,prototype:c,step:function(e,t){return{value:t,done:!!e}},stepCall:g,close:m,is:function(e){var t=Object(e),n=r.g.Symbol,i=n&&n.iterator||f;return i in t||a in t||r.has(l,s.classof(t))},get:v,set:p,create:function(e,t,n,i){e.prototype=r.create(i||y.prototype,{next:r.desc(1,n)}),s.set(e,t+" Iterator")},define:d,std:function(e,t,n,i,s,u,a){function f(e){return function(){return new n(this,e)}}y.create(n,t,i);var l=f("key+value"),c=f("value"),p=e.prototype,v,m;s=="value"?c=d(e,t,c,"values"):l=d(e,t,l,"entries");if(s){v={entries:l,keys:u?c:f("key"),values:c},o(o.P+o.F*h,t,v);if(a)for(m in v)m in p||r.hide(p,m,v[m])}},forOf:function(e,t,n,r){var s=v(e),o=i(n,r,t?2:1),u;while(!(u=s.next()).done)if(g(s,o,u.value,t)===!1)return m(s)}}},{"./$":16,"./$.assert":4,"./$.cof":6,"./$.ctx":10,"./$.def":11,"./$.wks":27}],16:[function(e,t,n){"use strict";function p(e){return isNaN(e=+e)?0:(e>0?a:u)(e)}function d(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}function v(e,t,n){return e[t]=n,e}function m(e){return c?function(t,n,r){return w.setDesc(t,n,d(e,r))}:v}function g(e){return e!==null&&(typeof e=="object"||typeof e=="function")}function y(e){return typeof e=="function"}function b(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}var r=typeof self!="undefined"?self:Function("return this")(),i={},s=Object.defineProperty,o={}.hasOwnProperty,u=Math.ceil,a=Math.floor,f=Math.max,l=Math.min,c=!!function(){try{return s({},"a",{get:function(){return 2}}).a==2}catch(e){}}(),h=m(1),w=t.exports=e("./$.fw")({g:r,core:i,html:r.document&&document.documentElement,isObject:g,isFunction:y,it:function(e){return e},that:function(){return this},toInteger:p,toLength:function(e){return e>0?l(p(e),9007199254740991):0},toIndex:function(e,t){return e=p(e),e<0?f(e+t,0):l(e,t)},has:function(e,t){return o.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:c,desc:d,getDesc:Object.getOwnPropertyDescriptor,setDesc:s,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:b,ES5Object:Object,toObject:function(e){return w.ES5Object(b(e))},hide:h,def:m(0),set:r.Symbol?v:h,mix:function(e,t){for(var n in t)h(e,n,t[n]);return e},each:[].forEach});typeof __e!="undefined"&&(__e=i),typeof __g!="undefined"&&(__g=r)},{"./$.fw":12}],17:[function(e,t,n){var r=e("./$");t.exports=function(e,t){var n=r.toObject(e),i=r.getKeys(n),s=i.length,o=0,u;while(s>o)if(n[u=i[o++]]===t)return u}},{"./$":16}],18:[function(e,t,n){var r=e("./$"),i=e("./$.assert").obj;t.exports=function(t){return i(t),r.getSymbols?r.getNames(t).concat(r.getSymbols(t)):r.getNames(t)}},{"./$":16,"./$.assert":4}],19:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.invoke"),s=e("./$.assert").fn;t.exports=function(){var e=s(this),t=arguments.length,n=Array(t),o=0,u=r.path._,a=!1;while(t>o)(n[o]=arguments[o++])===u&&(a=!0);return function(){var r=this,s=arguments.length,o=0,f=0,l;if(!a&&!s)return i(e,n,r);l=n.slice();if(a)for(;t>o;o++)l[o]===u&&(l[o]=arguments[f++]);while(s>f)l.push(arguments[f++]);return i(e,l,r)}}},{"./$":16,"./$.assert":4,"./$.invoke":13}],20:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(n?t:this).replace(e,r)}}},{}],21:[function(e,t,n){function s(e,t){i.obj(e),i(t===null||r.isObject(t),t,": can't set as prototype!")}var r=e("./$"),i=e("./$.assert");t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n){try{n=e("./$.ctx")(Function.call,r.getDesc(Object.prototype,"__proto__").set,2),n({},[])}catch(i){t=!0}return function(r,i){return s(r,i),t?r.__proto__=i:n(r,i),r}}():undefined),check:s}},{"./$":16,"./$.assert":4,"./$.ctx":10}],22:[function(e,t,n){var r=e("./$");t.exports=function(t){r.DESC&&r.FW&&r.setDesc(t,e("./$.wks")("species"),{configurable:!0,get:r.that})}},{"./$":16,"./$.wks":27}],23:[function(e,t,n){"use strict";var r=e("./$");t.exports=function(e){return function(t){var n=String(r.assertDefined(this)),i=r.toInteger(t),s=n.length,o,u;return i<0||i>=s?e?"":undefined:(o=n.charCodeAt(i),o<55296||o>56319||i+1===s||(u=n.charCodeAt(i+1))<56320||u>57343?e?n.charAt(i):o:e?n.slice(i,i+2):(o-55296<<10)+(u-56320)+65536)}}},{"./$":16}],24:[function(e,t,n){"use strict";function x(){var e=+this;if(r.has(y,e)){var t=y[e];delete y[e],t()}}function T(e){x.call(e.data)}var r=e("./$"),i=e("./$.ctx"),s=e("./$.cof"),o=e("./$.invoke"),u=r.g,a=r.isFunction,f=r.html,l=u.document,c=u.process,h=u.setImmediate,p=u.clearImmediate,d=u.postMessage,v=u.addEventListener,m=u.MessageChannel,g=0,y={},b="onreadystatechange",w,E,S;if(!a(h)||!a(p))h=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return y[++g]=function(){o(a(e)?e:Function(e),t)},w(g),g},p=function(e){delete y[e]},s(c)=="process"?w=function(e){c.nextTick(i(x,e,1))}:v&&a(d)&&!u.importScripts?(w=function(e){d(e,"*")},v("message",T,!1)):a(m)?(E=new m,S=E.port2,E.port1.onmessage=T,w=i(S.postMessage,S,1)):l&&b in l.createElement("script")?w=function(e){f.appendChild(l.createElement("script"))[b]=function(){f.removeChild(this),x.call(e)}}:w=function(e){setTimeout(i(x,e,1),0)};t.exports={set:h,clear:p}},{"./$":16,"./$.cof":6,"./$.ctx":10,"./$.invoke":13}],25:[function(e,t,n){function i(e){return"Symbol("+e+")_"+(++r+Math.random()).toString(36)}var r=0;i.safe=e("./$").g.Symbol||i,t.exports=i},{"./$":16}],26:[function(e,t,n){var r=e("./$"),i=e("./$.wks")("unscopables");r.FW&&!(i in[])&&r.hide(Array.prototype,i,{}),t.exports=function(e){r.FW&&([][i][e]=!0)}},{"./$":16,"./$.wks":27}],27:[function(e,t,n){var r=e("./$").g,i={};t.exports=function(t){return i[t]||(i[t]=r.Symbol&&r.Symbol[t]||e("./$.uid").safe("Symbol."+t))}},{"./$":16,"./$.uid":25}],28:[function(e,t,n){function A(e,t){return function(n){var r=E(n),i=0,s=[],o;for(o in r)o!=a&&g(r,o)&&s.push(o);while(t>i)g(r,o=e[i++])&&(~d.call(s,o)||s.push(o));return s}}function O(e){return!r.isObject(e)}function M(){}function _(e){return function(){return e.apply(r.ES5Object(this),arguments)}}function D(e){return function(t,n){f.fn(t);var r=E(this),i=S(r.length),s=e?i-1:0,o=e?-1:1;if(arguments.length<2)for(;;){if(s in r){n=r[s],s+=o;break}s+=o,f(e?s>=0:i>s,"Reduce of empty array with no initial value")}for(;e?s>=0:i>s;s+=o)s in r&&(n=t(n,r[s],s,this));return n}}function P(e){return e>9?e:"0"+e}var r=e("./$"),i=e("./$.cof"),s=e("./$.def"),o=e("./$.invoke"),u=e("./$.array-methods"),a=e("./$.uid").safe("__proto__"),f=e("./$.assert"),l=f.obj,c=Object.prototype,h=[],p=h.slice,d=h.indexOf,v=i.classof,m=Object.defineProperties,g=r.has,y=r.setDesc,b=r.getDesc,w=r.isFunction,E=r.toObject,S=r.toLength,x=!1;if(!r.DESC){try{x=y(document.createElement("div"),"x",{get:function(){return 8}}).x==8}catch(T){}r.setDesc=function(e,t,n){if(x)try{return y(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(l(e)[t]=n.value),e},r.getDesc=function(e,t){if(x)try{return b(e,t)}catch(n){}if(g(e,t))return r.desc(!c.propertyIsEnumerable.call(e,t),e[t])},m=function(e,t){l(e);var n=r.getKeys(t),i=n.length,s=0,o;while(i>s)r.setDesc(e,o=n[s++],t[o]);return e}}s(s.S+s.F*!r.DESC,"Object",{getOwnPropertyDescriptor:r.getDesc,defineProperty:r.setDesc,defineProperties:m});var N="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),C=N.concat("length","prototype"),k=N.length,L=function(){var e=document.createElement("iframe"),t=k,n=">",i;e.style.display="none",r.html.appendChild(e),e.src="javascript:",i=e.contentWindow.document,i.open(),i.write("<script>document.F=Object</script"+n),i.close(),L=i.F;while(t--)delete L.prototype[N[t]];return L()};s(s.S,"Object",{getPrototypeOf:r.getProto=r.getProto||function(e){return e=Object(f.def(e)),g(e,a)?e[a]:w(e.constructor)&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null},getOwnPropertyNames:r.getNames=r.getNames||A(C,C.length,!0),create:r.create=r.create||function(e,t){var n;return e!==null?(M.prototype=l(e),n=new M,M.prototype=null,n[a]=e):n=L(),t===undefined?n:m(n,t)},keys:r.getKeys=r.getKeys||A(N,k,!1),seal:r.it,freeze:r.it,preventExtensions:r.it,isSealed:O,isFrozen:O,isExtensible:r.isObject}),s(s.P,"Function",{bind:function(e){function i(){var s=n.concat(p.call(arguments));return o(t,s,this instanceof i?r.create(t.prototype):e)}var t=f.fn(this),n=p.call(arguments,1);return t.prototype&&(i.prototype=t.prototype),i}}),0 in Object("z")&&"z"[0]=="z"||(r.ES5Object=function(e){return i(e)=="String"?e.split(""):Object(e)}),s(s.P+s.F*(r.ES5Object!=Object),"Array",{slice:_(p),join:_(h.join)}),s(s.S,"Array",{isArray:function(e){return i(e)=="Array"}}),s(s.P,"Array",{forEach:r.each=r.each||u(0),map:u(1),filter:u(2),some:u(3),every:u(4),reduce:D(!1),reduceRight:D(!0),indexOf:d=d||e("./$.array-includes")(!1),lastIndexOf:function(e,t){var n=E(this),i=S(n.length),s=i-1;arguments.length>1&&(s=Math.min(s,r.toInteger(t))),s<0&&(s=S(i+s));for(;s>=0;s--)if(s in n&&n[s]===e)return s;return-1}}),s(s.P,"String",{trim:e("./$.replacer")(/^\s*([\s\S]*\S)?\s*$/,"$1")}),s(s.S,"Date",{now:function(){return+(new Date)}}),s(s.P,"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+P(e.getUTCMonth()+1)+"-"+P(e.getUTCDate())+"T"+P(e.getUTCHours())+":"+P(e.getUTCMinutes())+":"+P(e.getUTCSeconds())+"."+(n>99?n:"0"+P(n))+"Z"}}),v(function(){return arguments}())=="Object"&&(i.classof=function(e){var t=v(e);return t=="Object"&&w(e.callee)?"Arguments":t})},{"./$":16,"./$.array-includes":2,"./$.array-methods":3,"./$.assert":4,"./$.cof":6,"./$.def":11,"./$.invoke":13,"./$.replacer":20,"./$.uid":25}],29:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.def"),s=r.toIndex;i(i.P,"Array",{copyWithin:function(t,n){var i=Object(r.assertDefined(this)),o=r.toLength(i.length),u=s(t,o),a=s(n,o),f=arguments[2],l=f===undefined?o:s(f,o),c=Math.min(l-a,o-u),h=1;a<u&&u<a+c&&(h=-1,a=a+c-1,u=u+c-1);while(c-->0)a in i?i[u]=i[a]:delete i[u],u+=h,a+=h;return i}}),e("./$.unscope")("copyWithin")},{"./$":16,"./$.def":11,"./$.unscope":26}],30:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.def"),s=r.toIndex;i(i.P,"Array",{fill:function(t){var n=Object(r.assertDefined(this)),i=r.toLength(n.length),o=s(arguments[1],i),u=arguments[2],a=u===undefined?i:s(u,i);while(a>o)n[o++]=t;return n}}),e("./$.unscope")("fill")},{"./$":16,"./$.def":11,"./$.unscope":26}],31:[function(e,t,n){var r=e("./$.def");r(r.P,"Array",{findIndex:e("./$.array-methods")(6)}),e("./$.unscope")("findIndex")},{"./$.array-methods":3,"./$.def":11,"./$.unscope":26}],32:[function(e,t,n){var r=e("./$.def");r(r.P,"Array",{find:e("./$.array-methods")(5)}),e("./$.unscope")("find")},{"./$.array-methods":3,"./$.def":11,"./$.unscope":26}],33:[function(e,t,n){var r=e("./$"),i=e("./$.ctx"),s=e("./$.def"),o=e("./$.iter"),u=o.stepCall;s(s.S+s.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(t){var n=Object(r.assertDefined(t)),s=arguments[1],a=s!==undefined,f=a?i(s,arguments[2],2):undefined,l=0,c,h,p,d;if(o.is(n)){d=o.get(n),h=new(typeof this=="function"?this:Array);for(;!(p=d.next()).done;l++)h[l]=a?u(d,f,[p.value,l],!0):p.value}else{h=new(typeof this=="function"?this:Array)(c=r.toLength(n.length));for(;c>l;l++)h[l]=a?f(n[l],l):n[l]}return h.length=l,h}})},{"./$":16,"./$.ctx":10,"./$.def":11,"./$.iter":15,"./$.iter-detect":14}],34:[function(e,t,n){var r=e("./$"),i=e("./$.unscope"),s=e("./$.uid").safe("iter"),o=e("./$.iter"),u=o.step,a=o.Iterators;o.std(Array,"Array",function(e,t){r.set(this,s,{o:r.toObject(e),i:0,k:t})},function(){var e=this[s],t=e.o,n=e.k,r=e.i++;return!t||r>=t.length?(e.o=undefined,u(1)):n=="key"?u(0,r):n=="value"?u(0,t[r]):u(0,[r,t[r]])},"value"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},{"./$":16,"./$.iter":15,"./$.uid":25,"./$.unscope":26}],35:[function(e,t,n){var r=e("./$.def");r(r.S,"Array",{of:function(){var t=0,n=arguments.length,r=new(typeof this=="function"?this:Array)(n);while(n>t)r[t]=arguments[t++];return r.length=n,r}})},{"./$.def":11}],36:[function(e,t,n){e("./$.species")(Array)},{"./$.species":22}],37:[function(e,t,n){"use strict";var r=e("./$"),i="name",s=r.setDesc,o=Function.prototype;i in o||r.FW&&r.DESC&&s(o,i,{configurable:!0,get:function(){var e=String(this).match(/^\s*function ([^ (]*)/),t=e?e[1]:"";return r.has(this,i)||s(this,i,r.desc(5,t)),t},set:function(e){r.has(this,i)||s(this,i,r.desc(0,e))}})},{"./$":16}],38:[function(e,t,n){"use strict";var r=e("./$.collection-strong");e("./$.collection")("Map",{get:function(t){var n=r.getEntry(this,t);return n&&n.v},set:function(t,n){return r.def(this,t===0?0:t,n)}},r,!0)},{"./$.collection":9,"./$.collection-strong":7}],39:[function(e,t,n){function g(e){return e+1/p-1/p}function y(e){return(e=+e)==0||e!=e?e:e<0?-1:1}function b(e){return!isFinite(e=+e)||e==0?e:e<0?-b(-e):f(e+l(e*e+1))}function w(e){return(e=+e)==0?e:e>-0.000001&&e<1e-6?e+e*e/2:a(e)-1}var r=1/0,i=e("./$.def"),s=Math.E,o=Math.pow,u=Math.abs,a=Math.exp,f=Math.log,l=Math.sqrt,c=Math.ceil,h=Math.floor,p=o(2,-52),d=o(2,-23),v=o(2,127)*(2-d),m=o(2,-126);i(i.S,"Math",{acosh:function(t){return(t=+t)<1?NaN:isFinite(t)?f(t/s+l(t+1)*l(t-1)/s)+1:t},asinh:b,atanh:function(t){return(t=+t)==0?t:f((1+t)/(1-t))/2},cbrt:function(t){return y(t=+t)*o(u(t),1/3)},clz32:function(t){return(t>>>=0)?31-h(f(t+.5)*Math.LOG2E):32},cosh:function(t){return(a(t=+t)+a(-t))/2},expm1:w,fround:function(t){var n=u(t),i=y(t),s,o;return n<m?i*g(n/m/d)*m*d:(s=(1+d/p)*n,o=s-(s-n),o>v||o!=o?i*r:i*o)},hypot:function(t,n){var i=0,s=arguments.length,u=s,a=Array(s),f=-r,c;while(s--){c=a[s]=+arguments[s];if(c==r||c==-r)return r;c>f&&(f=c)}f=c||1;while(u--)i+=o(a[u]/f,2);return f*l(i)},imul:function(t,n){var r=65535,i=+t,s=+n,o=r&i,u=r&s;return 0|o*u+((r&i>>>16)*u+o*(r&s>>>16)<<16>>>0)},log1p:function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:f(1+t)},log10:function(t){return f(t)/Math.LN10},log2:function(t){return f(t)/Math.LN2},sign:y,sinh:function(t){return u(t=+t)<1?(w(t)-w(-t))/2:(a(t-1)-a(-t-1))*(s/2)},tanh:function(t){var n=w(t=+t),i=w(-t);return n==r?1:i==r?-1:(n-i)/(a(t)+a(-t))},trunc:function(t){return(t>0?h:c)(t)}})},{"./$.def":11}],40:[function(e,t,n){"use strict";function l(e){var t,n;if(s(t=e.valueOf)&&!i(n=t.call(e)))return n;if(s(t=e.toString)&&!i(n=t.call(e)))return n;throw TypeError("Can't convert object to number")}function c(e){i(e)&&(e=l(e));if(typeof e=="string"&&e.length>2&&e.charCodeAt(0)==48){var t=!1;switch(e.charCodeAt(1)){case 66:case 98:t=!0;case 79:case 111:return parseInt(e.slice(2),t?2:8)}}return+e}var r=e("./$"),i=r.isObject,s=r.isFunction,o="Number",u=r.g[o],a=u,f=u.prototype;r.FW&&(!u("0o1")||!u("0b1"))&&(u=function h(e){return this instanceof h?new a(c(e)):c(e)},r.each.call(r.DESC?r.getNames(a):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(e){r.has(a,e)&&!r.has(u,e)&&r.setDesc(u,e,r.getDesc(a,e))}),u.prototype=f,f.constructor=u,r.hide(r.g,o,u))},{"./$":16}],41:[function(e,t,n){function f(e){return!r.isObject(e)&&u(e)&&o(e)===e}var r=e("./$"),i=e("./$.def"),s=Math.abs,o=Math.floor,u=r.g.isFinite,a=9007199254740991;i(i.S,"Number",{EPSILON:Math.pow(2,-52),isFinite:function(t){return typeof t=="number"&&u(t)},isInteger:f,isNaN:function(t){return t!=t},isSafeInteger:function(t){return f(t)&&s(t)<=a},MAX_SAFE_INTEGER:a,MIN_SAFE_INTEGER:-a,parseFloat:parseFloat,parseInt:parseInt})},{"./$":16,"./$.def":11}],42:[function(e,t,n){var r=e("./$.def");r(r.S,"Object",{assign:e("./$.assign")})},{"./$.assign":5,"./$.def":11}],43:[function(e,t,n){var r=e("./$.def");r(r.S,"Object",{is:function(t,n){return t===n?t!==0||1/t===1/n:t!=t&&n!=n}})},{"./$.def":11}],44:[function(e,t,n){var r=e("./$.def");r(r.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.def":11,"./$.set-proto":21}],45:[function(e,t,n){function u(e,t){var n=(r.core.Object||{})[e]||Object[e],u=0,a={};a[e]=t==1?function(e){return s(e)?n(e):e}:t==2?function(e){return s(e)?n(e):!0}:t==3?function(e){return s(e)?n(e):!1}:t==4?function(t,r){return n(o(t),r)}:t==5?function(t){return n(Object(r.assertDefined(t)))}:function(e){return n(o(e))};try{n("z")}catch(f){u=1}i(i.S+i.F*u,"Object",a)}var r=e("./$"),i=e("./$.def"),s=r.isObject,o=r.toObject;u("freeze",1),u("seal",1),u("preventExtensions",1),u("isFrozen",2),u("isSealed",2),u("isExtensible",3),u("getOwnPropertyDescriptor",4),u("getPrototypeOf",5),u("keys"),u("getOwnPropertyNames")},{"./$":16,"./$.def":11}],46:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.cof"),s={};s[e("./$.wks")("toStringTag")]="z",r.FW&&i(s)!="z"&&r.hide(Object.prototype,"toString",function o(){return"[object "+i.classof(this)+"]"})},{"./$":16,"./$.cof":6,"./$.wks":27}],47:[function(e,t,n){"use strict";function x(e){var t=E(e)[f];return t!=undefined?t:e}function T(e){var t;return b(e)&&(t=e.then),y(t)?t:!1}function N(e){var t=e[l],n=t.c,r=0,i;if(t.h)return!1;while(n.length>r){i=n[r++];if(i.fail||!N(i.P))return!1}return!0}function C(e,t){var n=e.c;(t||n.length)&&v(function(){var r=e.p,i=e.v,o=e.s==1,u=0;if(t&&N(r))setTimeout(function(){N(r)&&(s(d)=="process"?d.emit("unhandledRejection",i,r):p.console&&y(console.error)&&console.error("Unhandled promise rejection",i))},1e3);else while(n.length>u)!function(t){var n=o?t.ok:t.fail,r,s;try{n?(o||(e.h=!0),r=n===!0?i:n(i),r===t.P?t.rej(TypeError(h+"-chain cycle")):(s=T(r))?s.call(r,t.res,t.rej):t.res(r)):t.rej(i)}catch(u){t.rej(u)}}(n[u++]);n.length=0})}function k(e){var t=this;if(t.d)return;t.d=!0,t=t.r||t,t.v=e,t.s=2,C(t,!0)}function L(e){var t=this,n,r;if(t.d)return;t.d=!0,t=t.r||t;try{(n=T(e))?(r={r:t,d:!1},n.call(e,i(L,r,1),i(k,r,1))):(t.v=e,t.s=1,C(t))}catch(s){k.call(r||{r:t,d:!1},s)}}var r=e("./$"),i=e("./$.ctx"),s=e("./$.cof"),o=e("./$.def"),u=e("./$.assert"),a=e("./$.iter"),f=e("./$.wks")("species"),l=e("./$.uid").safe("record"),c=a.forOf,h="Promise",p=r.g,d=p.process,v=d&&d.nextTick||e("./$.task").set,m=p[h],g=m,y=r.isFunction,b=r.isObject,w=u.fn,E=u.obj,S;if(!y(m)||!y(m.resolve)||m.resolve(S=new m(function(){}))!=S)m=function(t){w(t);var n={p:u.inst(this,m,h),c:[],s:0,d:!1,v:undefined,h:!1};r.hide(this,l,n);try{t(i(L,n,1),i(k,n,1))}catch(s){k.call(n,s)}},r.mix(m.prototype,{then:function(t,n){var r=E(E(this).constructor)[f],i={ok:y(t)?t:!0,fail:y(n)?n:!1},s=i.P=new(r!=undefined?r:m)(function(e,t){i.res=w(e),i.rej=w(t)}),o=this[l];return o.c.push(i),o.s&&C(o),s},"catch":function(e){return this.then(undefined,e)}});o(o.G+o.W+o.F*(m!=g),{Promise:m}),s.set(m,h),e("./$.species")(m),o(o.S,h,{reject:function(t){return new(x(this))(function(e,n){n(t)})},resolve:function(t){return b(t)&&l in t&&r.getProto(t)===this.prototype?t:new(x(this))(function(e){e(t)})}}),o(o.S+o.F*!e("./$.iter-detect")(function(e){m.all(e)["catch"](function(){})}),h,{all:function(t){var n=x(this),i=[];return new n(function(e,s){c(t,!1,i.push,i);var o=i.length,u=Array(o);o?r.each.call(i,function(t,r){n.resolve(t).then(function(t){u[r]=t,--o||e(u)},s)}):e(u)})},race:function(t){var n=x(this);return new n(function(e,r){c(t,!1,function(t){n.resolve(t).then(e,r)})})}})},{"./$":16,"./$.assert":4,"./$.cof":6,"./$.ctx":10,"./$.def":11,"./$.iter":15,"./$.iter-detect":14,"./$.species":22,"./$.task":24,"./$.uid":25,"./$.wks":27}],48:[function(e,t,n){function g(e){var t=[],n;for(n in e)t.push(n);r.set(this,u,{o:e,a:t,i:0})}function y(e){return function(t){v(t);try{return e.apply(undefined,arguments),!0}catch(n){return!1}}}function b(e,t){var n=arguments.length<3?e:arguments[2],i=c(v(e),t),s;return i?r.has(i,"value")?i.value:i.get===undefined?undefined:i.get.call(n):l(s=p(e))?b(s,t,n):undefined}function w(e,t,n){var i=arguments.length<4?e:arguments[3],s=c(v(e),t),o,u;if(!s){if(l(u=p(e)))return w(u,t,n,i);s=r.desc(0)}return r.has(s,"value")?s.writable===!1||!l(i)?!1:(o=c(i,t)||r.desc(0),o.value=n,h(i,t,o),!0):s.set===undefined?!1:(s.set.call(i,n),!0)}var r=e("./$"),i=e("./$.def"),s=e("./$.set-proto"),o=e("./$.iter"),u=e("./$.uid").safe("iter"),a=o.step,f=e("./$.assert"),l=r.isObject,c=r.getDesc,h=r.setDesc,p=r.getProto,d=Function.apply,v=f.obj,m=Object.isExtensible||r.it;o.create(g,"Object",function(){var e=this[u],t=e.a,n;do if(e.i>=t.length)return a(1);while(!((n=t[e.i++])in e.o));return a(0,n)});var E={apply:e("./$.ctx")(Function.call,d,3),construct:function(t,n){var i=f.fn(arguments.length<3?t:arguments[2]).prototype,s=r.create(l(i)?i:Object.prototype),o=d.call(t,s,n);return l(o)?o:s},defineProperty:y(h),deleteProperty:function(t,n){var r=c(v(t),n);return r&&!r.configurable?!1:delete t[n]},enumerate:function(t){return new g(v(t))},get:b,getOwnPropertyDescriptor:function(t,n){return c(v(t),n)},getPrototypeOf:function(t){return p(v(t))},has:function(t,n){return n in t},isExtensible:function(t){return!!m(v(t))},ownKeys:e("./$.own-keys"),preventExtensions:y(Object.preventExtensions||r.it),set:w};s&&(E.setPrototypeOf=function(t,n){s.check(t,n);try{return s.set(t,n),!0}catch(r){return!1}}),i(i.G,{Reflect:{}}),i(i.S,"Reflect",E)},{"./$":16,"./$.assert":4,"./$.ctx":10,"./$.def":11,"./$.iter":15,"./$.own-keys":18,"./$.set-proto":21,"./$.uid":25}],49:[function(e,t,n){var r=e("./$"),i=e("./$.cof"),s=r.g.RegExp,o=s,u=s.prototype;if(r.FW&&r.DESC){if(!function(){try{return s(/a/g,"i")=="/a/i"}catch(e){}}())s=function(t,n){return new o(i(t)=="RegExp"&&n!==undefined?t.source:t,n)},r.each.call(r.getNames(o),function(e){e in s||r.setDesc(s,e,{configurable:!0,get:function(){return o[e]},set:function(t){o[e]=t}})}),u.constructor=s,s.prototype=u,r.hide(r.g,"RegExp",s);/./g.flags!="g"&&r.setDesc(u,"flags",{configurable:!0,get:e("./$.replacer")(/^.*\/(\w*)$/,"$1")})}e("./$.species")(s)},{"./$":16,"./$.cof":6,"./$.replacer":20,"./$.species":22}],50:[function(e,t,n){"use strict";var r=e("./$.collection-strong");e("./$.collection")("Set",{add:function(t){return r.def(this,t=t===0?0:t,t)}},r)},{"./$.collection":9,"./$.collection-strong":7}],51:[function(e,t,n){var r=e("./$.def");r(r.P,"String",{codePointAt:e("./$.string-at")(!1)})},{"./$.def":11,"./$.string-at":23}],52:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.cof"),s=e("./$.def"),o=r.toLength;s(s.P,"String",{endsWith:function(t){if(i(t)=="RegExp")throw TypeError();var n=String(r.assertDefined(this)),s=arguments[1],u=o(n.length),a=s===undefined?u:Math.min(o(s),u);return t+="",n.slice(a-t.length,a)===t}})},{"./$":16,"./$.cof":6,"./$.def":11}],53:[function(e,t,n){var r=e("./$.def"),i=e("./$").toIndex,s=String.fromCharCode;r(r.S,"String",{fromCodePoint:function(t){var n=[],r=arguments.length,o=0,u;while(r>o){u=+arguments[o++];if(i(u,1114111)!==u)throw RangeError(u+" is not a valid code point");n.push(u<65536?s(u):s(((u-=65536)>>10)+55296,u%1024+56320))}return n.join("")}})},{"./$":16,"./$.def":11}],54:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.cof"),s=e("./$.def");s(s.P,"String",{includes:function(t){if(i(t)=="RegExp")throw TypeError();return!!~String(r.assertDefined(this)).indexOf(t,arguments[1])}})},{"./$":16,"./$.cof":6,"./$.def":11}],55:[function(e,t,n){var r=e("./$").set,i=e("./$.string-at")(!0),s=e("./$.uid").safe("iter"),o=e("./$.iter"),u=o.step;o.std(String,"String",function(e){r(this,s,{o:String(e),i:0})},function(){var e=this[s],t=e.o,n=e.i,r;return n>=t.length?u(1):(r=i.call(t,n),e.i+=r.length,u(0,r))})},{"./$":16,"./$.iter":15,"./$.string-at":23,"./$.uid":25}],56:[function(e,t,n){var r=e("./$"),i=e("./$.def");i(i.S,"String",{raw:function(t){var n=r.toObject(t.raw),i=r.toLength(n.length),s=arguments.length,o=[],u=0;while(i>u)o.push(String(n[u++])),u<s&&o.push(String(arguments[u]));return o.join("")}})},{"./$":16,"./$.def":11}],57:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.def");i(i.P,"String",{repeat:function(t){var n=String(r.assertDefined(this)),i="",s=r.toInteger(t);if(s<0||s==Infinity)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(n+=n))s&1&&(i+=n);return i}})},{"./$":16,"./$.def":11}],58:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.cof"),s=e("./$.def");s(s.P,"String",{startsWith:function(t){if(i(t)=="RegExp")throw TypeError();var n=String(r.assertDefined(this)),s=r.toLength(Math.min(arguments[1],n.length));return t+="",n.slice(s,s+t.length)===t}})},{"./$":16,"./$.cof":6,"./$.def":11}],59:[function(e,t,n){"use strict";function y(e){var t=g[e]=r.set(r.create(h.prototype),v,e);return r.DESC&&d&&r.setDesc(Object.prototype,e,{configurable:!0,set:function(t){f(this,e,t)}}),t}var r=e("./$"),i=e("./$.cof").set,s=e("./$.uid"),o=e("./$.def"),u=e("./$.keyof"),a=r.has,f=r.hide,l=r.getNames,c=r.toObject,h=r.g.Symbol,p=h,d=!1,v=s.safe("tag"),m={},g={};r.isFunction(h)||(h=function w(e){if(this instanceof w)throw TypeError("Symbol is not a constructor");return y(s(e))},f(h.prototype,"toString",function(){return this[v]})),o(o.G+o.W,{Symbol:h});var b={"for":function(e){return a(m,e+="")?m[e]:m[e]=h(e)},keyFor:function(t){return u(m,t)},pure:s.safe,set:r.set,useSetter:function(){d=!0},useSimple:function(){d=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(t){var n=e("./$.wks")(t);b[t]=h===p?n:y(n)}),d=!0,o(o.S,"Symbol",b),o(o.S+o.F*(h!=p),"Object",{getOwnPropertyNames:function(t){var n=l(c(t)),r=[],i,s=0;while(n.length>s)a(g,i=n[s++])||r.push(i);return r},getOwnPropertySymbols:function(t){var n=l(c(t)),r=[],i,s=0;while(n.length>s)a(g,i=n[s++])&&r.push(g[i]);return r}}),i(h,"Symbol"),i(Math,"Math",!0),i(r.g.JSON,"JSON",!0)},{"./$":16,"./$.cof":6,"./$.def":11,"./$.keyof":17,"./$.uid":25,"./$.wks":27}],60:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.collection-weak"),s=i.leakStore,o=i.ID,u=i.WEAK,a=r.has,f=r.isObject,l=Object.isFrozen||r.core.Object.isFrozen,c={},h=e("./$.collection")("WeakMap",{get:function(t){if(f(t)){if(l(t))return s(this).get(t);if(a(t,u))return t[u][this[o]]}},set:function(t,n){return i.def(this,t,n)}},i,!0,!0);r.FW&&(new h).set((Object.freeze||Object)(c),7).get(c)!=7&&r.each.call(["delete","has","get","set"],function(e){var t=h.prototype[e];h.prototype[e]=function(n,r){if(f(n)&&l(n)){var i=s(this)[e](n,r);return e=="set"?this:i}return t.call(this,n,r)}})},{"./$":16,"./$.collection":9,"./$.collection-weak":8}],61:[function(e,t,n){"use strict";var r=e("./$.collection-weak");e("./$.collection")("WeakSet",{add:function(t){return r.def(this,t,!0)}},r,!1,!0)},{"./$.collection":9,"./$.collection-weak":8}],62:[function(e,t,n){var r=e("./$.def");r(r.P,"Array",{includes:e("./$.array-includes")(!0)}),e("./$.unscope")("includes")},{"./$.array-includes":2,"./$.def":11,"./$.unscope":26}],63:[function(e,t,n){var r=e("./$"),i=e("./$.def"),s=e("./$.own-keys");i(i.S,"Object",{getOwnPropertyDescriptors:function(t){var n=r.toObject(t),i={};return r.each.call(s(n),function(e){r.setDesc(i,e,r.desc(0,r.getDesc(n,e)))}),i}})},{"./$":16,"./$.def":11,"./$.own-keys":18}],64:[function(e,t,n){function s(e){return function(t){var n=r.toObject(t),i=r.getKeys(t),s=i.length,o=0,u=Array(s),a;if(e)while(s>o)u[o]=[a=i[o++],n[a]];else while(s>o)u[o]=n[i[o++]];return u}}var r=e("./$"),i=e("./$.def");i(i.S,"Object",{values:s(!1),entries:s(!0)})},{"./$":16,"./$.def":11}],65:[function(e,t,n){var r=e("./$.def");r(r.S,"RegExp",{escape:e("./$.replacer")(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})},{"./$.def":11,"./$.replacer":20}],66:[function(e,t,n){var r=e("./$.def"),i=e("./$.iter").forOf;r(r.P,"Set",{toJSON:function(){var e=[];return i(this,!1,e.push,e),e}})},{"./$.def":11,"./$.iter":15}],67:[function(e,t,n){var r=e("./$.def");r(r.P,"String",{at:e("./$.string-at")(!0)})},{"./$.def":11,"./$.string-at":23}],68:[function(e,t,n){function u(t,n){r.each.call(t.split(","),function(t){n==undefined&&t in s?o[t]=s[t]:t in[]&&(o[t]=e("./$.ctx")(Function.call,[][t],n))})}var r=e("./$"),i=e("./$.def"),s=r.core.Array||Array,o={};u("pop,reverse,shift,keys,values,entries",1),u("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),u("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),i(i.S,"Array",o)},{"./$":16,"./$.ctx":10,"./$.def":11}],69:[function(e,t,n){e("./es6.array.iterator");var r=e("./$"),i=e("./$.iter").Iterators,s=e("./$.wks")("iterator"),o=r.g.NodeList;r.FW&&o&&!(s in o.prototype)&&r.hide(o.prototype,s,i.Array),i.NodeList=i.Array},{"./$":16,"./$.iter":15,"./$.wks":27,"./es6.array.iterator":34}],70:[function(e,t,n){var r=e("./$.def"),i=e("./$.task");r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},{"./$.def":11,"./$.task":24}],71:[function(e,t,n){function a(e){return u?function(t,n){return e(s(o,[].slice.call(arguments,2),r.isFunction(t)?t:Function(t)),n)}:e}var r=e("./$"),i=e("./$.def"),s=e("./$.invoke"),o=e("./$.partial"),u=!!r.g.navigator&&/MSIE .\./.test(navigator.userAgent);i(i.G+i.B+i.F*u,{setTimeout:a(r.g.setTimeout),setInterval:a(r.g.setInterval)})},{"./$":16,"./$.def":11,"./$.invoke":13,"./$.partial":19}],72:[function(e,t,n){e("./modules/es5"),e("./modules/es6.symbol"),e("./modules/es6.object.assign"),e("./modules/es6.object.is"),e("./modules/es6.object.set-prototype-of"),e("./modules/es6.object.to-string"),e("./modules/es6.object.statics-accept-primitives"),e("./modules/es6.function.name"),e("./modules/es6.number.constructor"),e("./modules/es6.number.statics"),e("./modules/es6.math"),e("./modules/es6.string.from-code-point"),e("./modules/es6.string.raw"),e("./modules/es6.string.iterator"),e("./modules/es6.string.code-point-at"),e("./modules/es6.string.ends-with"),e("./modules/es6.string.includes"),e("./modules/es6.string.repeat"),e("./modules/es6.string.starts-with"),e("./modules/es6.array.from"),e("./modules/es6.array.of"),e("./modules/es6.array.iterator"),e("./modules/es6.array.species"),e("./modules/es6.array.copy-within"),e("./modules/es6.array.fill"),e("./modules/es6.array.find"),e("./modules/es6.array.find-index"),e("./modules/es6.regexp"),e("./modules/es6.promise"),e("./modules/es6.map"),e("./modules/es6.set"),e("./modules/es6.weak-map"),e("./modules/es6.weak-set"),e("./modules/es6.reflect"),e("./modules/es7.array.includes"),e("./modules/es7.string.at"),e("./modules/es7.regexp.escape"),e("./modules/es7.object.get-own-property-descriptors"),e("./modules/es7.object.to-array"),e("./modules/es7.set.to-json"),e("./modules/js.array.statics"),e("./modules/web.timers"),e("./modules/web.immediate"),e("./modules/web.dom.iterable"),t.exports=e("./modules/$").core},{"./modules/$":16,"./modules/es5":28,"./modules/es6.array.copy-within":29,"./modules/es6.array.fill":30,"./modules/es6.array.find":32,"./modules/es6.array.find-index":31,"./modules/es6.array.from":33,"./modules/es6.array.iterator":34,"./modules/es6.array.of":35,"./modules/es6.array.species":36,"./modules/es6.function.name":37,"./modules/es6.map":38,"./modules/es6.math":39,"./modules/es6.number.constructor":40,"./modules/es6.number.statics":41,"./modules/es6.object.assign":42,"./modules/es6.object.is":43,"./modules/es6.object.set-prototype-of":44,"./modules/es6.object.statics-accept-primitives":45,"./modules/es6.object.to-string":46,"./modules/es6.promise":47,"./modules/es6.reflect":48,"./modules/es6.regexp":49,"./modules/es6.set":50,"./modules/es6.string.code-point-at":51,"./modules/es6.string.ends-with":52,"./modules/es6.string.from-code-point":53,"./modules/es6.string.includes":54,"./modules/es6.string.iterator":55,"./modules/es6.string.raw":56,"./modules/es6.string.repeat":57,"./modules/es6.string.starts-with":58,"./modules/es6.symbol":59,"./modules/es6.weak-map":60,"./modules/es6.weak-set":61,"./modules/es7.array.includes":62,"./modules/es7.object.get-own-property-descriptors":63,"./modules/es7.object.to-array":64,"./modules/es7.regexp.escape":65,"./modules/es7.set.to-json":66,"./modules/es7.string.at":67,"./modules/js.array.statics":68,"./modules/web.dom.iterable":69,"./modules/web.immediate":70,"./modules/web.timers":71}],73:[function(e,t,n){(function(e){!function(e){"use strict";function u(e,t,n,r){var i=Object.create((t||d).prototype);return i._invoke=y(e,n||null,new S(r||[])),i}function a(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function d(){}function v(){}function m(){}function y(e,t,n){var i=f;return function(o,u){if(i===c)throw new Error("Generator is already running");if(i===h)return T();for(;;){var d=n.delegate;if(d){if(o==="return"||o==="throw"&&d.iterator.throw===r){n.delegate=null;var v=d.iterator.return;if(v){var m=a(v,d.iterator,u);if(m.type==="throw"){o="throw",u=m.arg;continue}}if(o==="return")continue}var m=a(d.iterator[o],d.iterator,u);if(m.type==="throw"){n.delegate=null,o="throw",u=m.arg;continue}o="next",u=r;var g=m.arg;if(!g.done)return i=l,g;n[d.resultName]=g.value,n.next=d.nextLoc,n.delegate=null}if(o==="next")i===l?n.sent=u:delete n.sent;else if(o==="throw"){if(i===f)throw i=h,u;n.dispatchException(u)&&(o="next",u=r)}else o==="return"&&n.abrupt("return",u);i=c;var m=a(e,t,n);if(m.type==="normal"){i=n.done?h:l;var g={value:m.arg,done:n.done};if(m.arg!==p)return g;n.delegate&&o==="next"&&(u=r)}else m.type==="throw"&&(i=h,o="throw",u=m.arg)}}}function b(e){g[e]=function(t){return this._invoke(e,t)}}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset()}function x(e){if(e){var t=e[i];if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var s=-1,o=function u(){while(++s<e.length)if(n.call(e,s))return u.value=e[s],u.done=!1,u;return u.value=r,u.done=!0,u};return o.next=o}}return{next:T}}function T(){return{value:r,done:!0}}var n=Object.prototype.hasOwnProperty,r,i=typeof Symbol=="function"&&Symbol.iterator||"@@iterator",s=typeof t=="object",o=e.regeneratorRuntime;if(o){s&&(t.exports=o);return}o=e.regeneratorRuntime=s?t.exports:{},o.wrap=u;var f="suspendedStart",l="suspendedYield",c="executing",h="completed",p={},g=m.prototype=d.prototype;v.prototype=g.constructor=m,m.constructor=v,v.displayName="GeneratorFunction",o.isGeneratorFunction=function(e){var t=typeof e=="function"&&e.constructor;return t?t===v||(t.displayName||t.name)==="GeneratorFunction":!1},o.mark=function(e){return e.__proto__=m,e.prototype=Object.create(g),e},o.async=function(e,t,n,r){return new Promise(function(i,s){function c(e,t){var n=a(o[e],o,t);if(n.type==="throw"){s(n.arg);return}var r=n.arg;r.done?i(r.value):Promise.resolve(r.value).then(f,l)}var o=u(e,t,n,r),f=c.bind(o,"next"),l=c.bind(o,"throw");f()})},b("next"),b("throw"),b("return"),g[i]=function(){return this},g.toString=function(){return"[object Generator]"},o.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){while(t.length){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},o.values=x,S.prototype={constructor:S,reset:function(){this.prev=0,this.next=0,this.sent=r,this.done=!1,this.delegate=null,this.tryEntries.forEach(E);for(var e=0,t;n.call(this,t="t"+e)||e<20;++e)this[t]=null},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if(t.type==="throw")throw t.arg;return this.rval},dispatchException:function(e){function r(n,r){return o.type="throw",o.arg=e,t.next=n,!!r}if(this.done)throw e;var t=this;for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if(s.tryLoc==="root")return r("end");if(s.tryLoc<=this.prev){var u=n.call(s,"catchLoc"),a=n.call(s,"finallyLoc");if(u&&a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&(e==="break"||e==="continue")&&s.tryLoc<=t&&t<s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?this.next=s.finallyLoc:this.complete(o),p},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=e.arg,this.next="end"):e.type==="normal"&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc)}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if(r.type==="throw"){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},p}}}(typeof e=="object"?e:typeof window=="object"?window:typeof self=="object"?self:this)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[1]),define("babel-polyfill",function(){}),define("js/reportMain",["esri/IdentityManager","js/config","utils/loaders","esri/config","report/report","babel-polyfill"],function(e,t,n,r,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var s=a(e),o=a(r),u=a(i);_babelPolyfill||console.log("Missing Babel Polyfill.  May experience some weirdness in IE < 9."),window.brApp={debug:location.search.slice(1).search("debug=true")>-1};var f=function(){t.corsServers.forEach(function(e){o.default.defaults.io.corsEnabledServers.push(e)})},l=function(){window.highchartsPromise=(0,n.loadJS)(t.assetUrls.highcharts),window.highchartsPromise.then(function(){Highcharts.setOptions({chart:{style:{fontFamily:'"Fira Sans", Georgia, sans-serif'}},lang:{thousandsSep:","}})}),(0,n.loadJS)(t.assetUrls.highchartsMore)};f(),l(),u.default.run()});
/*
   * Copyright 2015 Esri
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the Liscense.
   */

define("constants/AnalysisConstants",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={TC_LOSS:"TC_LOSS",TC_LOSS_GAIN:"TC_LOSS_GAIN",LC_LOSS:"LC_LOSS",BIO_LOSS:"BIO_LOSS",INTACT_LOSS:"INTACT_LOSS",MANGROVE_LOSS:"MANGROVE_LOSS",SAD_ALERTS:"SAD_ALERTS",GLAD_ALERTS:"GLAD_ALERTS",TERRA_I_ALERTS:"TERRA_I_ALERTS",FIRES:"FIRES",LCC:"LCC",SLOPE:"SLOPE",ANALYSIS_GROUP_RESTORATION:"ANALYSIS_GROUP_RESTORATION",ANALYSIS_GROUP_SLOPE:"ANALYSIS_GROUP_SLOPE",ANALYSIS_GROUP_OTHER:"ANALYSIS_GROUP_OTHER",ANALYSIS_TYPE_RESTORATION:"ANALYSIS_TYPE_RESTORATION",ANALYSIS_TYPE_SLOPE:"ANALYSIS_TYPE_SLOPE",GEOMETRY_POLYGON:"polygon",GEOMETRY_POLYLINE:"polyline"}}),define("js/config",["exports","constants/AnalysisConstants"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.urls=e.errors=e.modalText=e.layerInformation=e.layerPanelText=e.corsServers=e.analysisConfig=e.uploadConfig=e.assetUrls=e.mapConfig=void 0;var a=r(t),n="http://gis-gfw.wri.org/arcgis/rest/services/image_services/analysis/ImageServer",o={map:{options:{navigationMode:"css-transforms",force3DTransforms:!0,fadeOnZoom:!0,slider:!1,logo:!1}},corsServers:["gis-gfw.wri.org","gis-potico.wri.org","gis-treecover.wri.org","api.globalforestwatch.org","production-api.globalforestwatch.org","production-api.globalforestwatch.org/v1/ogr","production-api.globalforestwatch.org/v1/ogr/convert"],assets:{jQuery:"vendor/jquery/dist/jquery.min.js",highcharts:"vendor/highcharts/highcharts.js",highchartsMore:"vendor/highcharts/highcharts-more.js",highchartsExports:"vendor/highcharts/modules/exporting.js",ionCSS:"vendor/ion.rangeslider/css/ion.rangeSlider.css",ionSkinCSS:"vendor/ion.rangeslider/css/ion.rangeSlider.skinNice.css",rangeSlider:"vendor/ion.rangeslider/js/ion.rangeSlider.js",pickadateCSS:"vendor/pickadate/lib/compressed/themes/classic.css",pickadateDateCSS:"vendor/pickadate/lib/compressed/themes/classic.date.css"},urls:{metadataApi:"http://api.globalforestwatch.org/metadata",metadataXmlEndpoint:function(e){return"http://www.arcgis.com/sharing/rest/content/items/"+e+"/info/metadata/metadata.xml"},agolItemEndpoint:function(e){return"http://www.arcgis.com/sharing/rest/content/items/"+e}},upload:{portal:"http://www.arcgis.com/sharing/rest/content/features/generate",shapefileParams:function(e,t,r,a){return{name:e,generalize:!0,targetSr:t,maxRecordCount:1e3,reducePrecision:!0,numberOfDigitsAfterDecimal:0,enforceInputFileSizeLimit:!0,enforceOutputJsonSizeLimit:!0,maxAllowableOffset:r/a}},shapefileContent:function(e,t){return{publishParameters:e,"callback.html":"textarea",filetype:t,f:"json"}}},layerPanel:{landCoverDynamics:"Land Cover Dynamics",landCover:"Land Cover",waterStressLegend:{min:"Low",max:"High",arid:"Arid",nodata:"No Data"},sedimentLegend:{min:"Low",max:"Extreme"},firesOptions:[{label:"Past Week",value:7},{label:"Past 72 hours",value:3},{label:"Past 48 hours",value:2},{label:"Past 24 hours",value:1}],lossOptions:[{label:"2001",value:1},{label:"2002",value:2},{label:"2003",value:3},{label:"2004",value:4},{label:"2005",value:5},{label:"2006",value:6},{label:"2007",value:7},{label:"2008",value:8},{label:"2009",value:9},{label:"2010",value:10},{label:"2011",value:11},{label:"2012",value:12},{label:"2013",value:13},{label:"2014",value:14}]},errors:{missingLayerConfig:"You provided a layer config containing a url but not a type, please specify the layer type in the layer config.",incorrectLayerConfig:function(e){return"You provided an invalid type, the application is not configured for type: "+e+". Please use the correct type or implement it in the LayerFactory."},geolocationUnavailable:"Sorry, it looks like your browser does not support geolocation, please try the latest versions of Safari, Chrome, or Firefox.",geolocationFailure:function(e){return"Error retrieving location at this time. "+e},featureNotFound:"We could not find a feature available at this point. Please try again."},modals:{noInfo:"No Information Available",alerts:{title:"Subscribe to GFW Alerts",descriptions:{email:"Your email address",subscription:"Name your subscription area",subscriptionTypes:"Select your subscriptions"},messages:{formaSuccess:"Thank you for subscribing to Forma Alerts.\nYou should receive a confirmation email soon.",formaFail:"There was an error with your request to subscribe to Forma alerts.\rPlease try again later.",fireSuccess:"Thank you for subscribing to Fires Alerts.\rYou should receive a confirmation email soon.",fireFail:"There was an error with your request to subscribe to Fires alerts.\rPlease try again later."}},canopy:{slider:[0,10,15,20,25,30,50,75,100]},share:{title:"Share this view",linkInstructions:"Copy and paste the link to share it or use the buttons below to share on social media.",copyFailure:"Sorry, we were unable to copy this to your clipboard, please press Cmd + c on Mac or Ctrl + c on Windows/Linux.",copyButton:"Copy",copiedButton:"Copied",googleUrl:function(e){return"https://plus.google.com/share?url="+e},twitterUrl:function(e){return"https://twitter.com/share?url="+e+"&via=gfw-water"},facebookUrl:function(e){return"https://www.facebook.com/sharer.php?u="+e}}},analysis:{imageService:n,pixelSize:100,tcd:{id:"$520",outputValues:[0,1],inputRanges:function(e){return[0,+e,+e,101]}},restoration:{landCoverId:"$1",populationId:"$2",slopeId:"$3",treeCoverId:"$4",rainfallId:"$5"}}};o.analysis[a.default.INTACT_LOSS]={id:"$9",bounds:[0,1],colors:["#186513"]},o.analysis[a.default.MANGROVE_LOSS]={id:"$564",bounds:[0,1],colors:["#06FFAA"]},o.analysis[a.default.SAD_ALERTS]={url:"http://gis-gfw.wri.org/arcgis/rest/services/forest_change/MapServer/2",outFields:["date","data_type","st_area(shape)"],colors:{degrad:"#FA98B9",defor:"#F13689"}},o.analysis[a.default.GLAD_ALERTS]={url:"http://gis-gfw.wri.org/arcgis/rest/services/image_services/glad_alerts_analysis/ImageServer",lockrasters:{2015:6,2016:4,2017:9}},o.analysis[a.default.TERRA_I_ALERTS]={url:"http://gis-gfw.wri.org/arcgis/rest/services/image_services/terrai_analysis/ImageServer"},o.analysis[a.default.BIO_LOSS]={labels:[2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014],url:"",colors:{loss:"#FF6699",carbon:"#BEBCC2"}},o.analysis[a.default.SLOPE]={id:"$3",restoration:"$6",slopeOptions:[{label:"<= 30%",value:1},{label:"30% - 60%",value:2},{label:"> 60%",value:3}]},o.analysis[a.default.TC_LOSS_GAIN]={lossRaster:"$530",gainRaster:"$527"},o.analysis[a.default.TC_LOSS]={id:"$530",colors:["#cf5188"],bounds:[1,14],labels:[2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014]},o.analysis[a.default.FIRES]={url:"http://gis-potico.wri.org/arcgis/rest/services/Fires/Global_Fires/MapServer/4"};e.mapConfig=o.map,e.assetUrls=o.assets,e.uploadConfig=o.upload,e.analysisConfig=o.analysis,e.corsServers=o.corsServers,e.layerPanelText=o.layerPanel,e.layerInformation=o.layerInformation,e.modalText=o.modals,e.errors=o.errors,e.urls=o.urls}),define("utils/loaders",["exports","dojo/Deferred"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.loadJS=e.loadCSS=void 0;var a=r(t),n={loadCSS:function(e){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,requestAnimationFrame(function(){document.getElementsByTagName("head")[0].appendChild(t)})},loadJS:function(e,t){var r=new a.default,n=document.createElement("script");return n.src=e,n.async=t||!1,n.onload=r.resolve,n.onerror=r.reject,requestAnimationFrame(function(){document.getElementsByTagName("head")[0].appendChild(n)}),r}};e.loadCSS=n.loadCSS,e.loadJS=n.loadJS}),define("constants/LayerConstants",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ACTIVE_FIRES:"ACTIVE_FIRES",TREE_COVER:"TREE_COVER",LAND_COVER:"LAND_COVER",TREE_COVER_GAIN:"TREE_COVER_GAIN",TREE_COVER_LOSS:"TREE_COVER_LOSS",IFL:"IFL",AG_BIOMASS:"AG_BIOMASS",GLOB_MANGROVE:"GLOB_MANGROVE",IMAZON_SAD:"IMAZON_SAD",GLAD_ALERTS:"GLAD_ALERTS",TERRA_I_ALERTS:"TERRA_I_ALERTS",MASK:"MASK",LEGEND_LAYER:"LEGEND_LAYER",USER_FEATURES:"USER_FEATURES",GROUP_LCD:"GROUP_LCD",GROUP_LC:"GROUP_LC",GROUP_WEBMAP:"GROUP_WEBMAP",GROUP_BASEMAP:"GROUP_BASEMAP",WRI_CONTEXTUAL:"wri_contextual",WRI_MONO:"wri_mono",LANDSAT:"landsat",EXTRA_LAYERS:"extraLayers"}}),define("utils/arcgis-to-geojson",["exports"],function(e){"use strict";function t(e,t){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function r(e){return t(e[0],e[e.length-1])||e.push(e[0]),e}function a(e){var t,r=0,a=0,n=e.length,o=e[a];for(a;a<n-1;a++)t=e[a+1],r+=(t[0]-o[0])*(t[1]+o[1]),o=t;return r>=0}function n(e,t,r,a){var n=(a[0]-r[0])*(e[1]-r[1])-(a[1]-r[1])*(e[0]-r[0]),o=(t[0]-e[0])*(e[1]-r[1])-(t[1]-e[1])*(e[0]-r[0]),i=(a[1]-r[1])*(t[0]-e[0])-(a[0]-r[0])*(t[1]-e[1]);if(0!==i){var s=n/i,l=o/i;if(s>=0&&s<=1&&l>=0&&l<=1)return!0}return!1}function o(e,t){for(var r=0;r<e.length-1;r++)for(var a=0;a<t.length-1;a++)if(n(e[r],e[r+1],t[a],t[a+1]))return!0;return!1}function i(e,t){for(var r=!1,a=-1,n=e.length,o=n-1;++a<n;o=a)(e[a][1]<=t[1]&&t[1]<e[o][1]||e[o][1]<=t[1]&&t[1]<e[a][1])&&t[0]<(e[o][0]-e[a][0])*(t[1]-e[a][1])/(e[o][1]-e[a][1])+e[a][0]&&(r=!r);return r}function s(e,t){var r=o(e,t),a=i(e,t[0]);return!(r||!a)}function l(e){for(var t,n,i,l=[],u=[],c=0;c<e.length;c++){var d=r(e[c].slice(0));if(!(d.length<4))if(a(d)){var f=[d];l.push(f)}else u.push(d)}for(var A=[];u.length;){i=u.pop();var S=!1;for(t=l.length-1;t>=0;t--)if(n=l[t][0],s(n,i)){l[t].push(i),S=!0;break}S||A.push(i)}for(;A.length;){i=A.pop();var p=!1;for(t=l.length-1;t>=0;t--)if(n=l[t][0],o(n,i)){l[t].push(i),p=!0;break}p||l.push([i.reverse()])}return 1===l.length?{type:"Polygon",coordinates:l[0]}:{type:"MultiPolygon",coordinates:l}}function u(e){var t=[],n=e.slice(0),o=r(n.shift().slice(0));if(o.length>=4){a(o)||o.reverse(),t.push(o);for(var i=0;i<n.length;i++){var s=r(n[i].slice(0));s.length>=4&&(a(s)&&s.reverse(),t.push(s))}}return t}function c(e){for(var t=[],r=0;r<e.length;r++)for(var a=u(e[r]),n=a.length-1;n>=0;n--){var o=a[n].slice(0);t.push(o)}return t}function d(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function f(e,t){var r={};return"number"==typeof e.x&&"number"==typeof e.y&&(r.type="Point",r.coordinates=[e.x,e.y]),e.points&&(r.type="MultiPoint",r.coordinates=e.points.slice(0)),e.paths&&(1===e.paths.length?(r.type="LineString",r.coordinates=e.paths[0].slice(0)):(r.type="MultiLineString",r.coordinates=e.paths.slice(0))),e.rings&&(r=l(e.rings.slice(0))),(e.geometry||e.attributes)&&(r.type="Feature",r.geometry=e.geometry?f(e.geometry):null,r.properties=e.attributes?d(e.attributes):null,e.attributes&&(r.id=e.attributes[t]||e.attributes.OBJECTID||e.attributes.FID)),r}function A(e,t){t=t||"OBJECTID";var r,a={wkid:4326},n={};switch(e.type){case"Point":n.x=e.coordinates[0],n.y=e.coordinates[1],n.spatialReference=a;break;case"MultiPoint":n.points=e.coordinates.slice(0),n.spatialReference=a;break;case"LineString":n.paths=[e.coordinates.slice(0)],n.spatialReference=a;break;case"MultiLineString":n.paths=e.coordinates.slice(0),n.spatialReference=a;break;case"Polygon":n.rings=u(e.coordinates.slice(0)),n.spatialReference=a;break;case"MultiPolygon":n.rings=c(e.coordinates.slice(0)),n.spatialReference=a;break;case"Feature":e.geometry&&(n.geometry=A(e.geometry,t)),n.attributes=e.properties?d(e.properties):{},e.id&&(n.attributes[t]=e.id);break;case"FeatureCollection":for(n=[],r=0;r<e.features.length;r++)n.push(A(e.features[r],t));break;case"GeometryCollection":for(n=[],r=0;r<e.geometries.length;r++)n.push(A(e.geometries[r],t))}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default={arcgisToGeoJSON:f,geojsonToArcGIS:A}}),define("utils/params",["exports"],function(e){"use strict";function t(e){if(!e)return{};var t={},r=e.split("&").map(function(e){return e.split("=").map(function(e){return decodeURIComponent(e)})});return r.forEach(function(e){return e[0]&&e[1]?void(t[e[0]]=e[1]):void console.warn("You provided an invalid key-value pair, "+e[0]+" is being omitted.")}),t}function r(e,t){var r="You should not be converting nested objects as they wont encode properly. Try making it a string first.",a=[];for(var n in e){if("[object Object]"===Object.prototype.toString.call(e[n]))throw new Error(r);t?a.push(n+"="+e[n]):a.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}return a.join("&")}function a(e){if(!e)return{};var r=e.split("?"),a=r.length>1?r[1]:"";return t(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.toObject=t,e.toQuerystring=r,e.getUrlParams=a}),define("utils/AppUtils",["exports","constants/LayerConstants","utils/params","resources"],function(e,t,r,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(t),i=n(a),s={getObject:function(e,t,r){var a=void 0;return e.some(function(e){if(e[t]===r)return a=e,!0}),a},containsObject:function(e,t,r){return e.some(function(e){return e[t]===r})},validLatLng:function(e,t){return e>-90&&e<90&&t>-180&&t<180},roundToHundred:function(e){return 100*Math.floor(e/100)},supportsExecCommand:function(){return"undefined"!=typeof document&&!!document.execCommand},copySelectionFrom:function(e){var t=!1;if(!s.supportsExecCommand())return t;e.select();try{t=document.execCommand("copy")}catch(e){console.error(e)}return t},clone:function(e){return JSON.parse(JSON.stringify(e))},generateReport:function(e){var t=e.selectedFeature,a=e.settings,n=e.lang,l=e.canopyDensity,u=e.appid,c=e.activeSlopeClass,d=e.activeLayers,f=s.getObject(i.default.layerPanel.extraLayers,"id",o.default.USER_FEATURES),A=t._layer,S=function(){return A.source?A.source.mapLayerId:A.layerId};if(A.id===f.id)A.applyEdits([t],null,null,function(e){if(e.length){var t=e[0].objectId,o=S(A),i=A.id,s=A.url.slice(0,A.url.lastIndexOf("/")),f=a.labels[n],p={title:f.title,subtitle:f.subtitle,logoUrl:a.logoUrl,logoLinkUrl:a.logoLinkUrl,activeSlopeClass:c,webmap:a.webmap,idvalue:t,service:s,layerid:o,layerName:i,tcd:l,lang:n,activeLayers:d};u&&(p.appid=u);var _=(0,r.toQuerystring)(p);window.open("report.html?"+_)}else console.error("Unable to save feature at this time")},function(e){console.error(e)});else if(A.url){var p=A.objectIdField,_=t.attributes[p],h=S(A),E=A.id,m=A.url.slice(0,A.url.lastIndexOf("/")),L=a.labels[n],O={title:L.title,subtitle:L.subtitle,logoUrl:a.logoUrl,logoLinkUrl:a.logoLinkUrl,activeSlopeClass:c,webmap:a.webmap,idvalue:_,service:m,layerid:h,layerName:E,tcd:l,lang:n,activeLayers:d};u&&(O.appid=u);var g=(0,r.toQuerystring)(O);window.open("report.html?"+g)}},pad:function(e,t,r){for(var a=e.toString(),n=0;n<r;)a=t+a,n++;return a.slice(a.length-r)},getJulianDate:function(e){var t=864e5,r=new Date(e),a=new Date(r.getFullYear(),0,0),n=Math.ceil((r-a)/t),o=1e3*(r.getFullYear()-2e3);return o+n},getDateFromGridCode:function(e){var t=Math.floor((e-1)/23)+2004,r=(e-1)%23*16+1;return{year:t,day:r}},range:function(e,t){for(var r=[],a=e;a<=t;)r.push(a),++a;return r}};e.default=s}),define("utils/analysisUtils",["exports","esri/geometry/webMercatorUtils","utils/arcgis-to-geojson","esri/tasks/QueryTask","js/config","esri/request","esri/tasks/query","dojo/Deferred","utils/AppUtils","dojo/_base/lang","dojo/promise/all"],function(e,t,r,a,n,o,i,s,l,u,c){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var A=d(t),S=d(r),p=d(a),_=d(o),h=d(i),E=d(s),m=d(l),L=d(u),O=d(c),g=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),T="The requested image exceeds the size limit.",v=3,I=1,y=function(e){return 400===e.code&&e.details&&e.details.length>0&&e.details[0]===T},R=function(e){return{input:3===e?[0,3,3,3]:[0,e,e,e,e+1,3],output:3===e?[0,1]:[0,1,0]}},N={fires:function(e){return{fireCount:e.features?e.features.length:0}},sadAlerts:function(e){var t=void 0,r=void 0,a=void 0,n=void 0,o=void 0,i=e.features,s={};return i.forEach(function(e){t=new Date(e.attributes.date),a=t.getFullYear(),r=t.getMonth(),n=e.attributes.data_type,o=e.attributes["st_area(shape)"],s[a]&&s[a][r]&&s[a][r][n]?s[a][r][n]+=o:s[a]&&s[a][r]?s[a][r][n]=o:s[a]?(s[a][r]={},s[a][r][n]=o):(s[a]={},s[a][r]={},s[a][r][n]=o)}),{alerts:s}},gladAlerts:function(e,t){for(var r=[],a=0;a<t.length;a++)r.push([new Date(e,0,a+1).getTime(),t[a]||0]);return r},terraIAlerts:function(e){for(var t=[],r=1;r<e.length;r++)if(e[r]){var a=m.default.getDateFromGridCode(r),n=a.year,o=a.day;t.push([new Date(n,0,o).getTime(),e[r]])}return t},getCounts:function(e,t,r){var a=e.histograms,n=a&&1===a.length?a[0].counts:[];return n=n.map(function(e){return e*Math.pow(t,2)/1e4}),{counts:r?n:n.slice(1)}},getRestorationValues:function(e){var t=e.histograms,r=t&&1===t.length?t[0].counts:[];return r=r.map(function(e){return.09*e}),{counts:r}}},b={mosaicRule:function(e){return{mosaicMethod:"esriMosaicLockRaster",mosaicOperation:"MT_FIRST",lockRasterIds:[e],ascending:!0}},arithmetic:function(e,t,r){return{rasterFunction:"Arithmetic",rasterFunctionArguments:{Raster:e,Raster2:t,Operation:r}}},remap:function(e,t,r){return{rasterFunction:"Remap",rasterFunctionArguments:{InputRanges:t,OutputValues:r,Raster:e,AllowUnmatched:!1}}}},C=function(e,t,r,a){return t.geometry&&(t.geometry=JSON.stringify(t.geometry)),t.renderingRule&&(t.renderingRule=JSON.stringify(t.renderingRule)),t.mosaicRule&&(t.mosaicRule=JSON.stringify(t.mosaicRule)),t.geometryType=t.geometryType||"esriGeometryPolygon",t.f=t.f||"json",r&&a?void(0,_.default)({url:e+"/computeHistograms",callbackParamName:"callback",content:t,handleAs:"json",timeout:3e4},{usePost:!0}).then(r,a):(0,_.default)({url:e+"/computeHistograms",callbackParamName:"callback",content:t,handleAs:"json",timeout:3e4},{usePost:!0})},P=function(){function e(t,r){f(this,e),this.fromBounds=function(e){for(var t=[],r=e[1],a=e[0];a<=r;a++)t.push(a);return t},this.A=this.fromBounds(t),this.B=this.fromBounds(r)}return g(e,[{key:"encode",value:function(e,t){return this.B.length*e+t}},{key:"decode",value:function(e){var t=e%this.B.length,r=(e-t)/this.B.length;return[r,t]}},{key:"getSimpleRule",value:function(e,t,r){var a=n.analysisConfig.tcd,o=b.remap(a.id,a.inputRanges(r),a.outputValues),i=b.arithmetic(o,b.arithmetic(e,t,v),v);return i.rasterFunctionArguments.Raster2.outputPixelType="U8",i}},{key:"getRule",value:function(e,t,r){var a=n.analysisConfig.tcd,o=b.remap(e,[this.A[0],this.A[this.A.length-1]+1],[this.B.length]),i=b.remap(a.id,a.inputRanges(r),a.outputValues),s=b.arithmetic(i,b.arithmetic(b.arithmetic(o,e,v),t,I),v);return s.rasterFunctionArguments.Raster2.outputPixelType="U8",s}}]),e}();e.default={getFireCount:function(e,t){var r=new p.default(e),a=new E.default,n=new h.default;return n.geometry=t,n.returnGeometry=!1,n.outFields=[""],n.where="1 = 1",r.execute(n).then(function(e){a.resolve(N.fires(e))},function(e){a.resolve(N.fires(e))}),a},getSADAlerts:function(e,t){var r=new p.default(e.url),a=new E.default,n=new h.default;return n.geometry=t,n.returnGeometry=!1,n.outFields=e.outFields,n.where="1 = 1",r.execute(n).then(function(e){a.resolve(N.sadAlerts(e))},function(e){a.resolve(N.sadAlerts(e))}),a},getGLADAlerts:function(e,t){var r=this,a=new E.default;return(0,O.default)([this.getMosaic(e.lockrasters[2015],t,e.url),this.getMosaic(e.lockrasters[2016],t,e.url),this.getMosaic(e.lockrasters[2017],t,e.url)]).then(function(e){var t=r.cleanGlad(e);a.resolve(t)}),a},getTerraIAlerts:function(e,t){var r=new E.default,a={geometry:t},n=function(e){var t=e.histograms,a=t&&t.length&&t[0].counts||[];r.resolve(N.terraIAlerts(a))},o=function t(o){y(o)&&500!==a.pixelSize?(a.pixelSize=500,C(e.url,a,n,t)):r.resolve(o)};return C(e.url,a,n,o),r},getCountsWithDensity:function(e,t,r){var a=new E.default,o=n.analysisConfig.tcd,i=b.remap(o.id,o.inputRanges(r),o.outputValues),s=n.analysisConfig.imageService,l=n.analysisConfig.pixelSize,u={pixelSize:l,geometry:t,renderingRule:b.arithmetic(i,e,v)},c=function(e){a.resolve(N.getCounts(e,u.pixelSize))},d=function e(t){y(t)&&500!==u.pixelSize?(u.pixelSize=500,C(s,u,c,e)):a.resolve(t)};return C(s,u,c,d),a},getMosaic:function(e,t,r){var a=new E.default,o=n.analysisConfig.imageService,i=n.analysisConfig.pixelSize,s={pixelSize:i,geometry:t,mosaicRule:b.mosaicRule(e)},l=function(e){a.resolve(N.getCounts(e,s.pixelSize))},u=function e(t){y(t)&&500!==s.pixelSize?(s.pixelSize=500,C(r||o,s,l,e)):a.resolve(t)};return C(r||o,s,l,u),a},getBiomassLoss:function(e,t){var r=new E.default,a=A.default.webMercatorToGeographic(e),n=S.default.arcgisToGeoJSON(a),o={geojson:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:n}]}},i=JSON.stringify(o),s=function(e){var a={geostore:e.data.id,period:"2001-01-01,2014-12-31",thresh:t};(0,_.default)({url:"https://production-api.globalforestwatch.org/biomass-loss",callbackParamName:"callback",content:a,handleAs:"json",timeout:3e4},{usePost:!1}).then(function(e){r.resolve(e||[])},function(e){console.error(e),r.resolve([])})},l=new XMLHttpRequest,u="https://production-api.globalforestwatch.org/geostore",c=i;return l.open("POST",u,!0),l.setRequestHeader("Content-type","application/json"),l.onreadystatechange=function(){4===l.readyState&&200===l.status?s(JSON.parse(l.responseText)):4===l.readyState&&r.resolve([])},l.send(c),r},getCrossedWithLoss:function(e,t,r,a){var o=new E.default,i=n.analysisConfig.imageService,s=n.analysisConfig.pixelSize,l=new P(t.bounds,e.bounds),u=e.remap?e.remap:e.id,c=a.simple?l.getSimpleRule(t.id,u,a.canopyDensity):l.getRule(t.id,u,a.canopyDensity),d={geometry:r,pixelSize:s,renderingRule:c},f=function(e){o.resolve({counts:N.getCounts(e,d.pixelSize,!0).counts,encoder:l,options:a})},A=function e(t){y(t)&&500!==d.pixelSize?(d.pixelSize=500,C(i,d,f,e)):o.resolve(t)};return C(i,d,f,A),o},getSlope:function(e,t,r,a,o){var i=R(t),s=n.analysisConfig.pixelSize,l=new E.default,u=b.arithmetic(b.remap(r,i.input,i.output),a,v),c={pixelSize:s,geometry:o,renderingRule:u},d=function(e){var t=N.getCounts(e,c.pixelSize).counts;l.resolve({counts:t.slice(1)})},f=function t(r){y(r)&&500!==c.pixelSize?(c.pixelSize=500,C(e,c,d,t)):l.resolve(r)};return C(e,c,d,f),l},cleanGlad:function(e){var t=[];return e.forEach(function(r,a){if(a!==e.length-1)for(var n=r.counts.length;n<366;n++)r.counts.push(0);else for(var o=new Date,i=new Date(o.getFullYear(),0,0),s=o-i,l=864e5,u=Math.floor(s/l),c=u-r.counts.length,d=0;d<c;d++)r.counts.push(0);var f=2015+a;f=f.toString(),t=t.concat(N.gladAlerts(f,r.counts))}),t},getRestoration:function(e,t,r,a){var o=new E.default,i=n.analysisConfig.pixelSize,s=n.analysisConfig.restoration,l={pixelSize:i,geometry:r},u=L.default.delegate(l,{renderingRule:b.arithmetic(s.landCoverId,t,v)}),c=L.default.delegate(l,{renderingRule:b.arithmetic(s.treeCoverId,t,v)}),d=L.default.delegate(l,{renderingRule:b.arithmetic(s.populationId,t,v)}),f=L.default.delegate(l,{renderingRule:b.arithmetic(s.slopeId,t,v)}),A=L.default.delegate(l,{renderingRule:b.arithmetic(s.rainfallId,t,v)}),S={};return a.restorationLandCover&&(S.LC=C(e,u)),a.restorationPopulation&&(S.TC=C(e,c)),a.restorationTreeCover&&(S.POP=C(e,d)),a.restorationSlopePotential&&(S.SLOPE=C(e,f)),a.restorationRainfall&&(S.RAINFALL=C(e,A)),(0,O.default)(S).always(function(e){e.error?o.resolve(e):o.resolve({landCover:e.LC?N.getCounts(e.LC,l.pixelSize,!0).counts:[0],treeCover:e.TC?N.getCounts(e.TC,l.pixelSize,!0).counts:[0],population:e.POP?N.getCounts(e.POP,l.pixelSize,!0).counts:[0],slope:e.SLOPE?N.getCounts(e.SLOPE,l.pixelSize,!0).counts:[0],rainfall:e.RAINFALL?N.getCounts(e.RAINFALL,l.pixelSize,!0).counts:[0]})}),o}}}),define("utils/performAnalysis",["exports","constants/AnalysisConstants","constants/LayerConstants","utils/analysisUtils","js/config","dojo/Deferred","utils/AppUtils","dojo/promise/all","esri/geometry/geometryEngine"],function(e,t,r,a,n,o,i,s,l){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.type,r=e.geometry,a=e.canopyDensity,o=e.activeSlopeClass,i=e.settings,s=i&&i.restorationImageServer,l=i&&i.layerPanel&&i.layerPanel.GROUP_LC?p.default.getObject(i.layerPanel.GROUP_LC.layers,"id",f.default.LAND_COVER):{},u=n.analysisConfig[t],c=new S.default;switch(t){case d.default.FIRES:A.default.getFireCount(u.url,r).then(c.resolve);break;case d.default.LCC:A.default.getMosaic(l.rasterId,r).then(c.resolve);break;case d.default.TC_LOSS:A.default.getCountsWithDensity(u.id,r,a).then(c.resolve);break;case d.default.SLOPE:var E=i.slopeClasses.indexOf(o);A.default.getSlope(s,E,u.id,u.restoration,r).then(c.resolve);break;case d.default.TC_LOSS_GAIN:(0,_.default)([A.default.getCountsWithDensity(u.lossRaster,r,a),A.default.getCountsWithDensity(u.gainRaster,r,a)]).then(function(e){c.resolve({lossCounts:e[0].counts,gainCounts:e[1].counts})});break;case d.default.LC_LOSS:A.default.getCrossedWithLoss({id:l.rasterId,bounds:l.bounds},n.analysisConfig[d.default.TC_LOSS],r,{canopyDensity:a}).then(c.resolve);break;case d.default.BIO_LOSS:var m=h.default.generalize(r,10,!0,"miles");A.default.getBiomassLoss(m,a).then(c.resolve,c.reject);break;case d.default.INTACT_LOSS:A.default.getCrossedWithLoss(u,n.analysisConfig[d.default.TC_LOSS],r,{canopyDensity:a,simple:!0}).then(c.resolve);break;case d.default.MANGROVE_LOSS:A.default.getCrossedWithLoss(u,n.analysisConfig[d.default.TC_LOSS],r,{canopyDensity:a,simple:!0}).then(c.resolve);break;case d.default.SAD_ALERTS:A.default.getSADAlerts(u,r).then(c.resolve);break;case d.default.GLAD_ALERTS:A.default.getGLADAlerts(u,r).then(c.resolve);break;case d.default.TERRA_I_ALERTS:A.default.getTerraIAlerts(u,r).then(c.resolve);break;default:A.default.getRestoration(s,t,r,i).then(c.resolve)}return c}Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var d=u(t),f=u(r),A=u(a),S=u(o),p=u(i),_=u(s),h=u(l)}),define("js/layers/EsriTileCanvasBase",["exports","dojo/_base/declare","esri/geometry/Point","esri/layers/layer"],function(e,t,r,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return"translate3d("+e.x+"px, "+e.y+"px, 0)"}function i(e,t){var r=p.rows*t;return Math.floor((p.origin.y-e)/r)}function s(e,t){var r=p.cols*t;return Math.floor((e-p.origin.x)/r)}function l(e,t,r,a,n){var o,i,s=[];for(i=t;i<=a;i++)for(o=e;o<=r;o++)s.push({x:i,y:o,z:n});return s}function u(e,t){return e/Math.pow(2,t)*360-180}function c(e,t){var r=Math.PI-2*Math.PI*e/Math.pow(2,t);return 180/Math.PI*Math.atan(.5*(Math.exp(r)-Math.exp(-r)))}Object.defineProperty(e,"__esModule",{value:!0});var d=n(t),f=n(r),A=n(a),S={tileSize:256,maxZoom:12},p={rows:256,cols:256,origin:{x:-20037508.34,y:20037508.34}},_=function(){var e=document.createElement("canvas");return e&&e.getContext};e.default=(0,d.default)("EsriTileCanvasBase",[A.default],{constructor:function(e){if(this.options=Object.assign({},S,e),this.visible=void 0===this.options.visible||this.options.visible,this.loaded=!0,this.options.id&&(this.id=this.options.id),this.tiles={},this.tileRequests=[],this.position={x:0,y:0},this._handles=[],!_())throw new Error("Canvas is not supported in this browser.");if(!this.options.url)throw new Error("You must provide a 'url' in your options.");this.onLoad(this)},_setMap:function(e){return this._map=e,this._container=document.createElement("div"),this._container.style.display=this.visible?"block":"none",this._container.style.transform=o(this.position),this._container.style.position="absolute",this._container.style.height="100%",this._container.style.width="100%",this._container.style.left=0,this._container.style.top=0,this._handles.push(this._map.on("extent-change",this._extentChanged.bind(this))),this._handles.push(this._map.on("zoom-start",this._onZoomStart.bind(this))),this._handles.push(this._map.on("pan-end",this._onPanEnd.bind(this))),this._handles.push(this._map.on("pan",this._onPan.bind(this))),this._container},_unsetMap:function(){this._handles.forEach(function(e){e.remove&&e.remove()}),this._map=null},_extentChanged:function(){var e=this;if(this.visible){for(var t=this._map.getResolution(),r=this._map.getLevel(),a=this._map.extent,n=0;n<this.tiles.length;n++)this.tiles[n].z!==r&&(this.tiles[n].canvas.remove(),delete this.tiles[n]);var o=i(a.ymax,t),u=i(a.ymin,t),c=s(a.xmin,t),d=s(a.xmax,t),f=l(o,c,u,d,r);f.forEach(function(t){return e._fetchTile(t)});for(var A=[],S=0;S<this._container.children.length;S++){var p=this._container.children[S].id;p=p.split("_"),p.length>0&&(p=p[2],p&&(p=parseInt(p),p!==r&&(console.log(p),A.push(this._container.children[S]))))}A.forEach(function(e){e.remove()})}},_onZoomStart:function(){var e=this;Object.keys(this.tiles).forEach(function(t){delete e.tiles[t]}),this.position={x:0,y:0},this._container.innerHTML="",this._container.style.transform=o(this.position);for(var t=0;t<this.tileRequests.length;t++)this.tileRequests[t].abort();this.tileRequests=[]},_onPanEnd:function(e){var t=e.delta;this.position={x:this.position.x+t.x,y:this.position.y+t.y}},_onPan:function(e){var t=e.delta;this._container.style.transform=o({x:this.position.x+t.x,y:this.position.y+t.y})},_fetchTile:function(e){var t=this,r=this._getId(e),a=void 0;if(this.tiles[r])return void this._drawTile(this.tiles[r]);if(e.z>this.options.maxZoom){var n=this._getZoomSteps(e.z),o=Math.floor(e.x/Math.pow(2,n)),i=Math.floor(e.y/Math.pow(2,n));a=this._getUrl({x:o,y:i,z:this.options.maxZoom})}else a=this._getUrl(e);this._fetchImage(a,function(n){var o=document.createElement("canvas");o.height=t.options.tileSize,o.width=t.options.tileSize,o.style.position="absolute",o.setAttribute("id",r);var i={x:e.x,y:e.y,z:e.z,canvas:o,image:n,id:r,url:a};t.tiles[r]=i,t._drawTile(i)})},_drawTile:function e(t){"use asm";var r=u(t.x,t.z),a=c(t.y,t.z),n=this._map.toScreen(new f.default(r,a)),i=this.options.tileSize,s=t.canvas;if(!s.parentElement){var l=s.getContext("2d");var d=Math.abs(this.position.y)+n.y;if(this.position.y>0){d=n.y-this.position.y}var A=Math.abs(this.position.x)+n.x;if(this.position.x>0){A=n.x-this.position.x}s.style.transform=o({x:A,y:d});if(this.id==="TREE_COVER_GAIN"){var S="url("+t.url+")";l.canvas.style.background=S}else{if(t.z>this.options.maxZoom){var p=this._getSubrectangleInfo(t);l.imageSmoothingEnabled=false;l.mozImageSmoothingEnabled=false;l.drawImage(t.image,p.sX,p.sY,p.sWidth,p.sHeight,0,0,i,i)}else{l.drawImage(t.image,0,0)}var _=l.getImageData(0,0,i,i);_.data.set(this.filter(_.data));l.putImageData(_,0,0)}this._container.appendChild(s);var h=this._map.getLevel();if(t.z===h){this._container.appendChild(s)}}},_fetchImage:function(e,t){var r=new XMLHttpRequest;r.onload=function(){var e=URL.createObjectURL(this.response),r=new Image;r.onload=function(){t(r),URL.revokeObjectURL(e)},r.src=e},r.open("GET",e,!0),r.responseType="blob",r.send()},_getUrl:function(e){return this.options.url.replace("{x}",e.x).replace("{y}",e.y).replace("{z}",e.z)},_getId:function(e){return e.x+"_"+e.y+"_"+e.z},_getZoomSteps:function(e){return e-this.options.maxZoom},_getSubrectangleInfo:function(e){var t=this._getZoomSteps(e.z),r=this.options.tileSize;return{sX:r/Math.pow(2,t)*(e.x%Math.pow(2,t)),sY:r/Math.pow(2,t)*(e.y%Math.pow(2,t)),sWidth:r/Math.pow(2,t),sHeight:r/Math.pow(2,t)}},refresh:function(){var e=this;Object.keys(this.tiles).forEach(function(t){var r=e.tiles[t],a=r.canvas.getContext("2d"),n=e.options.tileSize;if(r.z>e.options.maxZoom){var o=e._getSubrectangleInfo(r);a.imageSmoothingEnabled=!1,a.mozImageSmoothingEnabled=!1,a.drawImage(r.image,o.sX,o.sY,o.sWidth,o.sHeight,0,0,n,n)}else a.drawImage(r.image,0,0,n,n);var i=a.getImageData(0,0,n,n);i.data.set(e.filter(i.data)),a.putImageData(i,0,0)})},show:function(){this.visible=!0,this._container.style.display="block",this._extentChanged()},hide:function(){this.visible=!1,this._container.style.display="none";
},setOpacity:function(e){this._container.style.opacity=e},filter:function(){throw new Error("The filter method must be implemented. It filters image data from context.getImageData().data. and must return an array.")}})}),define("js/layers/TerraILayer",["exports","./EsriTileCanvasBase","dojo/_base/declare","utils/AppUtils"],function(e,t,r,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(t),i=n(r),s=n(a),l=2e3;e.default=(0,i.default)("TerraILayer",[o.default],{filter:function(e){for(var t=0;t<e.length;t+=4){var r=[e[t],e[t+1],e[t+2]],a=this.decodeDate(r);a.date>=this.options.minDateValue&&a.date<=this.options.maxDateValue?(e[t+3]=a.intensity,e[t]=255,e[t+1]=102,e[t+2]=153):e[t+3]=0}return e},decodeDate:function(e){var t=e[0]+e[1],r=this.getJulianDateFromGridCode(t),a=e[2];return a>255&&(a=255),{intensity:a,date:r}},getJulianDateFromGridCode:function(e){var t=s.default.getDateFromGridCode(e),r=t.year,a=t.day;return r%l*1e3+a},setDateRange:function(e,t){this.options.minDateValue=parseInt(e),this.options.maxDateValue=parseInt(t),this.refresh()}})}),define("js/layers/GladLayer",["exports","./EsriTileCanvasBase","dojo/_base/declare"],function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){var t="00"+e;return t.slice(t.length-3)}Object.defineProperty(e,"__esModule",{value:!0});var o=a(t),i=a(r);e.default=(0,i.default)("GladLayer",[o.default],{filter:function(e){for(var t=0;t<e.length;t+=4){var r=[e[t],e[t+1],e[t+2]],a=this.decodeDate(r);a.date>=this.options.minDateValue&&a.date<=this.options.maxDateValue&&this.options.confidence.indexOf(a.confidence)>-1?(e[t+3]=a.intensity,e[t]=220,e[t+1]=102,e[t+2]=153):e[t+3]=0}return e},decodeDate:function(e){var t=255*e[0]+e[1],r=parseInt(t/365)+15,a=1e3*r,o=t%365,i=a+o,s=n(e[2]),l=parseInt(s[0])-1,u=parseInt(s.slice(1,3)),c=50*u;return c>255&&(c=255),{confidence:l,intensity:c,date:i}},setDateRange:function(e,t){this.options.minDateValue=parseInt(e),this.options.maxDateValue=parseInt(t),this.refresh()},setConfidenceLevel:function(e){this.options.confidence="all"===e?[0,1]:[1],this.refresh()}})}),define("js/layers/TreeCoverLossLayer",["exports","./EsriTileCanvasBase","dojo/_base/declare"],function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(t),o=a(r);e.default=(0,o.default)("TreeCoverLossLayer",[n.default],{setUrl:function(e){this.options.url=e},filter:function(e){for(var t=2;t<e.length+2;t+=4){var r=[e[t],e[t+1],e[t+2]],a=this.decodeDate(r);a.year>=this.options.minYear&&a.year<=this.options.maxYear?(e[t+3]=a.intensity,e[t]=153,e[t+1]=a.intensity,e[t+2]=220,e[t+3]=0):(e[t+3]=0,e[t+2]=0,e[t+1]=0,e[t]=0)}return e},decodeDate:function(e){var t=e[0],r=e[2];return{intensity:r,year:t}},setDateRange:function(e,t){this.options.minYear=parseInt(e),this.options.maxYear=parseInt(t),this.refresh()}})}),define("js/layers/TreeCoverGainLayer",["exports","./EsriTileCanvasBase","dojo/_base/declare"],function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(t),o=a(r);e.default=(0,o.default)("TreeCoverGainLayer",[n.default],{filter:function(e){for(var t=0;t<e.length;t+=4){var r=[e[t],e[t+1],e[t+2]],a=this.decodeIntensity(r);e[t+3]>0?(e[t]=0,e[t+1]=0,e[t+2]=255,e[t+3]=a.intensity):(e[t]=0,e[t+1]=0,e[t+2]=0,e[t+3]=0)}return e},decodeIntensity:function(e){var t=e[2];return{intensity:t}}})}),define("utils/layerUtils",["exports","esri/InfoTemplate","esri/request"],function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(t),o=a(r);e.default={getLayerMetadata:function(e){return(0,o.default)({url:e,content:{f:"json"}})},makeInfoTemplate:function(e,t){var r='<div class="esriViewPopup"><div class="mainSection">',a=e.title[t],o=e.content[t];return a&&(r+='<div class="header">'+a+"</div>"),r+='<table class="attrTable">',o&&o.forEach(function(e){r+='<tr><td class="attrName">'+e.label+'</td><td class="attrValue">${'+e.fieldExpression+"}</td></tr>"}),r+="</table></div></div>",new n.default({content:r})}}}),define("utils/layerFactory",["exports","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/ArcGISImageServiceLayer","esri/layers/ImageParameters","esri/layers/WebTiledLayer","esri/layers/GraphicsLayer","esri/layers/FeatureLayer","js/layers/TerraILayer","js/layers/GladLayer","js/layers/TreeCoverLossLayer","js/layers/TreeCoverGainLayer","utils/layerUtils","js/config"],function(e,t,r,a,n,o,i,s,l,u,c,d,f,A){"use strict";function S(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var p=S(t),_=S(r),h=S(a),E=S(n),m=S(o),L=S(i),O=S(s),g=S(l),T=S(u),v=S(c),I=S(d),y=S(f);e.default=function(e,t){if(e.hasOwnProperty("esriLayer"))return e.esriLayer;if(!e.url&&"graphic"!==e.type||!e.type)throw new Error(A.errors.missingLayerConfig);var r={},a=void 0;switch(e.type){case"tiled":r.id=e.id,r.visible=e.visible||!1,a=new _.default(e.url,r);break;case"webtiled":r.id=e.id,r.visible=e.visible||!1,e.subDomains&&(r.subDomains=e.subDomains),a=new m.default(e.url,r);break;case"image":r.id=e.id,r.visible=e.visible||!1,r.opacity=e.opacity||1,a=new h.default(e.url,r);break;case"dynamic":var n=new E.default;n.layerOption=E.default.LAYER_OPTION_SHOW,n.layerIds=e.layerIds,n.format="png32",r.id=e.id,r.visible=e.visible||!1,r.opacity=e.opacity||1,r.imageParameters=n,e.popup&&!function(){r.infoTemplates={};var a=y.default.makeInfoTemplate(e.popup,t);e.layerIds.forEach(function(e){r.infoTemplates[e]={infoTemplate:a}})}(),a=new p.default(e.url,r);break;case"feature":r.id=e.id,r.visible=e.visible||!1,void 0!==e.mode&&(r.mode=e.mode),e.definitionExpression&&(r.definitionExpression=e.definitionExpression),e.popup&&(r.infoTemplate=y.default.makeInfoTemplate(e.popup,t)),a=new O.default(e.url,r);break;case"graphic":r.id=e.id,r.visible=e.visible||!1,e.popup&&(r.infoTemplate=y.default.makeInfoTemplate(e.popup)),a=new L.default(r);break;case"glad":r.id=e.id,r.url=e.url,r.minDateValue=e.minDateValue,r.maxDateValue=e.maxDateValue,r.confidence=e.confidence,r.visible=e.visible||!1,a=new T.default(r);break;case"loss":r.id=e.id,r.url=e.url,r.minYear=e.minYear,r.maxYear=e.maxYear,r.visible=e.visible||!1,a=new v.default(r);break;case"gain":r.id=e.id,r.url=e.url,r.visible=e.visible||!1,a=new I.default(r);break;case"terra":e.visible=e.visible||!1,a=new g.default(e);break;default:throw new Error(A.errors.incorrectLayerConfig(e.type))}return a}}),define("utils/template",["exports","constants/LayerConstants","esri/arcgis/utils","utils/params","dojo/Deferred","dojo/_base/lang","resources"],function(e,t,r,a,n,o,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var l=s(t),u=s(r),c=s(n),d=s(o),f=s(i),A=";",S=function(e){return Object.keys(e).forEach(function(t){""!==e[t]&&void 0!==e[t]&&null!==e[t]||delete e[t]}),e},p=function(e){return e.split(A).filter(function(e){return void 0!==e&&""!==e})},_=function(){var e=location.href.replace(location.search,"");f.default.labels={},f.default.labels[f.default.language]={title:f.default.title,subtitle:f.default.subtitle,narrative:f.default.narrative,webmapMenuName:f.default.webmapMenuName};var t=f.default.mapThemes?p(f.default.mapThemes):[],r=f.default.mapThemeIds?p(f.default.mapThemeIds):[];if(t.length===r.length&&t.length>0&&(f.default.labels[f.default.language].themes=[],t.forEach(function(t,a){var n=e+"?appid="+r[a].trim();"#"===r[a]&&(n=e+"?"),f.default.labels[f.default.language].themes.push({label:t.trim(),url:n})})),f.default.useAlternativeLanguage&&f.default.alternativeLanguage){f.default.labels[f.default.alternativeLanguage]={title:f.default.alternativeLanguageTitle,subtitle:f.default.alternativeLanguageSubtitle,narrative:f.default.alternativeNarrative||f.default.narrative,webmapMenuName:f.default.alternativeWebmapMenuName||f.default.webmapMenuName};var a=f.default.alternativeMapThemes?p(f.default.alternativeMapThemes):[];a.length===r.length&&t.length>0&&(f.default.labels[f.default.alternativeLanguage].themes=[],a.forEach(function(t,a){f.default.labels[f.default.alternativeLanguage].themes.push({label:t.trim(),url:e+"?appid="+r[a].trim()})}))}f.default.restorationModule&&(f.default.restorationOptions&&!function(){var e=p(f.default.restorationOptions),t=p(f.default.restorationOptionsRasterIds);f.default.labels[f.default.language].restorationOptions=[],e.forEach(function(e,r){f.default.labels[f.default.language].restorationOptions.push({id:"$"+t[r],label:e})}),f.default.slopeAnalysisPotentialColors=p(f.default.slopePotentialColors),f.default.labels[f.default.language].slopeAnalysisPotentialOptions=p(f.default.slopePotentialOptions),f.default.labels[f.default.language].restorationChartDescription=f.default.restorationChartDescription,f.default.labels[f.default.language].restorationTableDescription=f.default.restorationTableDescription,f.default.labels[f.default.language].slopeDescription=f.default.slopeDescription,f.default.useAlternativeLanguage&&(f.default.labels[f.default.alternativeLanguage].slopeAnalysisPotentialOptions=p(f.default.alternativeSlopePotentialOptions),e=p(f.default.alternativeRestorationOptions),f.default.labels[f.default.alternativeLanguage].restorationOptions=[],e.forEach(function(e,r){f.default.labels[f.default.alternativeLanguage].restorationOptions.push({id:"$"+t[r],label:e})}),f.default.labels[f.default.alternativeLanguage].restorationChartDescription=f.default.alternativeRestorationChartDescription,f.default.labels[f.default.alternativeLanguage].restorationTableDescription=f.default.alternativeRestorationTableDescription,f.default.labels[f.default.alternativeLanguage].slopeDescription=f.default.alternativeSlopeDescription)}(),f.default.slopeClassNames&&(f.default.slopeClasses=p(f.default.slopeClassNames),f.default.slopeColors=p(f.default.slopeClassColors)),f.default.treeCoverClassNames&&(f.default.treeCoverClasses=p(f.default.treeCoverClassNames),f.default.treeCoverColors=p(f.default.treeCoverClassColors)),f.default.landCoverClassNames&&(f.default.landCoverClasses=p(f.default.landCoverClassNames),f.default.landCoverColors=p(f.default.landCoverClassColors)),f.default.populationClassNames&&(f.default.populationClasses=p(f.default.populationClassNames),f.default.populationColors=p(f.default.populationClassColors)),f.default.rainfallClassNames&&(f.default.rainfallClasses=p(f.default.rainfallClassNames),f.default.rainfallColors=p(f.default.rainfallClassColors))),Object.keys(f.default.layerPanel).forEach(function(e){var t=f.default.layerPanel[e];t.layers&&(f.default.layerPanel[e].layers=f.default.layerPanel[e].layers.filter(function(e){switch(e.id){case l.default.ACTIVE_FIRES:return f.default.activeFires;case l.default.LAND_COVER:return f.default.landCover;case l.default.AG_BIOMASS:return f.default.aboveGroundBiomass;case l.default.IFL:return f.default.intactForests;case l.default.GLOB_MANGROVE:return f.default.mangroves;case l.default.IMAZON_SAD:return f.default.sadAlerts;case l.default.GLAD_ALERTS:return f.default.gladAlerts;case l.default.TERRA_I_ALERTS:return f.default.terraIAlerts;default:return!0}}))});var n=window._app.base?window._app.base+"/":"";f.default.logoUrl&&0===f.default.logoUrl.indexOf(".")&&(f.default.logoUrl=n+f.default.logoUrl),f.default.layerPanel.GROUP_BASEMAP.layers.forEach(function(e){e.thumbnailUrl&&0===e.thumbnailUrl.indexOf(".")&&(e.thumbnailUrl=n+e.thumbnailUrl)})};e.default={getAppInfo:function(e){var t=new c.default,r=e?e:(0,a.getUrlParams)(location.href).appid;return f.default.sharinghost||(f.default.sharinghost="http://www.arcgis.com"),u.default.arcgisUrl=f.default.sharinghost+"/sharing/rest/content/items",r?(u.default.getItem(r).then(function(e){var a=e.itemData&&e.itemData.values;a?(a=S(a),d.default.mixin(f.default,a),f.default.appid=r,_(),t.resolve(f.default)):(_(),t.resolve(f.default))},function(e){brApp.debug&&console.warn("template.getAppInfo >> "+e.message),_(),t.resolve(f.default)}),t):(_(),t.resolve(f.default),t)}}}),define("utils/symbols",["exports","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol","esri/Color"],function(e,t,r,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(t),i=n(r),s=n(a),l=void 0;e.default={getCustomSymbol:function(){return l?l:l=new o.default(i.default.STYLE_SOLID,new i.default(i.default.STYLE_SOLID,new s.default([3,188,255]),3),new s.default([210,210,210,0]))}}}),define("constants/AppConstants",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.attributes={SOURCE_DRAW:"draw",SOURCE_SEARCH:"search",SOURCE_UPLOAD:"upload"},e.esriType={GEOMETRY_POINT:"point",FEATURE:"ArcGISFeatureLayer",DYNAMIC:"ArcGISMapServiceLayer"},e.actionTypes={UPDATE_IMAZON_START_MONTH:"UPDATE_IMAZON_START_MONTH",UPDATE_IMAZON_END_MONTH:"UPDATE_IMAZON_END_MONTH",UPDATE_IMAZON_START_YEAR:"UPDATE_IMAZON_START_YEAR",UPDATE_IMAZON_END_YEAR:"UPDATE_IMAZON_END_YEAR"}}),define("utils/geometryUtils",["exports","esri/SpatialReference","constants/AppConstants","esri/InfoTemplate","esri/geometry/Polygon","utils/symbols","esri/graphic"],function(e,t,r,a,n,o,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var l=s(t),u=s(a),c=s(n),d=s(o),f=s(i),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},S=0,p=function(){return++S};e.default={generateDrawnPolygon:function(e){var t=p();return new f.default(new c.default(e),d.default.getCustomSymbol(),{cfid:t,source:r.attributes.SOURCE_DRAW,title:"Custom Feature #"+t},new u.default({title:"${title}",content:"<div class='custom-feature__content'>Temp Id: ${cfid}</div>"}))},generatePolygonInSr:function(e,t){var r=new c.default(e);return r.setSpatialReference(new l.default(t)),r},generatePolygonsFromUpload:function(e){var t=[];return e.layers.forEach(function(e){var a=e.featureSet;a.features.forEach(function(e){t.push(new f.default(new c.default(e.geometry),d.default.getCustomSymbol(),A({},e.attributes,{source:r.attributes.SOURCE_UPLOAD})))})}),t}}}),define("utils/request",["exports","esri/tasks/FindParameters","constants/LayerConstants","esri/tasks/StatisticDefinition","esri/tasks/QueryTask","esri/tasks/FindTask","esri/request","esri/tasks/query","dojo/Deferred","utils/geometryUtils"],function(e,t,r,a,n,o,i,s,l,u){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=c(t),f=c(r),A=c(a),S=c(n),p=c(o),_=c(i),h=c(s),E=c(l),m=c(u),L=function(e){return/\/dynamicLayer$/.test(e)},O={getLegendInfos:function(e,t){var r=new E.default;return(0,_.default)({url:e+"/legend",handleAs:"json",callbackParamName:"callback",content:{f:"json"}}).then(function(e){if(e&&e.layers&&e.layers.length>0){var a=e.layers.filter(function(e){return t.indexOf(e.layerId)>-1}),n=1===a.length?a[0].legend:a.map(function(e){return e.legend});r.resolve(n||[])}},function(e){console.error(e),r.resolve([])}),r},upload:function(e,t,r){return(0,_.default)({url:e,form:r,content:t,handleAs:"json"})},queryTaskById:function(e,t){var r=new S.default(e),a=new h.default;return a.objectIds=[t],a.outFields=["*"],a.returnGeometry=!0,a.maxAllowableOffset=0,r.execute(a)},queryTaskByGeometry:function(e,t){var r=new S.default(e),a=new h.default;return a.returnGeometry=!1,a.maxAllowableOffset=0,a.geometry=t,a.outFields=["*"],r.execute(a)},findTaskByLayer:function(e,t){var r=new p.default(t.url),a=new d.default;return a.returnGeometry=!1,a.searchText=e,(t.visibleLayers||t.layerObject&&t.layerObject.visibleLayers)&&(a.layerIds=t.visibleLayers||t.layerObject.visibleLayers),r.execute(a)},getRawGeometry:function(e){var t=new E.default,r=e._layer,a=r&&r._url&&r._url.path,n=e.attributes[r.objectIdField];if(r.id===f.default.USER_FEATURES)t.resolve(e.geometry);else if(L(a)&&r.source){var o={layer:JSON.stringify({source:{type:"mapLayer",mapLayerId:r.source.mapLayerId}}),objectIds:n,returnGeometry:!0,outFields:"*",f:"json"};(0,_.default)({url:a+"/query",handleAs:"json",callbackParamName:"callback",content:o}).then(function(r){r.features.length?t.resolve(m.default.generatePolygonInSr(r.features[0].geometry,102100)):t.resolve(e.geometry)},function(){t.resolve(e.geometry)})}else a?this.queryTaskById(a,n).then(function(r){r.features.length?t.resolve(r.features[0].geometry):t.resolve(e.geometry)},function(){t.resolve(e.geometry)}):t.resolve(e.geometry);return t},getLayerStatistics:function(e){var t=e.url,r=e.outFields,a=e.type,n=e.field,o=new S.default(t),i=new h.default,s=new A.default;return s.statisticType=a,s.onStatisticField=s.outStatisticFieldName=n,i.returnGeometry=!1,i.outFields=r,i.outStatistics=[s],o.execute(i)}};e.default=O}),define("utils/charts",["exports","constants/AnalysisConstants","dojo/number"],function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(t),o=a(r);e.default={makeSimpleBarChart:function(e,t,r,a){new Highcharts.Chart({chart:{renderTo:e,type:"bar"},title:{text:null},xAxis:{title:{text:null},categories:t,maxPadding:.5},yAxis:{title:{text:null}},tooltip:{useHTML:!0},series:a,colors:r,credits:{enabled:!1}})},makeCompositionPieChart:function(e,t,r){r=r||e.clientWidth||290,new Highcharts.Chart({chart:{renderTo:e,type:"pie"},title:{text:null},plotOptions:{pie:{dataLabels:{enabled:!1},allowPointSelect:!0,showInLegend:!0,cursor:"pointer"}},legend:{layout:"vertical",verticalAlign:"bottom",itemStyle:{"font-size":"10.5px"},navigation:{activeColor:"#3E576F",animation:!0,arrowSize:12,inactiveColor:"#CCC",style:{fontWeight:"bold",color:"#333",fontSize:"12px"}}},tooltip:{useHTML:!0},series:t,credits:{enabled:!1}})},makeRestorationBarChart:function(e,t,r){new Highcharts.Chart({chart:{renderTo:e,type:"bar"},title:{text:t,align:"left"},legend:{align:"left"},xAxis:{title:{text:!1},labels:{enabled:!1},categories:[t]},yAxis:{reversedStacks:!1,title:{text:"Hectares (k = 1000)"}},plotOptions:{series:{stacking:"normal"}},tooltip:{valueSuffix:" (Ha)",useHTML:!0},series:r,credits:{enabled:!1},analysis:n.default.ANALYSIS_TYPE_RESTORATION})},makeStackedBarChart:function(e,t,r){var a=20*t.length+120;new Highcharts.Chart({chart:{renderTo:e,type:"bar",height:a},title:{text:null},xAxis:{title:{text:!1},categories:t},yAxis:{reversedStacks:!1,title:{text:"Hectares (k = 1000)"}},plotOptions:{series:{stacking:"normal"}},tooltip:{valueSuffix:" (Ha)",useHTML:!0,shared:!0},series:r,credits:{enabled:!1}})},makeSlopeBarChart:function(e,t,r,a,o){var i=function(e){var t=[],r=e.split(" "),a="";return r.forEach(function(e,n){a.length>20?(t.push(a+" "+e),a=""):(a=a+" "+e,r.length-1===n&&t.push(""+a))}),t[t.length-1]+=":",t.join("<br>")},s=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},l=function(e){var t=100*Math.round(e/100);return s(t)},u=(new Highcharts.Chart({chart:{renderTo:e,type:"bar"},title:{text:null},xAxis:{categories:t,maxPadding:.5,title:{text:null}},yAxis:{title:{text:"Hectares (k = 1000)"}},tooltip:{useHTML:!0,valueSuffix:" (Ha)",formatter:function(){return i(a[this.point.index])+" <b>"+l(this.y)+" (Ha)</b>"}},plotOptions:{bar:{colorByPoint:!0,colors:r}},series:o,legend:{enabled:!1},credits:{enabled:!1},analysis:n.default.ANALYSIS_TYPE_SLOPE}),function(e){for(var t=document.querySelectorAll(e),r=void 0,n=0;n<t.length;n++)r=document.createElement("title"),r.innerHTML=a[n],t[n].insertBefore(r,t[n].firstChild),t[n].innerHTML=t[n].innerHTML});e.id?u("#"+e.id+" .highcharts-xaxis-labels text"):(console.warn("Attempting to add tooltips, you should give this chart element an ID so this does not interfere with other charts."),u(".highcharts-xaxis-labels text"))},makeTotalLossBarChart:function(e,t,r,a,n){var o=n=n||e.clientWidth||290;new Highcharts.Chart({chart:{renderTo:e,type:"bar"},title:{text:null},xAxis:{categories:t,maxPadding:.5,title:{text:null}},yAxis:{reversedStacks:!1,stackLabels:{enabled:!0},title:{text:null}},legend:{enabled:!0,verticalAlign:"bottom",itemStyle:{width:o-20+"px"}},tooltip:{useHTML:!0},plotOptions:{series:{stacking:"normal"}},credits:{enabled:!1},series:a,colors:r})},makeBiomassLossChart:function(e,t,r){var a=t.categories,n=t.series;r||(r=function(){});new Highcharts.Chart({chart:{renderTo:e},title:{text:null},credits:{enabled:!1},xAxis:[{categories:a,labels:{enabled:!1}}],yAxis:[{labels:{enabled:!1},title:{text:null}},{labels:{enabled:!1},title:{text:null},opposite:!0}],tooltip:{shared:!0,useHTML:!0,backgroundColor:"#FFF",formatter:function(){return"<div style='font-size:20px;width: 80px;'>"+this.x+"</div>"+("<div style='font-size:12px;color:"+this.points[0].color+";'>"+o.default.format(this.points[0].y,{places:0})+" t CO<sub>2</sub></div>")+("<div style='font-size:12px;color:"+this.points[1].color+";'>"+o.default.format(this.points[1].y,{places:0})+" Ha</div>")}},series:n},r)},makeTimeSeriesCharts:function(e,t){var r=t.data,a=t.name;new Highcharts.Chart({chart:{renderTo:e,zoomType:"x",resetZoomButton:{position:{align:"left",y:0}}},title:{text:null},xAxis:{type:"datetime"},credits:{enabled:!1},yAxis:{title:{text:null},min:0},plotOptions:{area:{threshold:null,lineWidth:1,states:{hover:{lineWidth:1}},fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(220,102,153, 1)"],[1,"rgba(220,102,153, 0)"]]}}},tooltip:{dateTimeLabelFormats:{hour:"%A, %b %e"}},series:[{type:"area",name:a,data:r}]})},makeDualAxisTimeSeriesChart:function(e,t){var r=t.categories,a=t.series;new Highcharts.Chart({chart:{renderTo:e,zoomType:"x",resetZoomButton:{position:{align:"left",y:0}}},title:{text:null},credits:{enabled:!1},xAxis:[{categories:r,labels:{enabled:!1}}],yAxis:[{title:{text:null}},{title:{text:null},opposite:!0}],tooltip:{shared:!0,useHTML:!0,backgroundColor:"#FFF",dateTimeLabelFormats:{hour:"%A, %b %e"}},series:a})},formatSeriesForBiomassLoss:function(e){var t=e.data,r=e.lossColor,a=e.carbonColor,n=e.lossName,o=e.carbonName,i=t.co2LossByYear,s=t.treeLossByYear,l=t.biomassLossByYear,u=[],c=Object.keys(i).map(function(e){return i[e]}).reduce(function(e,t){return e+t},0),d=Object.keys(l).map(function(e){return l[e]}),f=Object.keys(s).map(function(e){return s[e]}),A=f.reduce(function(e,t){return e+t},0);return u.push({type:"column",name:o,data:d,color:a}),u.push({yAxis:1,type:"spline",name:n,data:f,marker:{lineColor:r,fillColor:r},color:r}),{series:u,grossLoss:A,grossEmissions:c}},formatSeriesWithEncoder:function(e){var t=e.Xs,r=e.Ys,a=e.encoder,n=e.labels,o=e.counts,i=e.colors,s=e.isSimple,l=[],u=[],c=void 0,d=void 0;if(s)l.push({name:n[0],data:o.slice(1)}),u.push(i[0]);else for(var f=0;f<r.length;f++){d=[];for(var A=0;A<t.length;A++)c=a.encode(t[A],r[f]),d.push(o[c]||0);d.some(function(e){return 0!==e})&&(l.push({name:n[f],data:d}),u.push(i[f]))}return{series:l,colors:u}},formatCompositionAnalysis:function(e){var t=e.name,r=e.counts,a=e.labels,n=e.colors,o=[];return r.forEach(function(e,t){e&&o.push({color:n[t],name:a[t],y:e})}),[{type:"pie",name:t,data:o}]},formatSadAlerts:function(e){var t=e.alerts,r=e.names,a=e.colors,n=[],o=[],i=[],s=[],l=void 0,u=void 0,c=void 0,d=void 0;for(l in t)for(u in t[l])n.push(+u+1+"/"+l),c=t[l][u].degrad/1e4,d=t[l][u].defor/1e4,i.push(c?+c.toFixed(2):0),s.push(d?+d.toFixed(2):0);return o.push({name:r.degrad,color:a.degrad,data:i}),o.push({name:r.defor,color:a.defor,data:s}),{categories:n,series:o}}}}),define("js/languages",["exports","constants/AnalysisConstants"],function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(t),n='<svg class="svg-icon"><use xlink:href="#icon-draw-upload" /></svg>',o={en:{},fr:{},es:{},pt:{},id:{},zh:{}};o.en.LANG_EN="English",o.en.LANG_FR="French",o.en.LANG_ES="Spanish",o.en.LANG_PT="Portugese",o.en.LANG_ID="Indonesian",o.en.LANG_ZH="Mandarin",o.en.NAV_ABOUT="About",o.en.NAV_DOWNLOAD="Download Data",o.en.NAV_MAP_THEMES="Map Themes",o.en.NAV_MY_GFW="Log in to my GFW",o.en.NAV_LANGUAGE="Select Language",o.en.DOCS_INSTRUCTIONS="Select an area of interest to see if there are any related documents",o.en.DOCS_NOT_AVAILABLE="There are no documents available for this area",o.en.DOCS_TYPE="Type",o.en.DOCS_AUTHOR="Author",o.en.DOCS_YEAR="Year",o.en.DOCS_PDF="PDF",o.en.DOCS_NAME="Name",o.en.DOCS_SIZE="Size",o.en.INFO_WINDOW_INSTRUCTION_HEADER="Select a shape on the map",o.en.INFO_WINDOW_INSTRUCTION_LIST=["Use the layers tab to turn on a data layer","Select a shape on the map"],o.en.ANALYSIS_INSTRUCTION_HEADER="Analyze a shape on the map",o.en.ANALYSIS_INSTRUCTION_LIST=["Use the layers tab to turn on a data layer","Select a shape on the map","Click on the analyze tab"],o.en.ANALYSIS_OR="Or",o.en.ANALYSIS_DRAW_HEADER="Analyze your own shape",o.en.ANALYSIS_DRAW_INSTRUCTIONS=["Choose the draw tool "+n+" in the toolbox","Draw a shape anywhere on the map","Select the shape to run the analysis"],o.en.ANALYSIS_DRAW_BUTTON="Start drawing",o.en.ANALYSIS_INSTRUCTION_ADDITIONAL="Add additional shapes in the future by visiting the draw tool "+n,o.en.ANALYSIS_SHAPEFILE_UPLOAD="or drop a custom shapefile here",o.en.ANALYSIS_SHAPEFILE_INSTRUCTIONS="Only polygon data is supported and should use a spatial reference of WGS84. The recommended maximum size is 5MB, anything more than that may not work as expected. Esri shapefiles must be zipped (.zip) and GeoJSON files must be in .json files.",o.en.ANALYSIS_SELECT_TYPE_LABEL="Select Analysis:",o.en.ANALYSIS_TC_CHART_NAME="Tree cover loss in Hectares",o.en.ANALYSIS_LCC_CHART_NAME="Land Cover Composition",o.en.ANALYSIS_IFL_LABELS=["Intact Forest"],o.en.ANALYSIS_MANGROVE_LABELS=["Global Mangroves"],o.en.ANALYSIS_FIRES_PRE="There are",o.en.ANALYSIS_FIRES_ACTIVE="active fires",o.en.ANALYSIS_FIRES_POST="in the last 7 days",o.en.ANALYSIS_TOTAL_LOSS_LABEL="Total tree cover loss",o.en.ANALYSIS_TOTAL_LOSS_RANGE="(2001 - 2014):",o.en.ANALYSIS_TOTAL_GAIN_LABEL="Total tree cover gained",o.en.ANALYSIS_TOTAL_GAIN_RANGE="(2001 - 2012):",o.en.ANALYSIS_SLOPE_OPTION="Option #",o.en.SLOPE_SELECT_LABEL="Choose slope percent:",o.en.ANALYSIS_RESTORATION_ERROR="Area not meeting criteria for potential/No data",o.en.ANALYSIS_GROUP_RESTORATION="Restoration potential for",o.en.ANALYSIS_GROUP_SLOPE="Potential according to",o.en.ANALYSIS_GROUP_OTHER="Other analysis",o.en.ANALYSIS_GLAD_ALERT_NAME="GLAD Alerts",o.en.ANALYSIS_TERRA_I_ALERT_NAME="Terra-I Alerts",o.en.ANALYSIS_SAD_ALERT_NAMES={degrad:"Degradation",defor:"Deforestation"},o.en.ANALYSIS_SELECT_TYPE_OPTIONS=[{label:"Slope",value:a.default.SLOPE,group:a.default.ANALYSIS_GROUP_SLOPE},{label:"Total tree cover loss/gain",value:a.default.TC_LOSS_GAIN,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Tree cover loss",value:a.default.TC_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Land cover loss",value:a.default.LC_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Aboveground Live Woody Biomass loss",value:a.default.BIO_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Intact forest loss",value:a.default.INTACT_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Global mangrove loss",value:a.default.MANGROVE_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"SAD alerts",value:a.default.SAD_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"GLAD alerts",value:a.default.GLAD_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Terra-I alerts",value:a.default.TERRA_I_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Active fires",value:a.default.FIRES,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Land cover composition",value:a.default.LCC,group:a.default.ANALYSIS_GROUP_OTHER}],o.en.CANOPY_MODAL_TEXT="Adjust the minimum canopy density for tree cover and tree cover loss",o.en.DENSITY_FIRST="Displaying",o.en.DENSITY_SECOND="canopy density.",o.en.SEARCH_WIDGET_TITLE="Search for feature:",o.en.SEARCH_CLICK_FOR_MORE="Please click on the selected feature for more info.",o.en.NO_INFO="No Information Available",o.en.OVERVIEW="Overview",o.en.CITATION="Citation",o.en.FUNCTION="function",o.en.RESOLUTION="resolution",o.en.GEO_COVERAGE="geographic coverage",o.en.SOURCE="source",o.en.FREQUENCY="frequency",o.en.CONTENT_DATE="date of content",o.en.CAUTIONS="cautions",o.en.LICENSE="license",o.en.LEARN_MORE="learn More",o.en.DOWNLOAD_DATA="download data",o.en.DESCRIPTION="description",o.en.PRINT_BUTTON_LABEL="Choose a print output",o.en.PRINT_REPORT="Print Report",o.en.SUBSCRIBE="Subscribe",o.en.LAYERS="Layers",o.en.DATA="Data",o.en.ANALYZE="Analyze",o.en.DOCS="Docs",o.en.NARRATIVE="Narrative",o.en.MORE="More",o.en.DELETE="Delete",o.en.DOCUMENTS="Documents",o.en.BASEMAP="Basemap",o.en.SELECT_ALL="Select all",o.en.CLEAR_ALL="Clear all",o.en.LEGEND="Legend",o.en.TIMELINE="Timeline",o.en.TIMELINE_START="Start: ",o.en.TIMELINE_END="End: ",o.en.SEARCH="Search",o.en.TOOL_ZOOM_IN="Zoom In",o.en.TOOL_ZOOM_OUT="Zoom Out",o.en.TOOL_SHARE="Share",o.en.TOOL_PRINT="Print",o.en.TOOL_ANALYSIS="Analysis",o.en.TOOL_TOGGLE="Toggle Panel",o.en.TOOL_RESET="Reset",o.en.ANALYSIS_CARBON_EMISSION="Gross carbon emissions",o.en.ANALYSIS_CARBON_LOSS="Tree cover loss",o.en.ANALYSIS_SLOPE_CHART_HEADER="Slope",o.en.ANALYSIS_LAND_COVER_CHART_HEADER="Land Cover",o.en.ANALYSIS_POPULATION_CHART_HEADER="Population Density",o.en.ANALYSIS_TREE_COVER_CHART_HEADER="% Tree cover",o.en.ANALYSIS_RAINFALL_CHART_HEADER="Rainfall",o.en.MONTHS_LIST=[{name:"January",abbr:"Jan"},{name:"February",abbr:"Feb"},{name:"March",abbr:"Mar"},{name:"April",abbr:"Apr"},{name:"May",abbr:"May"},{name:"June",abbr:"Jun"},{name:"July",abbr:"Jul"},{name:"August",abbr:"Aug"},{name:"September",abbr:"Sep"},{name:"October",abbr:"Oct"},{name:"November",abbr:"Nov"},{name:"December",abbr:"Dec"}],o.en.REPORT_TABLE_TOTAL="Total",o.en.REPORT_SLOPE_TITLE="Slope Analysis",o.en.REPORT_SLOPE_TABLE_TYPE="Slope Potential Type",o.en.REPORT_SLOPE_TABLE_VALUE="Hectares",o.en.REPORT_RESTORATION_TABLE_TYPE="Category",o.en.REPORT_RESTORATION_TABLE_VALUE="Hectares",o.fr.LANG_EN="Anglais",o.fr.LANG_FR="Français",o.fr.LANG_ES="Espagnol",o.fr.LANG_PT="Portugais",o.fr.LANG_ID="Indonesien",o.fr.LANG_ZH="Mandarin",o.fr.NAV_ABOUT="A Propos",o.fr.NAV_DOWNLOAD="Téléchargez les Données",o.fr.NAV_MAP_THEMES="Thèmes",o.fr.NAV_MY_GFW="Se connecter à GFW",o.fr.NAV_LANGUAGE="Choisir Langue",o.fr.DOCS_INSTRUCTIONS="Choisisez une région d'intérêt pour voir les documents associés",o.fr.DOCS_NOT_AVAILABLE="Pas de documents disponibles pour cette région",o.fr.DOCS_TYPE="Type",o.fr.DOCS_AUTHOR="Auteur",o.fr.DOCS_YEAR="Année",o.fr.DOCS_PDF="PDF",o.fr.DOCS_NAME="Nom du fichier",o.fr.DOCS_SIZE="Taille",o.fr.INFO_WINDOW_INSTRUCTION_HEADER="Sélectionnez un polygone sur la carte",o.fr.INFO_WINDOW_INSTRUCTION_LIST=["Utiliser l'onglet Couches pour activer une couche de données","Sélectionnez un polygone sur la carte"],o.fr.ANALYSIS_INSTRUCTION_HEADER="Analysez un polygone sur la carte",o.fr.ANALYSIS_INSTRUCTION_LIST=["Utilisez l'onglet Couches pour activer une couche de données","Sélectionnez une entité sur la carte","Cliquez sur l'onglet analyse"],o.fr.ANALYSIS_OR="Ou",o.fr.ANALYSIS_DRAW_HEADER="Analysez votre propre polygone",o.fr.ANALYSIS_DRAW_INSTRUCTIONS=["Utiliser l'outil dessin "+n+" dans la boîte à outil","Tracez un polygone sur la carte","Cliquez sur le polygone pour lancer l'analyse"],o.fr.ANALYSIS_DRAW_BUTTON="Débutez le dessin",o.fr.ANALYSIS_INSTRUCTION_ADDITIONAL="Ajouter des polygones supplémentaires grâce à l'outil dessin "+n,o.fr.ANALYSIS_SHAPEFILE_UPLOAD="ou glissez un shapefile ici",o.fr.ANALYSIS_SHAPEFILE_INSTRUCTIONS="Fonctionne uniquement avec des données de type polygone avec la réérence spatiale WGS84. La taille maximale est de 5MB. Les fichiers shapefiles doivent être compressés(.zip) et les fichiers GeoJSON sous le format .json.",
o.fr.ANALYSIS_SELECT_TYPE_LABEL="Choisissez le type d'analyse:",o.fr.ANALYSIS_TC_CHART_NAME="Perte de couvert arboré en Hectares",o.fr.ANALYSIS_LCC_CHART_NAME="Occupation du sol",o.fr.ANALYSIS_IFL_LABELS=["Forêts intactes"],o.fr.ANALYSIS_MANGROVE_LABELS=["Mangroves"],o.fr.ANALYSIS_FIRES_PRE="Il y a",o.fr.ANALYSIS_FIRES_ACTIVE="feux actifs",o.fr.ANALYSIS_FIRES_POST="ces 7 derniers jours",o.fr.ANALYSIS_TOTAL_LOSS_LABEL="Total Perte en couvert arboré",o.fr.ANALYSIS_TOTAL_LOSS_RANGE="(2001 - 2014):",o.fr.ANALYSIS_TOTAL_GAIN_LABEL="Total Gain en couvert arboré",o.fr.ANALYSIS_TOTAL_GAIN_RANGE="(2001 - 2012):",o.fr.ANALYSIS_SLOPE_OPTION="Option #",o.fr.SLOPE_SELECT_LABEL="Choisissez la pente (%):",o.fr.ANALYSIS_RESTORATION_ERROR="Région ne correspondant pas aux critères/Pas de données",o.fr.ANALYSIS_GROUP_RESTORATION="Potentiel de restauration pour",o.fr.ANALYSIS_GROUP_SLOPE="Potentiel selon",o.fr.ANALYSIS_GROUP_OTHER="Autre analyse",o.fr.ANALYSIS_GLAD_ALERT_NAME="Alertes Glad",o.fr.ANALYSIS_TERRA_I_ALERT_NAME="Alertes Terra-I",o.fr.ANALYSIS_SAD_ALERT_NAMES={degrad:"Dégradation",defor:"Déforestation"},o.fr.ANALYSIS_SELECT_TYPE_OPTIONS=[{label:"Pente",value:a.default.SLOPE,group:a.default.ANALYSIS_GROUP_SLOPE},{label:"Total perte/gain de couvert arboré",value:a.default.TC_LOSS_GAIN,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Perte de couvert arboré",value:a.default.TC_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Perte en occupation du sol",value:a.default.LC_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Perte en biomasse aérienne",value:a.default.BIO_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Perte en forêts intactes",value:a.default.INTACT_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Perte en mangrove",value:a.default.MANGROVE_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Alertes SAD",value:a.default.SAD_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Alertes GLAD",value:a.default.GLAD_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Alertes Terra-I",value:a.default.TERRA_I_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Feux actifs",value:a.default.FIRES,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Occupation du sol",value:a.default.LCC,group:a.default.ANALYSIS_GROUP_OTHER}],o.fr.CANOPY_MODAL_TEXT="Ajuster la densité minimum de la canopée pour le couvert arboré et la perte en couvert arboré",o.fr.DENSITY_FIRST="Affichage",o.fr.DENSITY_SECOND="Densité de la canopée.",o.fr.SEARCH_WIDGET_TITLE="Recherche de polygones:",o.fr.SEARCH_CLICK_FOR_MORE="Cliquez sur la géométrie sélectionnée pour plus d'info.",o.fr.NO_INFO="Pas d'informations disponibles",o.fr.OVERVIEW="Vue d'ensemble",o.fr.CITATION="Référence",o.fr.FUNCTION="Fonction",o.fr.RESOLUTION="résolution",o.fr.GEO_COVERAGE="couverture géographique",o.fr.SOURCE="source",o.fr.FREQUENCY="fréquence",o.fr.CONTENT_DATE="date d'acquisition",o.fr.CAUTIONS="Avertissements",o.fr.LICENSE="licence",o.fr.LEARN_MORE="En savoir plus",o.fr.DOWNLOAD_DATA="Téléchargez les données",o.fr.DESCRIPTION="description",o.fr.PRINT_BUTTON_LABEL="Choisissez un format d'impression",o.fr.PRINT_REPORT="Imprimer le Rapport",o.fr.SUBSCRIBE="S'abonner",o.fr.LAYERS="Couches",o.fr.DATA="Données",o.fr.ANALYZE="Analyser",o.fr.DOCS="Documents",o.fr.NARRATIVE="Texte",o.fr.MORE="Plus",o.fr.DELETE="Supprimer",o.fr.DOCUMENTS="Documents",o.fr.BASEMAP="Basemap",o.fr.SELECT_ALL="Tout sélectionner",o.fr.CLEAR_ALL="Tout effacer",o.fr.LEGEND="Légende",o.fr.TIMELINE="Timeline",o.fr.TIMELINE_START="début: ",o.fr.TIMELINE_END="Fin: ";o.fr.SEARCH="Chercher";o.fr.TOOL_ZOOM_IN="Zoom avant",o.fr.TOOL_ZOOM_OUT="Zoom arrière",o.fr.TOOL_SHARE="Partager",o.fr.TOOL_PRINT="Imprimer",o.fr.TOOL_ANALYSIS="Analyse",o.fr.TOOL_TOGGLE="Basculer panneau",o.fr.TOOL_RESET="Réinitialiser",o.fr.ANALYSIS_CARBON_EMISSION="Emissions de carbone brutes",o.fr.ANALYSIS_CARBON_LOSS="Perte en couvert arboré",o.fr.ANALYSIS_SLOPE_CHART_HEADER="Slope",o.fr.ANALYSIS_LAND_COVER_CHART_HEADER="Land Cover",o.fr.ANALYSIS_POPULATION_CHART_HEADER="Population Density",o.fr.ANALYSIS_TREE_COVER_CHART_HEADER="% Tree cover",o.fr.ANALYSIS_RAINFALL_CHART_HEADER="Rainfall",o.fr.MONTHS_LIST=[{name:"Janvier",abbr:"Janv"},{name:"Février",abbr:"Févr"},{name:"Mars",abbr:"Mars"},{name:"Avril",abbr:"Avr"},{name:"Mai",abbr:"Mai"},{name:"Juin",abbr:"Juin"},{name:"Juilller",abbr:"Juil"},{name:"Août",abbr:"Août"},{name:"Septembre",abbr:"Sept"},{name:"Octobre",abbr:"Oct"},{name:"Novembre",abbr:"Nov"},{name:"Décembre",abbr:"Déc"}],o.fr.REPORT_TABLE_TOTAL="Total",o.fr.REPORT_SLOPE_TITLE="Slope Analysis",o.fr.REPORT_SLOPE_TABLE_TYPE="Slope Potential Type",o.fr.REPORT_SLOPE_TABLE_VALUE="Hectares",o.fr.REPORT_RESTORATION_TABLE_TYPE="Category",o.fr.REPORT_RESTORATION_TABLE_VALUE="Hectares",o.es.LANG_EN="Inglés",o.es.LANG_FR="Francés",o.es.LANG_ES="Español",o.es.LANG_PT="Portugese",o.es.LANG_ID="Portugués",o.es.LANG_ZH="Mandarín",o.es.NAV_ABOUT="Acerca de",o.es.NAV_DOWNLOAD="Descargar Datos",o.es.NAV_MAP_THEMES="Temas",o.es.NAV_MY_GFW="Entrar a mi GFW",o.es.NAV_LANGUAGE="Seleccionar idioma",o.es.DOCS_INSTRUCTIONS="Seleccionar una área de interés para ver si haya algún documento relacionado",o.es.DOCS_NOT_AVAILABLE="No hay documentos disponibles para esta área",o.es.DOCS_TYPE="Tipo",o.es.DOCS_AUTHOR="Autor",o.es.DOCS_YEAR="Año",o.es.DOCS_PDF="PDF",o.es.DOCS_NAME="Name",o.es.DOCS_SIZE="Size",o.es.INFO_WINDOW_INSTRUCTION_HEADER="Seleccionar un polígono en el mapa",o.es.INFO_WINDOW_INSTRUCTION_LIST=["Usar la pestaña de capas para encender una capa","Seleccionar un polígono en el mapa"],o.es.ANALYSIS_INSTRUCTION_HEADER="Analizar un polígono  en el mapa",o.es.ANALYSIS_INSTRUCTION_LIST=["Usar la pestaña de capas para encender una capa","Seleccionar un polígono en el mapa","Hacer clic en la pestaña de analizar"],o.es.ANALYSIS_OR="O",o.es.ANALYSIS_DRAW_HEADER="Analizar su propio polígono",o.es.ANALYSIS_DRAW_INSTRUCTIONS=["Escoger la herramienta de dibujo "+n+" en la caja de herramientas","Dibujar un polígono en cualquier lugar del mapa","Seleccionar el polígono para hacer el análisis"],o.es.ANALYSIS_DRAW_BUTTON="Empezar a dibujar",o.es.ANALYSIS_INSTRUCTION_ADDITIONAL="Añadir polígonos adicionales en el futuro usando la herramienta de dibujo "+n,o.es.ANALYSIS_SHAPEFILE_UPLOAD="o dejar un shapefile aquí",o.es.ANALYSIS_SHAPEFILE_INSTRUCTIONS="Solo están permitido datos en formato de polígono, con el Sistema de Referencia de Coordinados WGS84. Se recomienda un tamaño máximo de 5MB, más grande de 5MB puede no funcionar como era de esperar. Shapefiles de ESRI necesitan estar en formato .zip, y archivos de GeoJSON necesitan estar en formato .json.",o.es.ANALYSIS_SELECT_TYPE_LABEL="Seleccionar Análisis:",o.es.ANALYSIS_TC_CHART_NAME="Pérdida de la cobertura arbórea (ha)",o.es.ANALYSIS_LCC_CHART_NAME="Composición de la cobertura del suelo",o.es.ANALYSIS_IFL_LABELS=["Bosque Intacto"],o.es.ANALYSIS_MANGROVE_LABELS=["Global Mangroves"],o.es.ANALYSIS_FIRES_PRE="Hay",o.es.ANALYSIS_FIRES_ACTIVE="incendios activos",o.es.ANALYSIS_FIRES_POST="en los últimos 7 días",o.es.ANALYSIS_TOTAL_LOSS_LABEL="Pérdida total de la cobertura arbórea",o.es.ANALYSIS_TOTAL_LOSS_RANGE="(2001 - 2014):",o.es.ANALYSIS_TOTAL_GAIN_LABEL="Ganancia total de la cobertura arbórea",o.es.ANALYSIS_TOTAL_GAIN_RANGE="(2001 - 2012):",o.es.ANALYSIS_SLOPE_OPTION="Opción #",o.es.SLOPE_SELECT_LABEL="Escoger porcentaje del pendiente:",o.es.ANALYSIS_RESTORATION_ERROR="Área no coincide con los criterios/ Sin Datos",o.es.ANALYSIS_GROUP_RESTORATION="Potencial de restauración para",o.es.ANALYSIS_GROUP_SLOPE="Potencial según",o.es.ANALYSIS_GROUP_OTHER="Otro análisis",o.es.ANALYSIS_GLAD_ALERT_NAME="Alertas Glad",o.es.ANALYSIS_TERRA_I_ALERT_NAME="Alertas Terra-I",o.es.ANALYSIS_SAD_ALERT_NAMES={degrad:"Degradación",defor:"Deforestación"},o.es.ANALYSIS_SELECT_TYPE_OPTIONS=[{label:"Pendiente",value:a.default.SLOPE,group:a.default.ANALYSIS_GROUP_SLOPE},{label:"Pérdida/ ganancia total de la cobertura arbórea",value:a.default.TC_LOSS_GAIN,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Pérdida de la cobertura arbórea",value:a.default.TC_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Pérdida de la cobertura del suelo",value:a.default.LC_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Pérdida de biomasa leñosa encima del suelo",value:a.default.BIO_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Paisajes Forestales Intactos",value:a.default.INTACT_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Global mangrove loss",value:a.default.MANGROVE_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"SAD alerts",value:a.default.SAD_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"GLAD alerts",value:a.default.GLAD_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Terra-I alerts",value:a.default.TERRA_I_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Incendios activos",value:a.default.FIRES,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Composición de la cobertura del suelo",value:a.default.LCC,group:a.default.ANALYSIS_GROUP_OTHER}],o.es.CANOPY_MODAL_TEXT="Ajustar el mínimo densidad del follaje para la cobertura arbórea y la pérdida de la cobertura arbórea",o.es.DENSITY_FIRST="Mostrando",o.es.DENSITY_SECOND="densidad de follaje.",o.es.SEARCH_WIDGET_TITLE="Buscar polígono:",o.es.SEARCH_CLICK_FOR_MORE="Haz clic en el elemento seleccionado para más información",o.es.NO_INFO="No hay información disponible",o.es.OVERVIEW="Resumen",o.es.CITATION="Citación",o.es.FUNCTION="Función",o.es.RESOLUTION="Resolución",o.es.GEO_COVERAGE="Cobertura geográfica",o.es.SOURCE="Fuente",o.es.FREQUENCY="Frecuencia",o.es.CONTENT_DATE="Fecha del contenido",o.es.CAUTIONS="Precauciones",o.es.LICENSE="Licencia",o.es.LEARN_MORE="Conozca más",o.es.DOWNLOAD_DATA="Descarga información",o.es.DESCRIPTION="Descripción",o.es.PRINT_BUTTON_LABEL="Elegir diseño de página",o.es.PRINT_REPORT="Imprimir Informe",o.es.SUBSCRIBE="Subscribirse",o.es.LAYERS="Capas",o.es.DATA="Datos",o.es.ANALYZE="Análisis",o.es.DOCS="Documentos",o.es.NARRATIVE="Narrativa",o.es.MORE="Más",o.es.DELETE="Eliminar",o.es.DOCUMENTS="Documentos",o.es.BASEMAP="Mapa base",o.es.SELECT_ALL="Seleccionar Todo",o.es.CLEAR_ALL="Borrar Todo",o.es.LEGEND="Leyenda",o.es.TIMELINE="Línea de tiempo",o.es.TIMELINE_START="Empezar: ",o.es.TIMELINE_END="Parar: ",o.es.SEARCH="Buscar",o.es.TOOL_ZOOM_IN="Acercar",o.es.TOOL_ZOOM_OUT="Alejar",o.es.TOOL_SHARE="Compartir",o.es.TOOL_PRINT="Imprimir",o.es.TOOL_ANALYSIS="Análisis",o.es.TOOL_TOGGLE="Alternar Pane",o.es.TOOL_RESET="Reajustar",o.es.ANALYSIS_CARBON_EMISSION="Emisiones de dióxido de carbono",o.es.ANALYSIS_CARBON_LOSS="Pérdida de cobertura arbórea",o.es.ANALYSIS_SLOPE_CHART_HEADER="Slope",o.es.ANALYSIS_LAND_COVER_CHART_HEADER="Land Cover",o.es.ANALYSIS_POPULATION_CHART_HEADER="Population Density",o.es.ANALYSIS_TREE_COVER_CHART_HEADER="% Tree cover",o.es.ANALYSIS_RAINFALL_CHART_HEADER="Rainfall",o.es.MONTHS_LIST=[{name:"Enero",abbr:"Ene"},{name:"Febrero",abbr:"Feb"},{name:"Marzo",abbr:"Mar"},{name:"Abril",abbr:"Abr"},{name:"Mayo",abbr:"May"},{name:"Junio",abbr:"Jun"},{name:"Julio",abbr:"Jul"},{name:"Agosto",abbr:"Ago"},{name:"Septiembre",abbr:"Sep"},{name:"Octubre",abbr:"Oct"},{name:"Noviembre",abbr:"Nov"},{name:"Diciembre",abbr:"Dic"}],o.es.REPORT_TABLE_TOTAL="Total",o.es.REPORT_SLOPE_TITLE="Slope Analysis",o.es.REPORT_SLOPE_TABLE_TYPE="Slope Potential Type",o.es.REPORT_SLOPE_TABLE_VALUE="Hectares",o.es.REPORT_RESTORATION_TABLE_TYPE="Category",o.es.REPORT_RESTORATION_TABLE_VALUE="Hectares",o.pt.LANG_EN="Inglês",o.pt.LANG_FR="Francês",o.pt.LANG_ES="Espanhol",o.pt.LANG_PT="Português",o.pt.LANG_ID="Indonésio",o.pt.LANG_ZH="Mandarim",o.pt.NAV_ABOUT="Sobre",o.pt.NAV_DOWNLOAD="Baixar Dados",o.pt.NAV_MAP_THEMES="Temas do Mapa",o.pt.NAV_MY_GFW="Fazer Login no MEU GFW",o.pt.NAV_LANGUAGE="Selecionar Idioma",o.pt.DOCS_INSTRUCTIONS="Selecione área de interesse para verificar a existência de documentos relacionados",o.pt.DOCS_NOT_AVAILABLE="Não existem documentos disponíveis para esta área",o.pt.DOCS_TYPE="Tipo",o.pt.DOCS_AUTHOR="Autor",o.pt.DOCS_YEAR="Ano",o.pt.DOCS_PDF="PDF",o.pt.DOCS_NAME="Nome",o.pt.DOCS_SIZE="Tamanho",o.pt.INFO_WINDOW_INSTRUCTION_HEADER="Selecione uma área no mapa",o.pt.INFO_WINDOW_INSTRUCTION_LIST=["Use a guia camadas para ativar os dados da camada","Selecione uma área no mapa"],o.pt.ANALYSIS_INSTRUCTION_HEADER="Analise a área selecionada no mapa",o.pt.ANALYSIS_INSTRUCTION_LIST=["Use a guia camadas para ativar os dados da camada","Selecione uma área no mapa","Clique na guia de Análise"],o.pt.ANALYSIS_OR="Ou",o.pt.ANALYSIS_DRAW_HEADER="Use sua propria área de Análise",o.pt.ANALYSIS_DRAW_INSTRUCTIONS=["Escolha a ferramenta de desenho "+n+" na caixa de ferramentas","Desenhe uma área de interesse no mapa","Selecione a área na qual irá executar a análise"],o.pt.ANALYSIS_DRAW_BUTTON="Comece a desenhar",o.pt.ANALYSIS_INSTRUCTION_ADDITIONAL="Adicionar formas adicionais no futuro, visitando a ferramenta de desenho "+n,o.pt.ANALYSIS_SHAPEFILE_UPLOAD="ou soltar aqui um shapefile personalizado",o.pt.ANALYSIS_SHAPEFILE_INSTRUCTIONS="Somente geometria de polígono é suportada, devendo-se usar WGS81 como sistema de referência espacial. O tamanho máximo recomendado é de 5 MB, arquivos com tamanho maior que o recomendado podem não funcionar corretamente. ESRI shapefiles devem estar compactados (.zip) e arquivos GeoJSON devem estar no formato .json.",o.pt.ANALYSIS_SELECT_TYPE_LABEL="Selecione Análise:",o.pt.ANALYSIS_TC_CHART_NAME="Perda de cobertura florestal em hectares",o.pt.ANALYSIS_LCC_CHART_NAME="Composicao da cobertura do solo",o.pt.ANALYSIS_IFL_LABELS=["Floresta Intacta"],o.pt.ANALYSIS_MANGROVE_LABELS=["Mangues Global"],o.pt.ANALYSIS_FIRES_PRE="Existem",o.pt.ANALYSIS_FIRES_ACTIVE="Focos de incêndio ativos",o.pt.ANALYSIS_FIRES_POST="nos ultimos 7 dias",o.pt.ANALYSIS_TOTAL_LOSS_LABEL="Perda de cobertura florestal total",o.pt.ANALYSIS_TOTAL_LOSS_RANGE="(2001 - 2014):",o.pt.ANALYSIS_TOTAL_GAIN_LABEL="Ganho de cobertura florestal total",o.pt.ANALYSIS_TOTAL_GAIN_RANGE="(2001 - 2012):",o.pt.ANALYSIS_SLOPE_OPTION="Opção #",o.pt.SLOPE_SELECT_LABEL="Escolha o gradiente de inclinação:",o.pt.ANALYSIS_RESTORATION_ERROR="Área não satisfaz critérios de potencial/sem dados",o.pt.ANALYSIS_GROUP_RESTORATION="Potencial de restauração para",o.pt.ANALYSIS_GROUP_SLOPE="Potencial de acordo com",o.pt.ANALYSIS_GROUP_OTHER="Outras análises",o.pt.ANALYSIS_GLAD_ALERT_NAME="Alertas Glad",o.pt.ANALYSIS_TERRA_I_ALERT_NAME="Alertas Terra-I",o.pt.ANALYSIS_SAD_ALERT_NAMES={degrad:"Degradação",defor:"Desmatamento"},o.pt.ANALYSIS_SELECT_TYPE_OPTIONS=[{label:"Declividade",value:a.default.SLOPE,group:a.default.ANALYSIS_GROUP_SLOPE},{label:"Perda/ganho de cobertura florestal total",value:a.default.TC_LOSS_GAIN,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Perda de cobertura florestal",value:a.default.TC_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Perda de cobertura do solo",value:a.default.LC_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Perda de Biomassa de madeira viva acima do solo",value:a.default.BIO_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Perda de floresta intacta",value:a.default.INTACT_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Perda de Mangues Global",value:a.default.MANGROVE_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Alertas SAD",value:a.default.SAD_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Alertas GLAD",value:a.default.GLAD_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Alertas Terra-I",value:a.default.TERRA_I_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Focos de incêndio ativos",value:a.default.FIRES,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Composicao da cobertura do solo",value:a.default.LCC,group:a.default.ANALYSIS_GROUP_OTHER}],o.pt.CANOPY_MODAL_TEXT="Ajuste a densidade mínima de dossel para cobertura florestal e perda de cobertura florestal",o.pt.DENSITY_FIRST="Exibindo",o.pt.DENSITY_SECOND="densidade de dossel",o.pt.SEARCH_WIDGET_TITLE="Buscar recurso:",o.pt.SEARCH_CLICK_FOR_MORE="Por favor clique no recurso selecionado para mais informações.",o.pt.NO_INFO="Sem informação disponível.",o.pt.OVERVIEW="Visão geral",o.pt.CITATION="Citação",o.pt.FUNCTION="função",o.pt.RESOLUTION="resolução",o.pt.GEO_COVERAGE="cobertura geográfica",o.pt.SOURCE="fonte",o.pt.FREQUENCY="frequência",o.pt.CONTENT_DATE="data do conteúdo",o.pt.CAUTIONS="precauções",o.pt.LICENSE="licença";o.pt.LEARN_MORE="Saiba mais";o.pt.DOWNLOAD_DATA="Baixar dados",o.pt.DESCRIPTION="Descrição",o.pt.PRINT_BUTTON_LABEL="Escolher saída de impressão.",o.pt.PRINT_REPORT="Imprimir Relatório",o.pt.SUBSCRIBE="Inscrever-se",o.pt.LAYERS="Camadas",o.pt.DATA="Dados",o.pt.ANALYZE="Analisar",o.pt.DOCS="Docs",o.pt.NARRATIVE="Narrativa",o.pt.MORE="Mais",o.pt.DELETE="Excluir",o.pt.DOCUMENTS="Documentos",o.pt.BASEMAP="Mapa Base",o.pt.SELECT_ALL="Selecionar tudo",o.pt.CLEAR_ALL="Limpar tudo",o.pt.LEGEND="Legenda",o.pt.TIMELINE="Cronologia",o.pt.TIMELINE_START="Início: ",o.pt.TIMELINE_END="Fim: ",o.pt.SEARCH="Pesquisa:",o.pt.TOOL_ZOOM_IN="Aumentar o Zoom",o.pt.TOOL_ZOOM_OUT="Diminuir o Zoom",o.pt.TOOL_SHARE="Compartilhar",o.pt.TOOL_PRINT="Imprimir",o.pt.TOOL_ANALYSIS="Análise",o.pt.TOOL_TOGGLE="Alternar Painel",o.pt.TOOL_RESET="Reiniciar",o.pt.ANALYSIS_CARBON_EMISSION="Taxa de emissões de carbono",o.pt.ANALYSIS_CARBON_LOSS="Perda de cobertura florestal",o.pt.ANALYSIS_SLOPE_CHART_HEADER="Slope",o.pt.ANALYSIS_LAND_COVER_CHART_HEADER="Land Cover",o.pt.ANALYSIS_POPULATION_CHART_HEADER="Population Density",o.pt.ANALYSIS_TREE_COVER_CHART_HEADER="% Tree cover",o.pt.ANALYSIS_RAINFALL_CHART_HEADER="Rainfall",o.pt.MONTHS_LIST=[{name:"Janeiro",abbr:"Jan"},{name:"Fevereiro",abbr:"Feb"},{name:"Março",abbr:"Mar"},{name:"Abril",abbr:"Abr"},{name:"Maio",abbr:"Mai"},{name:"Junho",abbr:"Jun"},{name:"Julho",abbr:"Jul"},{name:"Agosto",abbr:"Ago"},{name:"Setembro",abbr:"Set"},{name:"Outubro",abbr:"Out"},{name:"Novembro",abbr:"Nov"},{name:"Dezembro",abbr:"Dez"}],o.pt.REPORT_TABLE_TOTAL="Total",o.pt.REPORT_SLOPE_TITLE="Slope Analysis",o.pt.REPORT_SLOPE_TABLE_TYPE="Slope Potential Type",o.pt.REPORT_SLOPE_TABLE_VALUE="Hectares",o.pt.REPORT_RESTORATION_TABLE_TYPE="Category",o.pt.REPORT_RESTORATION_TABLE_VALUE="Hectares",o.id.LANG_EN="English",o.id.LANG_FR="French",o.id.LANG_ES="Spanish",o.id.LANG_PT="Portugese",o.id.LANG_ID="Indonesian",o.id.LANG_ZH="Mandarin",o.id.NAV_ABOUT="About",o.id.NAV_DOWNLOAD="Download Data",o.id.NAV_MAP_THEMES="Map Themes",o.id.NAV_MY_GFW="Log in to my GFW",o.id.NAV_LANGUAGE="Select Language",o.id.DOCS_INSTRUCTIONS="Select an area of interest to see if there are any related documents",o.id.DOCS_NOT_AVAILABLE="There are no documents available for this area",o.id.DOCS_TYPE="Type",o.id.DOCS_AUTHOR="Author",o.id.DOCS_YEAR="Year",o.id.DOCS_PDF="PDF",o.id.DOCS_NAME="Name",o.id.DOCS_SIZE="Size",o.id.INFO_WINDOW_INSTRUCTION_HEADER="Select a shape on the map",o.id.INFO_WINDOW_INSTRUCTION_LIST=["Use the layers tab to turn on a data layer","Select a shape on the map"],o.id.ANALYSIS_INSTRUCTION_HEADER="Analyze a shape on the map",o.id.ANALYSIS_INSTRUCTION_LIST=["Use the layers tab to turn on a data layer","Select a shape on the map","Click on the analyze tab"],o.id.ANALYSIS_OR="Or",o.id.ANALYSIS_DRAW_HEADER="Analyze your own shape",o.id.ANALYSIS_DRAW_INSTRUCTIONS=["Choose the draw tool "+n+" in the toolbox","Draw a shape anywhere on the map","Select the shape to run the analysis"],o.id.ANALYSIS_DRAW_BUTTON="Start drawing",o.id.ANALYSIS_INSTRUCTION_ADDITIONAL="Add additional shapes in the future by visiting the draw tool "+n,o.id.ANALYSIS_SHAPEFILE_UPLOAD="or drop a custom shapefile here",o.id.ANALYSIS_SHAPEFILE_INSTRUCTIONS="Only polygon data is supported and should use a spatial reference of WGS84. The recommended maximum size is 5MB, anything more than that may not work as expected. Esri shapefiles must be zipped (.zip) and GeoJSON files must be in .json files.",o.id.ANALYSIS_SELECT_TYPE_LABEL="Select Analysis:",o.id.ANALYSIS_TC_CHART_NAME="Tree cover loss in Hectares",o.id.ANALYSIS_LCC_CHART_NAME="Land Cover Composition",o.id.ANALYSIS_IFL_LABELS=["Intact Forest"],o.id.ANALYSIS_MANGROVE_LABELS=["Global Mangroves"],o.id.ANALYSIS_FIRES_PRE="There are",o.id.ANALYSIS_FIRES_ACTIVE="active fires",o.id.ANALYSIS_FIRES_POST="in the last 7 days",o.id.ANALYSIS_TOTAL_LOSS_LABEL="Total tree cover loss",o.id.ANALYSIS_TOTAL_LOSS_RANGE="(2001 - 2014):",o.id.ANALYSIS_TOTAL_GAIN_LABEL="Total tree cover gained",o.id.ANALYSIS_TOTAL_GAIN_RANGE="(2001 - 2012):",o.id.ANALYSIS_SLOPE_OPTION="Option #",o.id.SLOPE_SELECT_LABEL="Choose slope percent:",o.id.ANALYSIS_RESTORATION_ERROR="Area not meeting criteria for potential/No data",o.id.ANALYSIS_GROUP_RESTORATION="Restoration potential for",o.id.ANALYSIS_GROUP_SLOPE="Potential according to",o.id.ANALYSIS_GROUP_OTHER="Other analysis",o.id.ANALYSIS_GLAD_ALERT_NAME="GLAD Alerts",o.id.ANALYSIS_TERRA_I_ALERT_NAME="Terra-I Alerts",o.id.ANALYSIS_SAD_ALERT_NAMES={degrad:"Degradation",defor:"Deforestation"},o.id.ANALYSIS_SELECT_TYPE_OPTIONS=[{label:"Slope",value:a.default.SLOPE,group:a.default.ANALYSIS_GROUP_SLOPE},{label:"Total tree cover loss/gain",value:a.default.TC_LOSS_GAIN,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Tree cover loss",value:a.default.TC_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Land cover loss",value:a.default.LC_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Aboveground Live Woody Biomass loss",value:a.default.BIO_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Intact forest loss",value:a.default.INTACT_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Global mangrove loss",value:a.default.MANGROVE_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"SAD alerts",value:a.default.SAD_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"GLAD alerts",value:a.default.GLAD_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Terra-I alerts",value:a.default.TERRA_I_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Active fires",value:a.default.FIRES,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Land cover composition",value:a.default.LCC,group:a.default.ANALYSIS_GROUP_OTHER}],o.id.CANOPY_MODAL_TEXT="Adjust the minimum canopy density for tree cover and tree cover loss",o.id.DENSITY_FIRST="Displaying",o.id.DENSITY_SECOND="canopy density.",o.id.SEARCH_WIDGET_TITLE="Search for feature:",o.id.SEARCH_CLICK_FOR_MORE="Please click on the selected feature for more info.",o.id.NO_INFO="No Information Available",o.id.OVERVIEW="Overview",o.id.CITATION="Citation",o.id.FUNCTION="function",o.id.RESOLUTION="resolution",o.id.GEO_COVERAGE="geographic coverage",o.id.SOURCE="source",o.id.FREQUENCY="frequency",o.id.CONTENT_DATE="date of content",o.id.CAUTIONS="cautions",o.id.LICENSE="license",o.id.LEARN_MORE="learn More",o.id.DOWNLOAD_DATA="download data",o.id.DESCRIPTION="description",o.id.PRINT_BUTTON_LABEL="Choose a print output",o.id.PRINT_REPORT="Print Report",o.id.SUBSCRIBE="Subscribe",o.id.LAYERS="Layers",o.id.DATA="Data",o.id.ANALYZE="Analyze",o.id.DOCS="Docs",o.id.NARRATIVE="Narrative",o.id.MORE="More",o.id.DELETE="Delete",o.id.DOCUMENTS="Documents",o.id.BASEMAP="Basemap",o.id.SELECT_ALL="select all",o.id.CLEAR_ALL="clear all",o.id.LEGEND="Legend",o.id.TIMELINE="Timeline",o.id.TIMELINE_START="Start: ",o.id.TIMELINE_END="End: ",o.id.SEARCH="Search",o.id.TOOL_ZOOM_IN="Zoom In",o.id.TOOL_ZOOM_OUT="Zoom Out",o.id.TOOL_SHARE="Share",o.id.TOOL_PRINT="Print",o.id.TOOL_ANALYSIS="Analysis",o.id.TOOL_TOGGLE="Toggle Panel",o.id.TOOL_RESET="Reset",o.id.ANALYSIS_CARBON_EMISSION="Gross carbon emissions",o.id.ANALYSIS_CARBON_LOSS="Tree cover loss",o.id.ANALYSIS_SLOPE_CHART_HEADER="Slope",o.id.ANALYSIS_LAND_COVER_CHART_HEADER="Land Cover",o.id.ANALYSIS_POPULATION_CHART_HEADER="Population Density",o.id.ANALYSIS_TREE_COVER_CHART_HEADER="% Tree cover",o.id.ANALYSIS_RAINFALL_CHART_HEADER="Rainfall",o.id.MONTHS_LIST=[{name:"January",abbr:"Jan"},{name:"February",abbr:"Feb"},{name:"March",abbr:"Mar"},{name:"April",abbr:"Apr"},{name:"May",abbr:"May"},{name:"June",abbr:"Jun"},{name:"July",abbr:"Jul"},{name:"August",abbr:"Aug"},{name:"September",abbr:"Sep"},{name:"October",abbr:"Oct"},{name:"November",abbr:"Nov"},{name:"December",abbr:"Dec"}],o.id.REPORT_TABLE_TOTAL="Total",o.id.REPORT_SLOPE_TITLE="Slope Analysis",o.id.REPORT_SLOPE_TABLE_TYPE="Slope Potential Type",o.id.REPORT_SLOPE_TABLE_VALUE="Hectares",o.id.REPORT_RESTORATION_TABLE_TYPE="Category",o.id.REPORT_RESTORATION_TABLE_VALUE="Hectares",o.zh.LANG_EN="English",o.zh.LANG_FR="French",o.zh.LANG_ES="Spanish",o.zh.LANG_PT="Portugese",o.zh.LANG_ID="Indonesian",o.zh.LANG_ZH="Mandarin",o.zh.NAV_ABOUT="关于",o.zh.NAV_DOWNLOAD="下载数据",o.zh.NAV_MAP_THEMES="地图图集",o.zh.NAV_MY_GFW="登录我的GFW",o.zh.NAV_LANGUAGE="选择语言",o.zh.DOCS_INSTRUCTIONS="选择感兴趣区域来查看相关文件",o.zh.DOCS_NOT_AVAILABLE="此区域没有相关文件",o.zh.DOCS_TYPE="类别",o.zh.DOCS_AUTHOR="作者",o.zh.DOCS_YEAR="年份",o.zh.DOCS_PDF="PDF",o.zh.DOCS_NAME="Name",o.zh.DOCS_SIZE="Size",o.zh.INFO_WINDOW_INSTRUCTION_HEADER="在地图上选择图形",o.zh.INFO_WINDOW_INSTRUCTION_LIST=["使用图层键来打开图层","在地图上选择图形"],o.zh.ANALYSIS_INSTRUCTION_HEADER="分析地图上的图形",o.zh.ANALYSIS_INSTRUCTION_LIST=["使用图层键来打开图层","在地图上选择一个图形","点击分析键"],o.zh.ANALYSIS_OR="或者",o.zh.ANALYSIS_DRAW_HEADER="分析自定义图形",o.zh.ANALYSIS_DRAW_INSTRUCTIONS=["在工具箱里选择一个绘画工具 "+n,"在地图上任意地方画一个图形","选择进行分析的图形"],o.zh.ANALYSIS_DRAW_BUTTON="开始绘画",o.zh.ANALYSIS_INSTRUCTION_ADDITIONAL="使用绘画工具来添加更多图形 "+n,o.zh.ANALYSIS_SHAPEFILE_UPLOAD="或者在这里添加自定义地理信息系统文件（shapefile）",o.zh.ANALYSIS_SHAPEFILE_INSTRUCTIONS="本网站仅支持空间参考系统为WGS84的图形数据文件。建议文件大小应小于5MB。ESRI文件必须为压缩文件（.zip）,GeoJSON 文件必须为后缀.json的文件。",o.zh.ANALYSIS_SELECT_TYPE_LABEL="选择分析方式：",o.zh.ANALYSIS_TC_CHART_NAME="森林覆盖损失（单位：公顷）",o.zh.ANALYSIS_LCC_CHART_NAME="土地覆盖组成",o.zh.ANALYSIS_IFL_LABELS=["原生森林"],o.zh.ANALYSIS_MANGROVE_LABELS=["Global Mangroves"],o.zh.ANALYSIS_FIRES_PRE="共计",o.zh.ANALYSIS_FIRES_ACTIVE="活跃火点",o.zh.ANALYSIS_FIRES_POST="在过去7天里",o.zh.ANALYSIS_TOTAL_LOSS_LABEL="总森林覆盖损失",o.zh.ANALYSIS_TOTAL_LOSS_RANGE="(2001 - 2014):",o.zh.ANALYSIS_TOTAL_GAIN_LABEL="总森林覆盖增加",o.zh.ANALYSIS_TOTAL_GAIN_RANGE="(2001 - 2012):",o.zh.ANALYSIS_SLOPE_OPTION="选项 #",o.zh.SLOPE_SELECT_LABEL="选择倾斜度：",o.zh.ANALYSIS_RESTORATION_ERROR="无数据 或者 区域不满足条件",o.zh.ANALYSIS_GROUP_RESTORATION="在生态修复可能性的层面",o.zh.ANALYSIS_GROUP_SLOPE="可能性原因";o.zh.ANALYSIS_GROUP_OTHER="其他分析";o.zh.ANALYSIS_GLAD_ALERT_NAME="GLAD Alerts",o.zh.ANALYSIS_TERRA_I_ALERT_NAME="Terra-I Alerts",o.zh.ANALYSIS_SAD_ALERT_NAMES={degrad:"Degradation",defor:"Deforestation"},o.zh.ANALYSIS_SELECT_TYPE_OPTIONS=[{label:"倾斜度",value:a.default.SLOPE,group:a.default.ANALYSIS_GROUP_SLOPE},{label:"总森林覆盖损失或增加",value:a.default.TC_LOSS_GAIN,group:a.default.ANALYSIS_GROUP_OTHER},{label:"森林覆盖损失",value:a.default.TC_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"土地覆盖损失",value:a.default.LC_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"地上活性木质生物量损失",value:a.default.BIO_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"原生林损失",value:a.default.INTACT_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Global mangrove loss",value:a.default.MANGROVE_LOSS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"SAD alerts",value:a.default.SAD_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"GLAD alerts",value:a.default.GLAD_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"Terra-I alerts",value:a.default.TERRA_I_ALERTS,group:a.default.ANALYSIS_GROUP_OTHER},{label:"活跃火点",value:a.default.FIRES,group:a.default.ANALYSIS_GROUP_OTHER},{label:"土地覆盖组成",value:a.default.LCC,group:a.default.ANALYSIS_GROUP_OTHER}],o.zh.CANOPY_MODAL_TEXT="对森林覆盖和森林覆盖损失图层调试最低林冠覆盖密度",o.zh.DENSITY_FIRST="显示中",o.zh.DENSITY_SECOND="林冠覆盖密度",o.zh.SEARCH_WIDGET_TITLE="搜寻特征：",o.zh.SEARCH_CLICK_FOR_MORE="请点击选中图形来获取更多信息",o.zh.NO_INFO="没有相关信息",o.zh.OVERVIEW="概述",o.zh.CITATION="引用",o.zh.FUNCTION="功能",o.zh.RESOLUTION="清晰度",o.zh.GEO_COVERAGE="空间覆盖范围",o.zh.SOURCE="来源",o.zh.FREQUENCY="更新频率",o.zh.CONTENT_DATE="内容日期",o.zh.CAUTIONS="注意",o.zh.LICENSE="数据分享执照",o.zh.LEARN_MORE="了解更多",o.zh.DOWNLOAD_DATA="下载数据",o.zh.DESCRIPTION="说明",o.zh.PRINT_BUTTON_LABEL="选择打印模板",o.zh.PRINT_REPORT="打印报告",o.zh.SUBSCRIBE="订阅",o.zh.SEARCH="搜寻",o.zh.LAYERS="图层",o.zh.DATA="数据",o.zh.ANALYZE="分析",o.zh.DOCS="文本文件",o.zh.NARRATIVE="说明",o.zh.MORE="更多",o.zh.DELETE="删除",o.zh.DOCUMENTS="文件",o.zh.BASEMAP="底图",o.zh.SELECT_ALL="全选",o.zh.CLEAR_ALL="全部清除",o.zh.LEGEND="图例",o.zh.TIMELINE="时间范围",o.zh.TIMELINE_START="开始：",o.zh.TIMELINE_END="结束：",o.zh.SEARCH="搜索",o.zh.TOOL_ZOOM_IN="放大",o.zh.TOOL_ZOOM_OUT="缩小",o.zh.TOOL_SHARE="分享",o.zh.TOOL_PRINT="打印",o.zh.TOOL_ANALYSIS="分析",o.zh.TOOL_TOGGLE="控制面板",o.zh.TOOL_RESET="重置",o.zh.ANALYSIS_CARBON_EMISSION="Gross carbon emissions",o.zh.ANALYSIS_CARBON_LOSS="Tree cover loss",o.zh.ANALYSIS_SLOPE_CHART_HEADER="Slope",o.zh.ANALYSIS_LAND_COVER_CHART_HEADER="Land Cover",o.zh.ANALYSIS_POPULATION_CHART_HEADER="Population Density",o.zh.ANALYSIS_TREE_COVER_CHART_HEADER="% Tree cover",o.zh.ANALYSIS_RAINFALL_CHART_HEADER="Rainfall",o.zh.MONTHS_LIST=[{name:"January",abbr:"Jan"},{name:"February",abbr:"Feb"},{name:"March",abbr:"Mar"},{name:"April",abbr:"Apr"},{name:"May",abbr:"May"},{name:"June",abbr:"Jun"},{name:"July",abbr:"Jul"},{name:"August",abbr:"Aug"},{name:"September",abbr:"Sep"},{name:"October",abbr:"Oct"},{name:"November",abbr:"Nov"},{name:"December",abbr:"Dec"}],o.zh.REPORT_TABLE_TOTAL="Total",o.zh.REPORT_SLOPE_TITLE="Slope Analysis",o.zh.REPORT_SLOPE_TABLE_TYPE="Slope Potential Type",o.zh.REPORT_SLOPE_TABLE_VALUE="Hectares",o.zh.REPORT_RESTORATION_TABLE_TYPE="Category",o.zh.REPORT_RESTORATION_TABLE_VALUE="Hectares",e.default=o}),define("report/report",["exports","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ImageParameters","constants/AnalysisConstants","utils/performAnalysis","constants/LayerConstants","esri/geometry/Polygon","utils/params","js/config","utils/layerFactory","esri/request","utils/template","utils/AppUtils","dojo/date/locale","dojo/Deferred","utils/symbols","utils/request","esri/arcgis/utils","dojo/promise/all","esri/graphic","resources","utils/charts","dojo/number","js/languages","esri/map"],function(e,t,r,a,n,o,i,s,l,u,c,d,f,A,S,p,_,h,E,m,L,O,g,T,v){"use strict";function I(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var y=I(t),R=I(r),N=I(a),b=I(n),C=I(o),P=I(i),D=I(u),Y=I(c),M=I(d),w=I(f),G=I(A),x=I(S),$=I(p),U=I(_),F=I(h),H=I(E),B=I(m),j=I(L),z=I(O),k=I(g),V=I(T),W=(I(v),void 0),q=function(e){return(0,Y.default)({url:"http://www.arcgis.com/sharing/rest/content/items/"+e+"/data?f=json",callbackParamName:"callback"})},J=function(e){var t=e.webmap,r=e.appid,a=new x.default;return t?(0,H.default)({settings:M.default.getAppInfo(r),webmap:q(t)}).then(function(e){a.resolve(e),brApp.debug&&console.log("getApplicationInfo.webmap: ",e)}):a.reject({error:new Error("Missing Webmap Id. We need atleast one.")}),a},Z=function(e){var t=e.idvalue,r=e.service,a=e.layerid,n=new x.default;return t&&r&&a?U.default.queryTaskById(r+"/"+a,t).then(function(t){var r=t.features[0];r?n.resolve({attributes:r.attributes,geometry:r.geometry,title:e.custom?r.attributes.title:r.attributes[t.displayFieldName],isCustom:e.custom}):n.reject({error:new Error("Unable to query for feature. Check the configuration.")}),brApp.debug&&console.log("getFeature: ",t)}):n.reject({error:new Error("Unable to retrieve feature.")}),n},X=function(e,t,r,a){var n=Object.keys(e).filter(function(e){return e!==C.default.GROUP_BASEMAP&&e!==C.default.EXTRA_LAYERS}).sort(function(t,r){return e[t].order<e[r].order}).reduce(function(t,r){return t.concat(e[r].layers.map(function(t,a){return t.order=100*e[r].order+(t.order||a),t}))},[]);n=n.concat(e.extraLayers);var o=w.default.getObject(j.default.layerPanel.extraLayers,"id",C.default.USER_FEATURES),i=o.url.search(a)>-1;i===!1&&n.forEach(function(e,t){if("USER_FEATURES"===e.id)return void n.splice(t,1)});var s=[],l=[];n.forEach(function(e){l.indexOf(e.id)===-1&&(s.push(e),l.push(e.id))}),s.forEach(function(e){e.visible=t.indexOf(e.id)>-1||e.visible});var u=s.filter(function(e){return e&&e.visible&&(e.url||"graphic"===e.type)}).map(function(e){return(0,D.default)(e,r)});W.addLayers(u)},K=function(e){
var t=e.basemap,r={center:[-8.086,21.085],basemap:t||"topo",slider:!1,logo:!1,zoom:2};F.default.createMap(e.webmap,"map",{mapOptions:r}).then(function(t){W=t.map,W.disableKeyboardNavigation(),W.disableMapNavigation(),W.disableRubberBandZoom(),W.disablePan(),(0,H.default)({feature:Z(e),info:J(e)}).always(function(t){if(t.error)throw t.error;var r=t.feature,a=t.info;ne(e,r,a),W.loaded?re(e,r):W.on("load",function(){re(e,r)}),r.geometry.type===N.default.GEOMETRY_POLYGON&&(e.settings=a.settings,window.highchartsPromise.isResolved()?ue(e,r):window.highchartsPromise.then(function(){ue(e,r)}))})})},Q=function(e,t){var r=void 0;return Object.keys(e).some(function(a){return e[a].layers.some(function(e){if(e.id===t)return r=e,!0})}),r},ee=function(e,t){var r=document.createElement("dl"),a=document.createElement("dt"),n=document.createElement("dd");return a.innerHTML=e,n.innerHTML=t,r.appendChild(a),r.appendChild(n),r},te=function(e,t){var r=[];t.forEach(function(e){"number"==typeof e&&(e=100*Math.round(e/100)),r.push(e)});var a=document.createDocumentFragment();return e.forEach(function(e,n){a.appendChild(ee(e,"number"==typeof r[n]?k.default.format(r[n]):t[n]))}),a},re=function(e,t){var r=e.service,a=e.visibleLayers,n=new B.default(new P.default(t.geometry),$.default.getCustomSymbol());if(W.setExtent(n.geometry.getExtent(),!0),W.graphics.add(n),r){var o=new R.default;a&&(o.layerOption=R.default.LAYER_OPTION_SHOW,o.layerIds=[a]),o.format="png32";var i=new y.default(r,{imageParameters:o,opacity:.8});W.addLayer(i)}X(j.default.layerPanel,e.activeLayers,e.lang,e.service)},ae=function(e){var t=e.title,r=e.logoUrl,a=e.logoLinkUrl;document.getElementById("report-title").innerHTML=t,document.getElementById("logo").setAttribute("src",r),document.getElementById("logo-anchor").setAttribute("href",a)},ne=function(e,t,r){var a=e.layerName,n=e.layerid,o=e.lang,i=r.webmap,s=r.settings,l=i.operationalLayers;if(t.isCustom)document.getElementById("report-subtitle").innerHTML=t.title;else{var u=l.filter(function(e){return a.search(e.id)>-1})[0];if(u){var c=u.layers?u.layers.filter(function(e){return e.id===+n})[0]:u;c&&!function(){var e=c.popupInfo.title.replace(/{.*}/,t.title||"N/A"),r=document.createDocumentFragment();c.popupInfo.fieldInfos.filter(function(e){return e.visible}).forEach(function(e){var a=t.attributes[e.fieldName];e.format&&e.format.dateFormat?a=G.default.format(new Date(a)):e.format&&void 0!==e.format.places&&(a=k.default.format(a,e.format)),r.appendChild(ee(e.label,a))}),brApp.debug&&console.log("Popup info: ",c.popupInfo),document.getElementById("report-subtitle").innerHTML=e,document.getElementById("popup-content").appendChild(r)}()}else{var d=a.replace("_"+n,""),f=Q(s.layerPanel,d);document.getElementById("report-subtitle").innerHTML=t.title||"",f.popup&&!function(){var e=f.popup.content[o],r=document.createDocumentFragment();e.forEach(function(e){var a=e.fieldExpression.search(":")>-1?e.fieldExpression.split(":")[0]:e.fieldExpression;r.appendChild(ee(e.label,t.attributes[a]))}),document.getElementById("popup-content").appendChild(r)}()}}},oe=function(e,t,r){return t.map(function(t,a){var n="number"==typeof e[a]?w.default.roundToHundred(e[a]):e[a];return{name:t,data:[n],color:r[a]}}).filter(function(e){return e.data[0]&&"No Data"!==e.name})},ie=function(e,t){return!!e&&!!t||!e&&!t},se=function(e,t,r){var a=r.reduce(function(e,t){return e+t.data[0]},0),n=document.createElement("div"),o=document.createElement("h3"),i=r.slice();return n.setAttribute("class","restoration-table"),o.setAttribute("class","restoration-table__header"),o.innerHTML=e,n.appendChild(o),i.unshift({name:V.default[t].REPORT_RESTORATION_TABLE_TYPE,data:[V.default[t].REPORT_RESTORATION_TABLE_VALUE]}),i.push({name:V.default[t].REPORT_TABLE_TOTAL,data:[a]}),i.forEach(function(e){n.appendChild(ee(e.name,"number"==typeof e.data[0]?k.default.format(w.default.roundToHundred(e.data[0])):e.data[0]))}),n},le=function(e,t,r,a){var n=document.getElementById("restoration"),o=N.default.ANALYSIS_GROUP_RESTORATION,i=V.default[r][o],s=oe(e.slope,t.slopeClasses,t.slopeColors),l=oe(e.landCover,t.landCoverClasses,t.landCoverColors),u=oe(e.population,t.populationClasses,t.populationColors),c=oe(e.treeCover,t.treeCoverClasses,t.treeCoverColors),d=oe(e.rainfall,t.rainfallClasses,t.rainfallColors);if(ie(t.restorationSlopePotential,s.length)&&ie(t.restorationLandCover,l.length)&&ie(t.restorationPopulation,u.length)&&ie(t.restorationTreeCover,c.length)&&ie(t.restorationRainfall,d.length)&&t.restorationSlopePotential&&t.restorationLandCover&&t.restorationPopulation&&t.restorationTreeCover&&t.restorationRainfall){var f=document.createElement("div"),A=document.createElement("h3"),S=document.createElement("h4"),p=document.createElement("h4"),_=document.createElement("div"),h=document.createElement("div"),E=document.createElement("div"),m=document.createElement("div"),L=document.createElement("div"),O=document.createElement("div"),g=document.createElement("div");f.setAttribute("class","restoration__module"),A.setAttribute("class","restoration__label"),S.setAttribute("class","restoration__description"),p.setAttribute("class","restoration__description"),_.setAttribute("class","restoration__grid"),h.setAttribute("class","restoration__grid"),E.setAttribute("class","restoration__chart"),m.setAttribute("class","restoration__chart"),L.setAttribute("class","restoration__chart"),O.setAttribute("class","restoration__chart"),g.setAttribute("class","restoration__chart"),A.innerHTML=i+" "+a,S.innerHTML=t.labels[r].restorationChartDescription,p.innerHTML=t.labels[r].restorationTableDescription,f.appendChild(A),f.appendChild(S),f.appendChild(_),f.appendChild(p),f.appendChild(h),n.appendChild(f),t.restorationSlopePotential&&(_.appendChild(E),h.appendChild(se(V.default[r].ANALYSIS_SLOPE_CHART_HEADER,r,s)),z.default.makeRestorationBarChart(E,V.default[r].ANALYSIS_SLOPE_CHART_HEADER,s)),t.restorationLandCover&&(_.appendChild(m),h.appendChild(se(V.default[r].ANALYSIS_LAND_COVER_CHART_HEADER,r,l)),z.default.makeRestorationBarChart(m,V.default[r].ANALYSIS_LAND_COVER_CHART_HEADER,l)),t.restorationPopulation&&(_.appendChild(L),h.appendChild(se(V.default[r].ANALYSIS_POPULATION_CHART_HEADER,r,u)),z.default.makeRestorationBarChart(L,V.default[r].ANALYSIS_POPULATION_CHART_HEADER,u)),t.restorationTreeCover&&(_.appendChild(O),h.appendChild(se(V.default[r].ANALYSIS_TREE_COVER_CHART_HEADER,r,c)),z.default.makeRestorationBarChart(O,V.default[r].ANALYSIS_TREE_COVER_CHART_HEADER,c)),t.restorationRainfall&&(_.appendChild(g),h.appendChild(se(V.default[r].ANALYSIS_RAINFALL_CHART_HEADER,r,d)),z.default.makeRestorationBarChart(g,V.default[r].ANALYSIS_RAINFALL_CHART_HEADER,d))}},ue=function(e,t){var r=j.default.layerPanel.GROUP_LC?j.default.layerPanel.GROUP_LC.layers:[],a=j.default.layerPanel.GROUP_LCD?j.default.layerPanel.GROUP_LC.layers:[],n=w.default.getObject(r,"id",C.default.LAND_COVER),o=l.analysisConfig[N.default.TC_LOSS].labels,i=e.tcd,s=e.lang,u=e.settings,c=e.activeSlopeClass;if(w.default.containsObject(a,"id",C.default.TREE_COVER_LOSS))(0,b.default)({type:N.default.TC_LOSS_GAIN,geometry:t.geometry,settings:u,canopyDensity:i,language:s}).then(function(e){var t=e.lossCounts,r=void 0===t?[]:t,a=e.gainCounts,n=void 0===a?[]:a,i=r.reduce(function(e,t){return e+t},0),u=n.reduce(function(e,t){return e+t},0),c=V.default[s].ANALYSIS_TC_CHART_NAME,d=l.analysisConfig[N.default.TC_LOSS].colors,f=document.getElementById("tc-loss"),A=[{name:c,data:e.lossCounts}];e.lossCounts&&e.lossCounts.length?z.default.makeSimpleBarChart(f,o,d,A):f.remove(),document.querySelector("#total-loss-badge .results__loss-gain--label").innerHTML=V.default[s].ANALYSIS_TOTAL_LOSS_LABEL,document.querySelector("#total-loss-badge .results__loss-gain--range").innerHTML=V.default[s].ANALYSIS_TOTAL_LOSS_RANGE,document.querySelector(".results__loss--count").innerHTML=i,document.getElementById("total-loss-badge").classList.remove("hidden"),document.querySelector("#total-gain-badge .results__loss-gain--label").innerHTML=V.default[s].ANALYSIS_TOTAL_GAIN_LABEL,document.querySelector("#total-gain-badge .results__loss-gain--range").innerHTML=V.default[s].ANALYSIS_TOTAL_GAIN_RANGE,document.querySelector(".results__gain--count").innerHTML=u,document.getElementById("total-gain-badge").classList.remove("hidden")});else{var d=document.getElementById("tc-loss"),f=document.getElementById("total-loss-badge"),A=document.getElementById("total-gain-badge");d.remove(),f.remove(),A.remove()}if(u.landCover&&n)(0,b.default)({type:N.default.LC_LOSS,geometry:t.geometry,settings:u,canopyDensity:i,language:s}).then(function(e){var t=n.colors,r=n.classes[s],a=document.getElementById("lc-loss"),i=e.counts,l=e.encoder,u=l.A,c=l.B,d=z.default.formatSeriesWithEncoder({colors:t,encoder:l,counts:i,labels:r,Xs:u,Ys:c});d.series&&d.series.length?z.default.makeTotalLossBarChart(a,o,d.colors,d.series):a.remove()}),(0,b.default)({type:N.default.LCC,geometry:t.geometry,settings:u,canopyDensity:i,language:s}).then(function(e){var t=document.getElementById("lc-composition");if(e.counts&&e.counts.length){var r=z.default.formatCompositionAnalysis({colors:n.colors,name:V.default[s].ANALYSIS_LCC_CHART_NAME,labels:n.classes[s],counts:e.counts});z.default.makeCompositionPieChart(t,r)}else t.remove()});else{var S=document.getElementById("lc-loss"),p=document.getElementById("lc-composition");S.remove(),p.remove()}if(u.aboveGroundBiomass)(0,b.default)({type:N.default.BIO_LOSS,geometry:t.geometry,settings:u,canopyDensity:i,language:s}).then(function(e){var t=l.analysisConfig[N.default.BIO_LOSS],r=t.labels,a=t.colors,n=e.data,o=document.getElementById("bio-loss"),i=z.default.formatSeriesForBiomassLoss({data:n.attributes,lossColor:a.loss,carbonColor:a.carbon,lossName:V.default[s].ANALYSIS_CARBON_LOSS,carbonName:"MtCO2"}),u=i.series,c=i.grossLoss,d=i.grossEmissions;z.default.makeBiomassLossChart(o,{series:u,categories:r},function(e){var t=e.renderer.html("<div class='results__legend-container'>"+("<span>"+V.default[s].ANALYSIS_CARBON_LOSS+"</span>")+("<span>"+Math.round(c)+" Ha</span>")+"</div><div class='results__legend-container'>"+("<span>"+V.default[s].ANALYSIS_CARBON_EMISSION+"</span>")+("<span>"+Math.round(d)+"m MtCO2</span>")+"</div>");t.element.className="result__biomass-totals",t.add()})});else{var _=document.getElementById("bio-loss");_.remove()}if(u.intactForests)(0,b.default)({type:N.default.INTACT_LOSS,geometry:t.geometry,settings:u,canopyDensity:i,language:s}).then(function(e){var t=l.analysisConfig[N.default.INTACT_LOSS].colors,r=V.default[s].ANALYSIS_IFL_LABELS,a=document.getElementById("intact-loss"),n=e.counts,i=e.encoder,u=i.A,c=i.B,d=z.default.formatSeriesWithEncoder({colors:t,encoder:i,counts:n,labels:r,isSimple:!0,Xs:u,Ys:c});d.series&&d.series.length&&d.series[0].data.length?z.default.makeTotalLossBarChart(a,o,d.colors,d.series):a.remove()});else{var h=document.getElementById("intact-loss");h.remove()}if(u.activeFires)(0,b.default)({type:N.default.FIRES,geometry:t.geometry,settings:u,canopyDensity:i,language:s}).then(function(e){document.querySelector(".results__fires-pre").innerHTML=V.default[s].ANALYSIS_FIRES_PRE,document.querySelector(".results__fires-count").innerHTML=e.fireCount,document.querySelector(".results__fires-active").innerHTML=V.default[s].ANALYSIS_FIRES_ACTIVE,document.querySelector(".results__fires-post").innerHTML=V.default[s].ANALYSIS_FIRES_POST,document.getElementById("fires-badge").classList.remove("hidden")});else{var E=document.getElementById("fires-badge");E.remove()}if(u.mangroves)(0,b.default)({type:N.default.MANGROVE_LOSS,geometry:t.geometry,settings:u,canopyDensity:i,language:s}).then(function(e){var t=document.getElementById("mangroves"),r=l.analysisConfig[N.default.MANGROVE_LOSS].colors,a=V.default[s].ANALYSIS_MANGROVE_LABELS,n=e.counts,i=e.encoder,u=i.A,c=i.B,d=z.default.formatSeriesWithEncoder({colors:r,encoder:i,counts:n,labels:a,isSimple:!0,Xs:u,Ys:c});d.series&&d.series.length&&d.series[0].data.length?z.default.makeTotalLossBarChart(t,o,d.colors,d.series):t.remove()});else{var m=document.getElementById("mangroves");m.remove()}if(u.sadAlerts)(0,b.default)({type:N.default.SAD_ALERTS,geometry:t.geometry,settings:u,canopyDensity:i,language:s}).then(function(e){var t=document.getElementById("sad-alerts"),r=l.analysisConfig[N.default.SAD_ALERTS].colors,a=V.default[s].ANALYSIS_SAD_ALERT_NAMES,n=e.alerts,o=z.default.formatSadAlerts({alerts:n,colors:r,names:a}),i=o.categories,u=o.series;i.length?(u[0].yAxis=1,z.default.makeDualAxisTimeSeriesChart(t,{series:u,categories:i})):t.remove()});else{var L=document.getElementById("sad-alerts");L.remove()}if(u.gladAlerts)(0,b.default)({type:N.default.GLAD_ALERTS,geometry:t.geometry,settings:u,canopyDensity:i,language:s}).then(function(e){var t=document.getElementById("glad-alerts"),r=V.default[s].ANALYSIS_GLAD_ALERT_NAME;e.length?z.default.makeTimeSeriesCharts(t,{data:e,name:r}):t.remove()});else{var O=document.getElementById("glad-alerts");O.remove()}if(u.terraIAlerts)(0,b.default)({type:N.default.TERRA_I_ALERTS,geometry:t.geometry,settings:u,canopyDensity:i,language:s}).then(function(e){var t=document.getElementById("terrai-alerts"),r=V.default[s].ANALYSIS_TERRA_I_ALERT_NAME;z.default.makeTimeSeriesCharts(t,{data:e,name:r})});else{var g=document.getElementById("terrai-alerts");g.remove()}if(u.restorationModule)!function(){var e=u&&u.labels&&u.labels[s]&&u.labels[s].restorationOptions||[],r=e.map(function(e){return(0,b.default)({type:e.id,geometry:t.geometry,settings:u,canopyDensity:i,language:s})});if((0,H.default)(r).then(function(t){t.forEach(function(t,r){le(t,u,s,e[r].label)}),document.getElementById("restoration").classList.remove("hidden")}),u.restorationSlope)(0,b.default)({type:N.default.SLOPE,geometry:t.geometry,settings:u,canopyDensity:i,activeSlopeClass:c,language:s}).then(function(e){var t=document.getElementById("slope"),r=document.getElementById("slope-chart"),a=document.getElementById("slope-table"),n=document.getElementById("slope-analysis-header"),o=document.getElementById("slope-analysis-description"),i=e.counts,l=void 0===i?[]:i,c=u.labels[s].slopeAnalysisPotentialOptions,d=u.slopeAnalysisPotentialColors,f=u.labels[s].slopeAnalysisPotentialOptions,A=[{data:l.slice()}];t.classList.remove("hidden"),n.innerHTML=V.default[s].REPORT_SLOPE_TITLE,o.innerHTML=u.labels[s].slopeDescription,z.default.makeSlopeBarChart(r,c,d,f,A);var S=l.reduce(function(e,t){return e+t},0);c.unshift(V.default[s].REPORT_SLOPE_TABLE_TYPE),l.unshift(V.default[s].REPORT_SLOPE_TABLE_VALUE),c.push(V.default[s].REPORT_TABLE_TOTAL),l.push(S),a.appendChild(te(c,l))});else{var a=document.getElementById("slope");a&&a.remove()}}();else{var T=document.getElementById("restoration");T.remove()}};e.default={run:function(){var e=(0,s.getUrlParams)(location.href);brApp.debug&&console.log(e),ae(e);var t=w.default.getObject(j.default.layerPanel.extraLayers,"id",C.default.USER_FEATURES);e.custom=t.url.search(e.service)>-1,Y.default.setRequestPreCallback(function(t){return t.url.search(e.service)>-1&&e.custom&&(t.content.token=j.default.userFeatureToken[location.hostname]),t}),K(e)}}}),function e(t,r,a){function n(i,s){if(!r[i]){if(!t[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(o)return o(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[i]={exports:{}};t[i][0].call(c.exports,function(e){var r=t[i][1][e];return n(r?r:e)},c,c.exports,e,t,r,a)}return r[i].exports}for(var o="function"==typeof require&&require,i=0;i<a.length;i++)n(a[i]);return n}({1:[function(e,t,r){(function(t){"use strict";if(t._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");t._babelPolyfill=!0,e("core-js/shim"),e("regenerator/runtime")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/shim":72,"regenerator/runtime":73}],2:[function(e,t,r){"use strict";var a=e("./$");t.exports=function(e){return function(t){var r,n=a.toObject(this),o=a.toLength(n.length),i=a.toIndex(arguments[1],o);if(e&&t!=t){for(;o>i;)if(r=n[i++],r!=r)return!0}else for(;o>i;i++)if((e||i in n)&&n[i]===t)return e||i;return!e&&-1}}},{"./$":16}],3:[function(e,t,r){"use strict";var a=e("./$"),n=e("./$.ctx");t.exports=function(e){var t=1==e,r=2==e,o=3==e,i=4==e,s=6==e,l=5==e||s;return function(u){for(var c,d,f=Object(a.assertDefined(this)),A=a.ES5Object(f),S=n(u,arguments[1],3),p=a.toLength(A.length),_=0,h=t?Array(p):r?[]:void 0;p>_;_++)if((l||_ in A)&&(c=A[_],d=S(c,_,f),e))if(t)h[_]=d;else if(d)switch(e){case 3:return!0;case 5:return c;case 6:return _;case 2:h.push(c)}else if(i)return!1;return s?-1:o||i?i:h}}},{"./$":16,"./$.ctx":10}],4:[function(e,t,r){function a(e,t,r){if(!e)throw TypeError(r?t+r:t)}var n=e("./$");a.def=n.assertDefined,a.fn=function(e){if(!n.isFunction(e))throw TypeError(e+" is not a function!");return e},a.obj=function(e){if(!n.isObject(e))throw TypeError(e+" is not an object!");return e},a.inst=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e},t.exports=a},{"./$":16}],5:[function(e,t,r){var a=e("./$");t.exports=Object.assign||function(e,t){for(var r=Object(a.assertDefined(e)),n=arguments.length,o=1;n>o;)for(var i,s=a.ES5Object(arguments[o++]),l=a.getKeys(s),u=l.length,c=0;u>c;)r[i=l[c++]]=s[i];return r}},{"./$":16}],6:[function(e,t,r){function a(e){return i.call(e).slice(8,-1)}var n=e("./$"),o=e("./$.wks")("toStringTag"),i={}.toString;a.classof=function(e){var t,r;return void 0==e?void 0===e?"Undefined":"Null":"string"==typeof(r=(t=Object(e))[o])?r:a(t)},a.set=function(e,t,r){e&&!n.has(e=r?e:e.prototype,o)&&n.hide(e,o,t)},t.exports=a},{"./$":16,"./$.wks":27}],7:[function(e,t,r){"use strict";function a(e,t){if(!f(e))return("string"==typeof e?"S":"P")+e;if(p(e))return"F";if(!c(e,_)){if(!t)return"E";A(e,_,++g)}return"O"+e[_]}function n(e,t){var r,n=a(t);if("F"!=n)return e[h][n];for(r=e[m];r;r=r.n)if(r.k==t)return r}var o=e("./$"),i=e("./$.ctx"),s=e("./$.uid").safe,l=e("./$.assert"),u=e("./$.iter"),c=o.has,d=o.set,f=o.isObject,A=o.hide,S=u.step,p=Object.isFrozen||o.core.Object.isFrozen,_=s("id"),h=s("O1"),E=s("last"),m=s("first"),L=s("iter"),O=o.DESC?s("size"):"size",g=0;t.exports={getConstructor:function(e,t,r){function a(n){var i=l.inst(this,a,e);d(i,h,o.create(null)),d(i,O,0),d(i,E,void 0),d(i,m,void 0),void 0!=n&&u.forOf(n,t,i[r],i)}return o.mix(a.prototype,{clear:function(){for(var e=this,t=e[h],r=e[m];r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e[m]=e[E]=void 0,e[O]=0},delete:function(e){var t=this,r=n(t,e);if(r){var a=r.n,o=r.p;delete t[h][r.i],r.r=!0,o&&(o.n=a),a&&(a.p=o),t[m]==r&&(t[m]=a),t[E]==r&&(t[E]=o),t[O]--}return!!r},forEach:function(e){for(var t,r=i(e,arguments[1],3);t=t?t.n:this[m];)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!n(this,e)}}),o.DESC&&o.setDesc(a.prototype,"size",{get:function(){return l.def(this[O])}}),a},def:function(e,t,r){var o,i,s=n(e,t);return s?s.v=r:(e[E]=s={i:i=a(t,!0),k:t,v:r,p:o=e[E],n:void 0,r:!1},e[m]||(e[m]=s),o&&(o.n=s),e[O]++,"F"!=i&&(e[h][i]=s)),e},getEntry:n,getIterConstructor:function(){return function(e,t){d(this,L,{o:e,k:t})}},next:function(){for(var e=this[L],t=e.k,r=e.l;r&&r.r;)r=r.p;return e.o&&(e.l=r=r?r.n:e.o[m])?"key"==t?S(0,r.k):"value"==t?S(0,r.v):S(0,[r.k,r.v]):(e.o=void 0,S(1))}}},{"./$":16,"./$.assert":4,"./$.ctx":10,"./$.iter":15,"./$.uid":25}],8:[function(e,t,r){"use strict";function a(e,t){return E.call(e.array,function(e){return e[0]===t})}function n(e){return e[_]||d(e,_,{array:[],get:function(e){var t=a(this,e);if(t)return t[1]},has:function(e){return!!a(this,e)},set:function(e,t){var r=a(this,e);r?r[1]=t:this.array.push([e,t])},delete:function(e){var t=m.call(this.array,function(t){return t[0]===e});return~t&&this.array.splice(t,1),!!~t}})[_]}var o=e("./$"),i=e("./$.uid").safe,s=e("./$.assert"),l=e("./$.iter").forOf,u=o.has,c=o.isObject,d=o.hide,f=Object.isFrozen||o.core.Object.isFrozen,A=0,S=i("id"),p=i("weak"),_=i("leak"),h=e("./$.array-methods"),E=h(5),m=h(6);t.exports={getConstructor:function(e,t,r){function a(n){o.set(s.inst(this,a,e),S,A++),void 0!=n&&l(n,t,this[r],this)}return o.mix(a.prototype,{delete:function(e){return!!c(e)&&(f(e)?n(this).delete(e):u(e,p)&&u(e[p],this[S])&&delete e[p][this[S]])},has:function(e){return!!c(e)&&(f(e)?n(this).has(e):u(e,p)&&u(e[p],this[S]))}}),a},def:function(e,t,r){return f(s.obj(t))?n(e).set(t,r):(u(t,p)||d(t,p,{}),t[p][e[S]]=r),e},leakStore:n,WEAK:p,ID:S}},{"./$":16,"./$.array-methods":3,"./$.assert":4,"./$.iter":15,"./$.uid":25}],9:[function(e,t,r){"use strict";var a=e("./$"),n=e("./$.def"),o=e("./$.iter"),i=e("./$.assert").inst;t.exports=function(t,r,s,l,u){function c(e,t){var r=S[e];a.FW&&(S[e]=function(e,a){var n=r.call(this,0===e?0:e,a);return t?this:n})}var d=a.g[t],f=d,A=l?"set":"add",S=f&&f.prototype,p={};if(a.isFunction(f)&&(u||!o.BUGGY&&S.forEach&&S.entries)){var _,h=new f,E=h[A](u?{}:-0,1);e("./$.iter-detect")(function(e){new f(e)})||(f=function(e){i(this,f,t);var r=new d;return void 0!=e&&o.forOf(e,l,r[A],r),r},f.prototype=S,a.FW&&(S.constructor=f)),u||h.forEach(function(e,t){_=1/t===-(1/0)}),_&&(c("delete"),c("has"),l&&c("get")),(_||E!==h)&&c(A,!0)}else f=s.getConstructor(t,l,A),a.mix(f.prototype,r);return e("./$.cof").set(f,t),e("./$.species")(f),p[t]=f,n(n.G+n.W+n.F*(f!=d),p),u||o.std(f,t,s.getIterConstructor(),s.next,l?"key+value":"value",!l,!0),f}},{"./$":16,"./$.assert":4,"./$.cof":6,"./$.def":11,"./$.iter":15,"./$.iter-detect":14,"./$.species":22}],10:[function(e,t,r){var a=e("./$.assert").fn;t.exports=function(e,t,r){if(a(e),~r&&void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,a){return e.call(t,r,a)};case 3:return function(r,a,n){return e.call(t,r,a,n)}}return function(){return e.apply(t,arguments)}}},{"./$.assert":4}],11:[function(e,t,r){function a(e,t){return function(){return e.apply(t,arguments)}}function n(e,t,r){var u,c,d,f,A=e&n.G,S=A?i:e&n.S?i[t]:(i[t]||{}).prototype,p=A?s:s[t]||(s[t]={});A&&(r=t);for(u in r)c=!(e&n.F)&&S&&u in S,d=(c?S:r)[u],f=e&n.B&&c?a(d,i):e&n.P&&l(d)?a(Function.call,d):d,S&&!c&&(A?S[u]=d:delete S[u]&&o.hide(S,u,d)),p[u]!=d&&o.hide(p,u,f)}var o=e("./$"),i=o.g,s=o.core,l=o.isFunction;i.core=s,n.F=1,n.G=2,n.S=4,n.P=8,n.B=16,n.W=32,t.exports=n},{"./$":16}],12:[function(e,t,r){t.exports=function(e){return e.FW=!0,e.path=e.g,e}},{}],13:[function(e,t,r){t.exports=function(e,t,r){var a=void 0===r;switch(t.length){case 0:return a?e():e.call(r);case 1:return a?e(t[0]):e.call(r,t[0]);case 2:return a?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return a?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return a?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3]);case 5:return a?e(t[0],t[1],t[2],t[3],t[4]):e.call(r,t[0],t[1],t[2],t[3],t[4])}return e.apply(r,t)}},{}],14:[function(e,t,r){var a=e("./$.wks")("iterator"),n=!1;try{var o=[7][a]();o.return=function(){n=!0},Array.from(o,function(){throw 2})}catch(e){}t.exports=function(e){if(!n)return!1;var t=!1;try{var r=[7],o=r[a]();o.next=function(){t=!0},r[a]=function(){return o},e(r)}catch(e){}return t}},{"./$.wks":27}],15:[function(e,t,r){"use strict";function a(e,t){l.hide(e,A,t),S in[]&&l.hide(e,S,t)}function n(e,t,r,n){var o=e.prototype,i=o[A]||o[S]||n&&o[n]||r;if(l.FW&&a(o,i),i!==r){var s=l.getProto(i.call(new e));c.set(s,t+" Iterator",!0),l.FW&&l.has(o,S)&&a(s,l.that)}return p[t]=i,p[t+" Iterator"]=l.that,i}function o(e){var t=l.g.Symbol,r=e[t&&t.iterator||S],a=r||e[A]||p[c.classof(e)];return f(a.call(e))}function i(e){var t=e.return;void 0!==t&&f(t.call(e))}function s(e,t,r,a){try{return a?t(f(r)[0],r[1]):t(r)}catch(t){throw i(e),t}}var l=e("./$"),u=e("./$.ctx"),c=e("./$.cof"),d=e("./$.def"),f=e("./$.assert").obj,A=e("./$.wks")("iterator"),S="@@iterator",p={},_={},h="keys"in[]&&!("next"in[].keys());a(_,l.that);var E=t.exports={BUGGY:h,Iterators:p,prototype:_,step:function(e,t){return{value:t,done:!!e}},stepCall:s,close:i,is:function(e){var t=Object(e),r=l.g.Symbol,a=r&&r.iterator||S;return a in t||A in t||l.has(p,c.classof(t))},get:o,set:a,create:function(e,t,r,a){e.prototype=l.create(a||E.prototype,{next:l.desc(1,r)}),c.set(e,t+" Iterator")},define:n,std:function(e,t,r,a,o,i,s){function u(e){return function(){return new r(this,e)}}E.create(r,t,a);var c,f,A=u("key+value"),S=u("value"),p=e.prototype;if("value"==o?S=n(e,t,S,"values"):A=n(e,t,A,"entries"),o&&(c={entries:A,keys:i?S:u("key"),values:S},d(d.P+d.F*h,t,c),s))for(f in c)f in p||l.hide(p,f,c[f])},forOf:function(e,t,r,a){for(var n,l=o(e),c=u(r,a,t?2:1);!(n=l.next()).done;)if(s(l,c,n.value,t)===!1)return i(l)}}},{"./$":16,"./$.assert":4,"./$.cof":6,"./$.ctx":10,"./$.def":11,"./$.wks":27}],16:[function(e,t,r){"use strict";function a(e){return isNaN(e=+e)?0:(e>0?p:S)(e)}function n(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function o(e,t,r){return e[t]=r,e}function i(e){return E?function(t,r,a){return L.setDesc(t,r,n(e,a))}:o}function s(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function l(e){return"function"==typeof e}function u(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}var c="undefined"!=typeof self?self:Function("return this")(),d={},f=Object.defineProperty,A={}.hasOwnProperty,S=Math.ceil,p=Math.floor,_=Math.max,h=Math.min,E=!!function(){try{return 2==f({},"a",{get:function(){return 2}}).a}catch(e){}}(),m=i(1),L=t.exports=e("./$.fw")({g:c,core:d,html:c.document&&document.documentElement,isObject:s,isFunction:l,it:function(e){return e},that:function(){return this},toInteger:a,toLength:function(e){return e>0?h(a(e),9007199254740991):0},toIndex:function(e,t){return e=a(e),e<0?_(e+t,0):h(e,t)},has:function(e,t){return A.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:E,desc:n,getDesc:Object.getOwnPropertyDescriptor,setDesc:f,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:u,ES5Object:Object,toObject:function(e){return L.ES5Object(u(e))},hide:m,def:i(0),set:c.Symbol?o:m,mix:function(e,t){for(var r in t)m(e,r,t[r]);return e},each:[].forEach});"undefined"!=typeof __e&&(__e=d),"undefined"!=typeof __g&&(__g=c)},{"./$.fw":12}],17:[function(e,t,r){var a=e("./$");t.exports=function(e,t){for(var r,n=a.toObject(e),o=a.getKeys(n),i=o.length,s=0;i>s;)if(n[r=o[s++]]===t)return r}},{"./$":16}],18:[function(e,t,r){var a=e("./$"),n=e("./$.assert").obj;t.exports=function(e){return n(e),a.getSymbols?a.getNames(e).concat(a.getSymbols(e)):a.getNames(e)}},{"./$":16,"./$.assert":4}],19:[function(e,t,r){"use strict";var a=e("./$"),n=e("./$.invoke"),o=e("./$.assert").fn;t.exports=function(){for(var e=o(this),t=arguments.length,r=Array(t),i=0,s=a.path._,l=!1;t>i;)(r[i]=arguments[i++])===s&&(l=!0);return function(){var a,o=this,i=arguments.length,u=0,c=0;if(!l&&!i)return n(e,r,o);if(a=r.slice(),l)for(;t>u;u++)a[u]===s&&(a[u]=arguments[c++]);for(;i>c;)a.push(arguments[c++]);return n(e,a,o)}}},{"./$":16,"./$.assert":4,"./$.invoke":13}],20:[function(e,t,r){"use strict";t.exports=function(e,t,r){var a=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(r?t:this).replace(e,a)}}},{}],21:[function(e,t,r){function a(e,t){o.obj(e),o(null===t||n.isObject(t),t,": can't set as prototype!")}var n=e("./$"),o=e("./$.assert");t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r){try{r=e("./$.ctx")(Function.call,n.getDesc(Object.prototype,"__proto__").set,2),r({},[])}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}():void 0),check:a}},{"./$":16,"./$.assert":4,"./$.ctx":10}],22:[function(e,t,r){var a=e("./$");t.exports=function(t){a.DESC&&a.FW&&a.setDesc(t,e("./$.wks")("species"),{configurable:!0,get:a.that})}},{"./$":16,"./$.wks":27}],23:[function(e,t,r){"use strict";var a=e("./$");t.exports=function(e){return function(t){var r,n,o=String(a.assertDefined(this)),i=a.toInteger(t),s=o.length;return i<0||i>=s?e?"":void 0:(r=o.charCodeAt(i),r<55296||r>56319||i+1===s||(n=o.charCodeAt(i+1))<56320||n>57343?e?o.charAt(i):r:e?o.slice(i,i+2):(r-55296<<10)+(n-56320)+65536)}}},{"./$":16}],24:[function(e,t,r){"use strict";function a(){var e=+this;if(l.has(T,e)){var t=T[e];delete T[e],t()}}function n(e){a.call(e.data)}var o,i,s,l=e("./$"),u=e("./$.ctx"),c=e("./$.cof"),d=e("./$.invoke"),f=l.g,A=l.isFunction,S=l.html,p=f.document,_=f.process,h=f.setImmediate,E=f.clearImmediate,m=f.postMessage,L=f.addEventListener,O=f.MessageChannel,g=0,T={},v="onreadystatechange";A(h)&&A(E)||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return T[++g]=function(){d(A(e)?e:Function(e),t)},o(g),g},E=function(e){delete T[e]},"process"==c(_)?o=function(e){_.nextTick(u(a,e,1))}:L&&A(m)&&!f.importScripts?(o=function(e){m(e,"*")},L("message",n,!1)):A(O)?(i=new O,s=i.port2,i.port1.onmessage=n,o=u(s.postMessage,s,1)):o=p&&v in p.createElement("script")?function(e){S.appendChild(p.createElement("script"))[v]=function(){S.removeChild(this),a.call(e)}}:function(e){setTimeout(u(a,e,1),0)}),t.exports={set:h,clear:E}},{"./$":16,"./$.cof":6,"./$.ctx":10,"./$.invoke":13}],25:[function(e,t,r){function a(e){return"Symbol("+e+")_"+(++n+Math.random()).toString(36)}var n=0;a.safe=e("./$").g.Symbol||a,t.exports=a},{"./$":16}],26:[function(e,t,r){var a=e("./$"),n=e("./$.wks")("unscopables");!a.FW||n in[]||a.hide(Array.prototype,n,{}),t.exports=function(e){a.FW&&([][n][e]=!0)}},{"./$":16,"./$.wks":27}],27:[function(e,t,r){var a=e("./$").g,n={};t.exports=function(t){return n[t]||(n[t]=a.Symbol&&a.Symbol[t]||e("./$.uid").safe("Symbol."+t))}},{"./$":16,"./$.uid":25}],28:[function(e,t,r){function a(e,t){return function(r){var a,n=R(r),o=0,i=[];for(a in n)a!=S&&T(n,a)&&i.push(a);for(;t>o;)T(n,a=e[o++])&&(~L.call(i,a)||i.push(a));return i}}function n(e){return!u.isObject(e)}function o(){}function i(e){return function(){return e.apply(u.ES5Object(this),arguments)}}function s(e){return function(t,r){p.fn(t);var a=R(this),n=N(a.length),o=e?n-1:0,i=e?-1:1;if(arguments.length<2)for(;;){if(o in a){r=a[o],o+=i;break}o+=i,p(e?o>=0:n>o,"Reduce of empty array with no initial value")}for(;e?o>=0:n>o;o+=i)o in a&&(r=t(r,a[o],o,this));return r}}function l(e){return e>9?e:"0"+e}var u=e("./$"),c=e("./$.cof"),d=e("./$.def"),f=e("./$.invoke"),A=e("./$.array-methods"),S=e("./$.uid").safe("__proto__"),p=e("./$.assert"),_=p.obj,h=Object.prototype,E=[],m=E.slice,L=E.indexOf,O=c.classof,g=Object.defineProperties,T=u.has,v=u.setDesc,I=u.getDesc,y=u.isFunction,R=u.toObject,N=u.toLength,b=!1;if(!u.DESC){try{b=8==v(document.createElement("div"),"x",{get:function(){return 8}}).x}catch(e){}u.setDesc=function(e,t,r){if(b)try{return v(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(_(e)[t]=r.value),e},u.getDesc=function(e,t){if(b)try{return I(e,t)}catch(e){}if(T(e,t))return u.desc(!h.propertyIsEnumerable.call(e,t),e[t])},g=function(e,t){_(e);for(var r,a=u.getKeys(t),n=a.length,o=0;n>o;)u.setDesc(e,r=a[o++],t[r]);return e}}d(d.S+d.F*!u.DESC,"Object",{getOwnPropertyDescriptor:u.getDesc,defineProperty:u.setDesc,defineProperties:g});var C="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),P=C.concat("length","prototype"),D=C.length,Y=function(){var e,t=document.createElement("iframe"),r=D,a=">";for(t.style.display="none",u.html.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script"+a),e.close(),Y=e.F;r--;)delete Y.prototype[C[r]];return Y()};d(d.S,"Object",{getPrototypeOf:u.getProto=u.getProto||function(e){return e=Object(p.def(e)),T(e,S)?e[S]:y(e.constructor)&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?h:null},getOwnPropertyNames:u.getNames=u.getNames||a(P,P.length,!0),create:u.create=u.create||function(e,t){var r;return null!==e?(o.prototype=_(e),r=new o,o.prototype=null,r[S]=e):r=Y(),void 0===t?r:g(r,t)},keys:u.getKeys=u.getKeys||a(C,D,!1),
seal:u.it,freeze:u.it,preventExtensions:u.it,isSealed:n,isFrozen:n,isExtensible:u.isObject}),d(d.P,"Function",{bind:function(e){function t(){var n=a.concat(m.call(arguments));return f(r,n,this instanceof t?u.create(r.prototype):e)}var r=p.fn(this),a=m.call(arguments,1);return r.prototype&&(t.prototype=r.prototype),t}}),0 in Object("z")&&"z"=="z"[0]||(u.ES5Object=function(e){return"String"==c(e)?e.split(""):Object(e)}),d(d.P+d.F*(u.ES5Object!=Object),"Array",{slice:i(m),join:i(E.join)}),d(d.S,"Array",{isArray:function(e){return"Array"==c(e)}}),d(d.P,"Array",{forEach:u.each=u.each||A(0),map:A(1),filter:A(2),some:A(3),every:A(4),reduce:s(!1),reduceRight:s(!0),indexOf:L=L||e("./$.array-includes")(!1),lastIndexOf:function(e,t){var r=R(this),a=N(r.length),n=a-1;for(arguments.length>1&&(n=Math.min(n,u.toInteger(t))),n<0&&(n=N(a+n));n>=0;n--)if(n in r&&r[n]===e)return n;return-1}}),d(d.P,"String",{trim:e("./$.replacer")(/^\s*([\s\S]*\S)?\s*$/,"$1")}),d(d.S,"Date",{now:function(){return+new Date}}),d(d.P,"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),a=t<0?"-":t>9999?"+":"";return a+("00000"+Math.abs(t)).slice(a?-6:-4)+"-"+l(e.getUTCMonth()+1)+"-"+l(e.getUTCDate())+"T"+l(e.getUTCHours())+":"+l(e.getUTCMinutes())+":"+l(e.getUTCSeconds())+"."+(r>99?r:"0"+l(r))+"Z"}}),"Object"==O(function(){return arguments}())&&(c.classof=function(e){var t=O(e);return"Object"==t&&y(e.callee)?"Arguments":t})},{"./$":16,"./$.array-includes":2,"./$.array-methods":3,"./$.assert":4,"./$.cof":6,"./$.def":11,"./$.invoke":13,"./$.replacer":20,"./$.uid":25}],29:[function(e,t,r){"use strict";var a=e("./$"),n=e("./$.def"),o=a.toIndex;n(n.P,"Array",{copyWithin:function(e,t){var r=Object(a.assertDefined(this)),n=a.toLength(r.length),i=o(e,n),s=o(t,n),l=arguments[2],u=void 0===l?n:o(l,n),c=Math.min(u-s,n-i),d=1;for(s<i&&i<s+c&&(d=-1,s=s+c-1,i=i+c-1);c-- >0;)s in r?r[i]=r[s]:delete r[i],i+=d,s+=d;return r}}),e("./$.unscope")("copyWithin")},{"./$":16,"./$.def":11,"./$.unscope":26}],30:[function(e,t,r){"use strict";var a=e("./$"),n=e("./$.def"),o=a.toIndex;n(n.P,"Array",{fill:function(e){for(var t=Object(a.assertDefined(this)),r=a.toLength(t.length),n=o(arguments[1],r),i=arguments[2],s=void 0===i?r:o(i,r);s>n;)t[n++]=e;return t}}),e("./$.unscope")("fill")},{"./$":16,"./$.def":11,"./$.unscope":26}],31:[function(e,t,r){var a=e("./$.def");a(a.P,"Array",{findIndex:e("./$.array-methods")(6)}),e("./$.unscope")("findIndex")},{"./$.array-methods":3,"./$.def":11,"./$.unscope":26}],32:[function(e,t,r){var a=e("./$.def");a(a.P,"Array",{find:e("./$.array-methods")(5)}),e("./$.unscope")("find")},{"./$.array-methods":3,"./$.def":11,"./$.unscope":26}],33:[function(e,t,r){var a=e("./$"),n=e("./$.ctx"),o=e("./$.def"),i=e("./$.iter"),s=i.stepCall;o(o.S+o.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,l,u=Object(a.assertDefined(e)),c=arguments[1],d=void 0!==c,f=d?n(c,arguments[2],2):void 0,A=0;if(i.is(u))for(l=i.get(u),r=new("function"==typeof this?this:Array);!(o=l.next()).done;A++)r[A]=d?s(l,f,[o.value,A],!0):o.value;else for(r=new("function"==typeof this?this:Array)(t=a.toLength(u.length));t>A;A++)r[A]=d?f(u[A],A):u[A];return r.length=A,r}})},{"./$":16,"./$.ctx":10,"./$.def":11,"./$.iter":15,"./$.iter-detect":14}],34:[function(e,t,r){var a=e("./$"),n=e("./$.unscope"),o=e("./$.uid").safe("iter"),i=e("./$.iter"),s=i.step,l=i.Iterators;i.std(Array,"Array",function(e,t){a.set(this,o,{o:a.toObject(e),i:0,k:t})},function(){var e=this[o],t=e.o,r=e.k,a=e.i++;return!t||a>=t.length?(e.o=void 0,s(1)):"key"==r?s(0,a):"value"==r?s(0,t[a]):s(0,[a,t[a]])},"value"),l.Arguments=l.Array,n("keys"),n("values"),n("entries")},{"./$":16,"./$.iter":15,"./$.uid":25,"./$.unscope":26}],35:[function(e,t,r){var a=e("./$.def");a(a.S,"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)r[e]=arguments[e++];return r.length=t,r}})},{"./$.def":11}],36:[function(e,t,r){e("./$.species")(Array)},{"./$.species":22}],37:[function(e,t,r){"use strict";var a=e("./$"),n="name",o=a.setDesc,i=Function.prototype;n in i||a.FW&&a.DESC&&o(i,n,{configurable:!0,get:function(){var e=String(this).match(/^\s*function ([^ (]*)/),t=e?e[1]:"";return a.has(this,n)||o(this,n,a.desc(5,t)),t},set:function(e){a.has(this,n)||o(this,n,a.desc(0,e))}})},{"./$":16}],38:[function(e,t,r){"use strict";var a=e("./$.collection-strong");e("./$.collection")("Map",{get:function(e){var t=a.getEntry(this,e);return t&&t.v},set:function(e,t){return a.def(this,0===e?0:e,t)}},a,!0)},{"./$.collection":9,"./$.collection-strong":7}],39:[function(e,t,r){function a(e){return e+1/h-1/h}function n(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}function o(e){return isFinite(e=+e)&&0!=e?e<0?-o(-e):A(e+S(e*e+1)):e}function i(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:f(e)-1}var s=1/0,l=e("./$.def"),u=Math.E,c=Math.pow,d=Math.abs,f=Math.exp,A=Math.log,S=Math.sqrt,p=Math.ceil,_=Math.floor,h=c(2,-52),E=c(2,-23),m=c(2,127)*(2-E),L=c(2,-126);l(l.S,"Math",{acosh:function(e){return(e=+e)<1?NaN:isFinite(e)?A(e/u+S(e+1)*S(e-1)/u)+1:e},asinh:o,atanh:function(e){return 0==(e=+e)?e:A((1+e)/(1-e))/2},cbrt:function(e){return n(e=+e)*c(d(e),1/3)},clz32:function(e){return(e>>>=0)?31-_(A(e+.5)*Math.LOG2E):32},cosh:function(e){return(f(e=+e)+f(-e))/2},expm1:i,fround:function(e){var t,r,o=d(e),i=n(e);return o<L?i*a(o/L/E)*L*E:(t=(1+E/h)*o,r=t-(t-o),r>m||r!=r?i*s:i*r)},hypot:function(e,t){for(var r,a=0,n=arguments.length,o=n,i=Array(n),l=-s;n--;){if(r=i[n]=+arguments[n],r==s||r==-s)return s;r>l&&(l=r)}for(l=r||1;o--;)a+=c(i[o]/l,2);return l*S(a)},imul:function(e,t){var r=65535,a=+e,n=+t,o=r&a,i=r&n;return 0|o*i+((r&a>>>16)*i+o*(r&n>>>16)<<16>>>0)},log1p:function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:A(1+e)},log10:function(e){return A(e)/Math.LN10},log2:function(e){return A(e)/Math.LN2},sign:n,sinh:function(e){return d(e=+e)<1?(i(e)-i(-e))/2:(f(e-1)-f(-e-1))*(u/2)},tanh:function(e){var t=i(e=+e),r=i(-e);return t==s?1:r==s?-1:(t-r)/(f(e)+f(-e))},trunc:function(e){return(e>0?_:p)(e)}})},{"./$.def":11}],40:[function(e,t,r){"use strict";function a(e){var t,r;if(s(t=e.valueOf)&&!i(r=t.call(e)))return r;if(s(t=e.toString)&&!i(r=t.call(e)))return r;throw TypeError("Can't convert object to number")}function n(e){if(i(e)&&(e=a(e)),"string"==typeof e&&e.length>2&&48==e.charCodeAt(0)){var t=!1;switch(e.charCodeAt(1)){case 66:case 98:t=!0;case 79:case 111:return parseInt(e.slice(2),t?2:8)}}return+e}var o=e("./$"),i=o.isObject,s=o.isFunction,l="Number",u=o.g[l],c=u,d=u.prototype;!o.FW||u("0o1")&&u("0b1")||(u=function e(t){return this instanceof e?new c(n(t)):n(t)},o.each.call(o.DESC?o.getNames(c):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(e){o.has(c,e)&&!o.has(u,e)&&o.setDesc(u,e,o.getDesc(c,e))}),u.prototype=d,d.constructor=u,o.hide(o.g,l,u))},{"./$":16}],41:[function(e,t,r){function a(e){return!n.isObject(e)&&l(e)&&s(e)===e}var n=e("./$"),o=e("./$.def"),i=Math.abs,s=Math.floor,l=n.g.isFinite,u=9007199254740991;o(o.S,"Number",{EPSILON:Math.pow(2,-52),isFinite:function(e){return"number"==typeof e&&l(e)},isInteger:a,isNaN:function(e){return e!=e},isSafeInteger:function(e){return a(e)&&i(e)<=u},MAX_SAFE_INTEGER:u,MIN_SAFE_INTEGER:-u,parseFloat:parseFloat,parseInt:parseInt})},{"./$":16,"./$.def":11}],42:[function(e,t,r){var a=e("./$.def");a(a.S,"Object",{assign:e("./$.assign")})},{"./$.assign":5,"./$.def":11}],43:[function(e,t,r){var a=e("./$.def");a(a.S,"Object",{is:function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}})},{"./$.def":11}],44:[function(e,t,r){var a=e("./$.def");a(a.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.def":11,"./$.set-proto":21}],45:[function(e,t,r){function a(e,t){var r=(n.core.Object||{})[e]||Object[e],a=0,l={};l[e]=1==t?function(e){return i(e)?r(e):e}:2==t?function(e){return!i(e)||r(e)}:3==t?function(e){return!!i(e)&&r(e)}:4==t?function(e,t){return r(s(e),t)}:5==t?function(e){return r(Object(n.assertDefined(e)))}:function(e){return r(s(e))};try{r("z")}catch(e){a=1}o(o.S+o.F*a,"Object",l)}var n=e("./$"),o=e("./$.def"),i=n.isObject,s=n.toObject;a("freeze",1),a("seal",1),a("preventExtensions",1),a("isFrozen",2),a("isSealed",2),a("isExtensible",3),a("getOwnPropertyDescriptor",4),a("getPrototypeOf",5),a("keys"),a("getOwnPropertyNames")},{"./$":16,"./$.def":11}],46:[function(e,t,r){"use strict";var a=e("./$"),n=e("./$.cof"),o={};o[e("./$.wks")("toStringTag")]="z",a.FW&&"z"!=n(o)&&a.hide(Object.prototype,"toString",function(){return"[object "+n.classof(this)+"]"})},{"./$":16,"./$.cof":6,"./$.wks":27}],47:[function(e,t,r){"use strict";function a(e){var t=N(e)[_];return void 0!=t?t:e}function n(e){var t;return y(e)&&(t=e.then),!!I(t)&&t}function o(e){var t,r=e[h],a=r.c,n=0;if(r.h)return!1;for(;a.length>n;)if(t=a[n++],t.fail||!o(t.P))return!1;return!0}function i(e,t){var r=e.c;(t||r.length)&&g(function(){var a=e.p,i=e.v,s=1==e.s,l=0;if(t&&o(a))setTimeout(function(){o(a)&&("process"==f(O)?O.emit("unhandledRejection",i,a):L.console&&I(console.error)&&console.error("Unhandled promise rejection",i))},1e3);else for(;r.length>l;)!function(t){var r,a,o=s?t.ok:t.fail;try{o?(s||(e.h=!0),r=o===!0?i:o(i),r===t.P?t.rej(TypeError(m+"-chain cycle")):(a=n(r))?a.call(r,t.res,t.rej):t.res(r)):t.rej(i)}catch(e){t.rej(e)}}(r[l++]);r.length=0})}function s(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,i(t,!0))}function l(e){var t,r,a=this;if(!a.d){a.d=!0,a=a.r||a;try{(t=n(e))?(r={r:a,d:!1},t.call(e,d(l,r,1),d(s,r,1))):(a.v=e,a.s=1,i(a))}catch(e){s.call(r||{r:a,d:!1},e)}}}var u,c=e("./$"),d=e("./$.ctx"),f=e("./$.cof"),A=e("./$.def"),S=e("./$.assert"),p=e("./$.iter"),_=e("./$.wks")("species"),h=e("./$.uid").safe("record"),E=p.forOf,m="Promise",L=c.g,O=L.process,g=O&&O.nextTick||e("./$.task").set,T=L[m],v=T,I=c.isFunction,y=c.isObject,R=S.fn,N=S.obj;I(T)&&I(T.resolve)&&T.resolve(u=new T(function(){}))==u||(T=function(e){R(e);var t={p:S.inst(this,T,m),c:[],s:0,d:!1,v:void 0,h:!1};c.hide(this,h,t);try{e(d(l,t,1),d(s,t,1))}catch(e){s.call(t,e)}},c.mix(T.prototype,{then:function(e,t){var r=N(N(this).constructor)[_],a={ok:!I(e)||e,fail:!!I(t)&&t},n=a.P=new(void 0!=r?r:T)(function(e,t){a.res=R(e),a.rej=R(t)}),o=this[h];return o.c.push(a),o.s&&i(o),n},catch:function(e){return this.then(void 0,e)}})),A(A.G+A.W+A.F*(T!=v),{Promise:T}),f.set(T,m),e("./$.species")(T),A(A.S,m,{reject:function(e){return new(a(this))(function(t,r){r(e)})},resolve:function(e){return y(e)&&h in e&&c.getProto(e)===this.prototype?e:new(a(this))(function(t){t(e)})}}),A(A.S+A.F*!e("./$.iter-detect")(function(e){T.all(e).catch(function(){})}),m,{all:function(e){var t=a(this),r=[];return new t(function(a,n){E(e,!1,r.push,r);var o=r.length,i=Array(o);o?c.each.call(r,function(e,r){t.resolve(e).then(function(e){i[r]=e,--o||a(i)},n)}):a(i)})},race:function(e){var t=a(this);return new t(function(r,a){E(e,!1,function(e){t.resolve(e).then(r,a)})})}})},{"./$":16,"./$.assert":4,"./$.cof":6,"./$.ctx":10,"./$.def":11,"./$.iter":15,"./$.iter-detect":14,"./$.species":22,"./$.task":24,"./$.uid":25,"./$.wks":27}],48:[function(e,t,r){function a(e){var t,r=[];for(t in e)r.push(t);s.set(this,d,{o:e,a:r,i:0})}function n(e){return function(t){m(t);try{return e.apply(void 0,arguments),!0}catch(e){return!1}}}function o(e,t){var r,a=arguments.length<3?e:arguments[2],n=p(m(e),t);return n?s.has(n,"value")?n.value:void 0===n.get?void 0:n.get.call(a):S(r=h(e))?o(r,t,a):void 0}function i(e,t,r){var a,n,o=arguments.length<4?e:arguments[3],l=p(m(e),t);if(!l){if(S(n=h(e)))return i(n,t,r,o);l=s.desc(0)}return s.has(l,"value")?!(l.writable===!1||!S(o))&&(a=p(o,t)||s.desc(0),a.value=r,_(o,t,a),!0):void 0!==l.set&&(l.set.call(o,r),!0)}var s=e("./$"),l=e("./$.def"),u=e("./$.set-proto"),c=e("./$.iter"),d=e("./$.uid").safe("iter"),f=c.step,A=e("./$.assert"),S=s.isObject,p=s.getDesc,_=s.setDesc,h=s.getProto,E=Function.apply,m=A.obj,L=Object.isExtensible||s.it;c.create(a,"Object",function(){var e,t=this[d],r=t.a;do if(t.i>=r.length)return f(1);while(!((e=r[t.i++])in t.o));return f(0,e)});var O={apply:e("./$.ctx")(Function.call,E,3),construct:function(e,t){var r=A.fn(arguments.length<3?e:arguments[2]).prototype,a=s.create(S(r)?r:Object.prototype),n=E.call(e,a,t);return S(n)?n:a},defineProperty:n(_),deleteProperty:function(e,t){var r=p(m(e),t);return!(r&&!r.configurable)&&delete e[t]},enumerate:function(e){return new a(m(e))},get:o,getOwnPropertyDescriptor:function(e,t){return p(m(e),t)},getPrototypeOf:function(e){return h(m(e))},has:function(e,t){return t in e},isExtensible:function(e){return!!L(m(e))},ownKeys:e("./$.own-keys"),preventExtensions:n(Object.preventExtensions||s.it),set:i};u&&(O.setPrototypeOf=function(e,t){u.check(e,t);try{return u.set(e,t),!0}catch(e){return!1}}),l(l.G,{Reflect:{}}),l(l.S,"Reflect",O)},{"./$":16,"./$.assert":4,"./$.ctx":10,"./$.def":11,"./$.iter":15,"./$.own-keys":18,"./$.set-proto":21,"./$.uid":25}],49:[function(e,t,r){var a=e("./$"),n=e("./$.cof"),o=a.g.RegExp,i=o,s=o.prototype;a.FW&&a.DESC&&(function(){try{return"/a/i"==o(/a/g,"i")}catch(e){}}()||(o=function(e,t){return new i("RegExp"==n(e)&&void 0!==t?e.source:e,t)},a.each.call(a.getNames(i),function(e){e in o||a.setDesc(o,e,{configurable:!0,get:function(){return i[e]},set:function(t){i[e]=t}})}),s.constructor=o,o.prototype=s,a.hide(a.g,"RegExp",o)),"g"!=/./g.flags&&a.setDesc(s,"flags",{configurable:!0,get:e("./$.replacer")(/^.*\/(\w*)$/,"$1")})),e("./$.species")(o)},{"./$":16,"./$.cof":6,"./$.replacer":20,"./$.species":22}],50:[function(e,t,r){"use strict";var a=e("./$.collection-strong");e("./$.collection")("Set",{add:function(e){return a.def(this,e=0===e?0:e,e)}},a)},{"./$.collection":9,"./$.collection-strong":7}],51:[function(e,t,r){var a=e("./$.def");a(a.P,"String",{codePointAt:e("./$.string-at")(!1)})},{"./$.def":11,"./$.string-at":23}],52:[function(e,t,r){"use strict";var a=e("./$"),n=e("./$.cof"),o=e("./$.def"),i=a.toLength;o(o.P,"String",{endsWith:function(e){if("RegExp"==n(e))throw TypeError();var t=String(a.assertDefined(this)),r=arguments[1],o=i(t.length),s=void 0===r?o:Math.min(i(r),o);return e+="",t.slice(s-e.length,s)===e}})},{"./$":16,"./$.cof":6,"./$.def":11}],53:[function(e,t,r){var a=e("./$.def"),n=e("./$").toIndex,o=String.fromCharCode;a(a.S,"String",{fromCodePoint:function(e){for(var t,r=[],a=arguments.length,i=0;a>i;){if(t=+arguments[i++],n(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?o(t):o(((t-=65536)>>10)+55296,t%1024+56320))}return r.join("")}})},{"./$":16,"./$.def":11}],54:[function(e,t,r){"use strict";var a=e("./$"),n=e("./$.cof"),o=e("./$.def");o(o.P,"String",{includes:function(e){if("RegExp"==n(e))throw TypeError();return!!~String(a.assertDefined(this)).indexOf(e,arguments[1])}})},{"./$":16,"./$.cof":6,"./$.def":11}],55:[function(e,t,r){var a=e("./$").set,n=e("./$.string-at")(!0),o=e("./$.uid").safe("iter"),i=e("./$.iter"),s=i.step;i.std(String,"String",function(e){a(this,o,{o:String(e),i:0})},function(){var e,t=this[o],r=t.o,a=t.i;return a>=r.length?s(1):(e=n.call(r,a),t.i+=e.length,s(0,e))})},{"./$":16,"./$.iter":15,"./$.string-at":23,"./$.uid":25}],56:[function(e,t,r){var a=e("./$"),n=e("./$.def");n(n.S,"String",{raw:function(e){for(var t=a.toObject(e.raw),r=a.toLength(t.length),n=arguments.length,o=[],i=0;r>i;)o.push(String(t[i++])),i<n&&o.push(String(arguments[i]));return o.join("")}})},{"./$":16,"./$.def":11}],57:[function(e,t,r){"use strict";var a=e("./$"),n=e("./$.def");n(n.P,"String",{repeat:function(e){var t=String(a.assertDefined(this)),r="",n=a.toInteger(e);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r}})},{"./$":16,"./$.def":11}],58:[function(e,t,r){"use strict";var a=e("./$"),n=e("./$.cof"),o=e("./$.def");o(o.P,"String",{startsWith:function(e){if("RegExp"==n(e))throw TypeError();var t=String(a.assertDefined(this)),r=a.toLength(Math.min(arguments[1],t.length));return e+="",t.slice(r,r+e.length)===e}})},{"./$":16,"./$.cof":6,"./$.def":11}],59:[function(e,t,r){"use strict";function a(e){var t=E[e]=n.set(n.create(A.prototype),_,e);return n.DESC&&p&&n.setDesc(Object.prototype,e,{configurable:!0,set:function(t){c(this,e,t)}}),t}var n=e("./$"),o=e("./$.cof").set,i=e("./$.uid"),s=e("./$.def"),l=e("./$.keyof"),u=n.has,c=n.hide,d=n.getNames,f=n.toObject,A=n.g.Symbol,S=A,p=!1,_=i.safe("tag"),h={},E={};n.isFunction(A)||(A=function e(t){if(this instanceof e)throw TypeError("Symbol is not a constructor");return a(i(t))},c(A.prototype,"toString",function(){return this[_]})),s(s.G+s.W,{Symbol:A});var m={for:function(e){return u(h,e+="")?h[e]:h[e]=A(e)},keyFor:function(e){return l(h,e)},pure:i.safe,set:n.set,useSetter:function(){p=!0},useSimple:function(){p=!1}};n.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(t){var r=e("./$.wks")(t);m[t]=A===S?r:a(r)}),p=!0,s(s.S,"Symbol",m),s(s.S+s.F*(A!=S),"Object",{getOwnPropertyNames:function(e){for(var t,r=d(f(e)),a=[],n=0;r.length>n;)u(E,t=r[n++])||a.push(t);return a},getOwnPropertySymbols:function(e){for(var t,r=d(f(e)),a=[],n=0;r.length>n;)u(E,t=r[n++])&&a.push(E[t]);return a}}),o(A,"Symbol"),o(Math,"Math",!0),o(n.g.JSON,"JSON",!0)},{"./$":16,"./$.cof":6,"./$.def":11,"./$.keyof":17,"./$.uid":25,"./$.wks":27}],60:[function(e,t,r){"use strict";var a=e("./$"),n=e("./$.collection-weak"),o=n.leakStore,i=n.ID,s=n.WEAK,l=a.has,u=a.isObject,c=Object.isFrozen||a.core.Object.isFrozen,d={},f=e("./$.collection")("WeakMap",{get:function(e){if(u(e)){if(c(e))return o(this).get(e);if(l(e,s))return e[s][this[i]]}},set:function(e,t){return n.def(this,e,t)}},n,!0,!0);a.FW&&7!=(new f).set((Object.freeze||Object)(d),7).get(d)&&a.each.call(["delete","has","get","set"],function(e){var t=f.prototype[e];f.prototype[e]=function(r,a){if(u(r)&&c(r)){var n=o(this)[e](r,a);return"set"==e?this:n}return t.call(this,r,a)}})},{"./$":16,"./$.collection":9,"./$.collection-weak":8}],61:[function(e,t,r){"use strict";var a=e("./$.collection-weak");e("./$.collection")("WeakSet",{add:function(e){return a.def(this,e,!0)}},a,!1,!0)},{"./$.collection":9,"./$.collection-weak":8}],62:[function(e,t,r){var a=e("./$.def");a(a.P,"Array",{includes:e("./$.array-includes")(!0)}),e("./$.unscope")("includes")},{"./$.array-includes":2,"./$.def":11,"./$.unscope":26}],63:[function(e,t,r){var a=e("./$"),n=e("./$.def"),o=e("./$.own-keys");n(n.S,"Object",{getOwnPropertyDescriptors:function(e){var t=a.toObject(e),r={};return a.each.call(o(t),function(e){a.setDesc(r,e,a.desc(0,a.getDesc(t,e)))}),r}})},{"./$":16,"./$.def":11,"./$.own-keys":18}],64:[function(e,t,r){function a(e){return function(t){var r,a=n.toObject(t),o=n.getKeys(t),i=o.length,s=0,l=Array(i);if(e)for(;i>s;)l[s]=[r=o[s++],a[r]];else for(;i>s;)l[s]=a[o[s++]];return l}}var n=e("./$"),o=e("./$.def");o(o.S,"Object",{values:a(!1),entries:a(!0)})},{"./$":16,"./$.def":11}],65:[function(e,t,r){var a=e("./$.def");a(a.S,"RegExp",{escape:e("./$.replacer")(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})},{"./$.def":11,"./$.replacer":20}],66:[function(e,t,r){var a=e("./$.def"),n=e("./$.iter").forOf;a(a.P,"Set",{toJSON:function(){var e=[];return n(this,!1,e.push,e),e}})},{"./$.def":11,"./$.iter":15}],67:[function(e,t,r){var a=e("./$.def");a(a.P,"String",{at:e("./$.string-at")(!0)})},{"./$.def":11,"./$.string-at":23}],68:[function(e,t,r){function a(t,r){n.each.call(t.split(","),function(t){void 0==r&&t in i?s[t]=i[t]:t in[]&&(s[t]=e("./$.ctx")(Function.call,[][t],r))})}var n=e("./$"),o=e("./$.def"),i=n.core.Array||Array,s={};a("pop,reverse,shift,keys,values,entries",1),a("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),a("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),o(o.S,"Array",s)},{"./$":16,"./$.ctx":10,"./$.def":11}],69:[function(e,t,r){e("./es6.array.iterator");var a=e("./$"),n=e("./$.iter").Iterators,o=e("./$.wks")("iterator"),i=a.g.NodeList;!a.FW||!i||o in i.prototype||a.hide(i.prototype,o,n.Array),n.NodeList=n.Array},{"./$":16,"./$.iter":15,"./$.wks":27,"./es6.array.iterator":34}],70:[function(e,t,r){var a=e("./$.def"),n=e("./$.task");a(a.G+a.B,{setImmediate:n.set,clearImmediate:n.clear})},{"./$.def":11,"./$.task":24}],71:[function(e,t,r){function a(e){return l?function(t,r){return e(i(s,[].slice.call(arguments,2),n.isFunction(t)?t:Function(t)),r)}:e}var n=e("./$"),o=e("./$.def"),i=e("./$.invoke"),s=e("./$.partial"),l=!!n.g.navigator&&/MSIE .\./.test(navigator.userAgent);o(o.G+o.B+o.F*l,{setTimeout:a(n.g.setTimeout),setInterval:a(n.g.setInterval)})},{"./$":16,"./$.def":11,"./$.invoke":13,"./$.partial":19}],72:[function(e,t,r){e("./modules/es5"),e("./modules/es6.symbol"),e("./modules/es6.object.assign"),e("./modules/es6.object.is"),e("./modules/es6.object.set-prototype-of"),e("./modules/es6.object.to-string"),e("./modules/es6.object.statics-accept-primitives"),e("./modules/es6.function.name"),e("./modules/es6.number.constructor"),e("./modules/es6.number.statics"),e("./modules/es6.math"),e("./modules/es6.string.from-code-point"),e("./modules/es6.string.raw"),e("./modules/es6.string.iterator"),e("./modules/es6.string.code-point-at"),e("./modules/es6.string.ends-with"),e("./modules/es6.string.includes"),e("./modules/es6.string.repeat"),e("./modules/es6.string.starts-with"),e("./modules/es6.array.from"),e("./modules/es6.array.of"),e("./modules/es6.array.iterator"),e("./modules/es6.array.species"),e("./modules/es6.array.copy-within"),e("./modules/es6.array.fill"),e("./modules/es6.array.find"),e("./modules/es6.array.find-index"),e("./modules/es6.regexp"),e("./modules/es6.promise"),e("./modules/es6.map"),e("./modules/es6.set"),e("./modules/es6.weak-map"),e("./modules/es6.weak-set"),e("./modules/es6.reflect"),e("./modules/es7.array.includes"),e("./modules/es7.string.at"),e("./modules/es7.regexp.escape"),e("./modules/es7.object.get-own-property-descriptors"),e("./modules/es7.object.to-array"),e("./modules/es7.set.to-json"),e("./modules/js.array.statics"),e("./modules/web.timers"),e("./modules/web.immediate"),e("./modules/web.dom.iterable"),t.exports=e("./modules/$").core},{"./modules/$":16,"./modules/es5":28,"./modules/es6.array.copy-within":29,"./modules/es6.array.fill":30,"./modules/es6.array.find":32,"./modules/es6.array.find-index":31,"./modules/es6.array.from":33,"./modules/es6.array.iterator":34,"./modules/es6.array.of":35,"./modules/es6.array.species":36,"./modules/es6.function.name":37,"./modules/es6.map":38,"./modules/es6.math":39,"./modules/es6.number.constructor":40,"./modules/es6.number.statics":41,"./modules/es6.object.assign":42,"./modules/es6.object.is":43,"./modules/es6.object.set-prototype-of":44,"./modules/es6.object.statics-accept-primitives":45,"./modules/es6.object.to-string":46,"./modules/es6.promise":47,"./modules/es6.reflect":48,"./modules/es6.regexp":49,"./modules/es6.set":50,"./modules/es6.string.code-point-at":51,"./modules/es6.string.ends-with":52,"./modules/es6.string.from-code-point":53,"./modules/es6.string.includes":54,"./modules/es6.string.iterator":55,"./modules/es6.string.raw":56,"./modules/es6.string.repeat":57,"./modules/es6.string.starts-with":58,"./modules/es6.symbol":59,"./modules/es6.weak-map":60,"./modules/es6.weak-set":61,"./modules/es7.array.includes":62,"./modules/es7.object.get-own-property-descriptors":63,"./modules/es7.object.to-array":64,"./modules/es7.regexp.escape":65,"./modules/es7.set.to-json":66,"./modules/es7.string.at":67,"./modules/js.array.statics":68,"./modules/web.dom.iterable":69,"./modules/web.immediate":70,"./modules/web.timers":71}],73:[function(e,t,r){(function(e){!function(e){"use strict";function r(e,t,r,a){var o=Object.create((t||n).prototype);return o._invoke=s(e,r||null,new d(a||[])),o}function a(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function n(){}function o(){}function i(){}function s(e,t,r){var n=m;return function(o,i){if(n===O)throw new Error("Generator is already running");if(n===g)return A();for(;;){var s=r.delegate;if(s){if("return"===o||"throw"===o&&s.iterator.throw===S){r.delegate=null;var l=s.iterator.return;if(l){var u=a(l,s.iterator,i);if("throw"===u.type){o="throw",i=u.arg;continue}}if("return"===o)continue}var u=a(s.iterator[o],s.iterator,i);if("throw"===u.type){r.delegate=null,o="throw",i=u.arg;continue}o="next",i=S;var c=u.arg;if(!c.done)return n=L,c;r[s.resultName]=c.value,r.next=s.nextLoc,r.delegate=null}if("next"===o)n===L?r.sent=i:delete r.sent;else if("throw"===o){if(n===m)throw n=g,i;r.dispatchException(i)&&(o="next",i=S)}else"return"===o&&r.abrupt("return",i);n=O;var u=a(e,t,r);if("normal"===u.type){n=r.done?g:L;var c={value:u.arg,done:r.done};if(u.arg!==T)return c;r.delegate&&"next"===o&&(i=S)}else"throw"===u.type&&(n=g,o="throw",i=u.arg)}}}function l(e){v[e]=function(t){return this._invoke(e,t)}}function u(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function c(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(u,this),this.reset()}function f(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(p.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=S,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:S,done:!0}}var S,p=Object.prototype.hasOwnProperty,_="function"==typeof Symbol&&Symbol.iterator||"@@iterator",h="object"==typeof t,E=e.regeneratorRuntime;if(E)return void(h&&(t.exports=E));E=e.regeneratorRuntime=h?t.exports:{},E.wrap=r;var m="suspendedStart",L="suspendedYield",O="executing",g="completed",T={},v=i.prototype=n.prototype;o.prototype=v.constructor=i,i.constructor=o,o.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return e.__proto__=i,e.prototype=Object.create(v),e},E.async=function(e,t,n,o){return new Promise(function(i,s){function l(e,t){var r=a(u[e],u,t);if("throw"===r.type)return void s(r.arg);var n=r.arg;n.done?i(n.value):Promise.resolve(n.value).then(c,d)}var u=r(e,t,n,o),c=l.bind(u,"next"),d=l.bind(u,"throw");c()})},l("next"),l("throw"),l("return"),v[_]=function(){return this},v.toString=function(){return"[object Generator]"},E.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},E.values=f,d.prototype={constructor:d,reset:function(){this.prev=0,this.next=0,this.sent=S,this.done=!1,this.delegate=null,this.tryEntries.forEach(c);for(var e,t=0;p.call(this,e="t"+t)||t<20;++t)this[e]=null},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,a){return o.type="throw",o.arg=e,r.next=t,!!a}if(this.done)throw e;for(var r=this,a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a],o=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var i=p.call(n,"catchLoc"),s=p.call(n,"finallyLoc");if(i&&s){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return t(n.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&p.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=e,o.arg=t,n?this.next=n.finallyLoc:this.complete(o),T},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc)}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;c(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:f(e),resultName:t,nextLoc:r},T}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]),define("babel-polyfill",function(){}),define("js/reportMain",["esri/IdentityManager","js/config","utils/loaders","esri/config","report/report","babel-polyfill"],function(e,t,r,a,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=(o(e),o(a)),s=o(n);_babelPolyfill||console.log("Missing Babel Polyfill.  May experience some weirdness in IE < 9."),window.brApp={debug:location.search.slice(1).search("debug=true")>-1};var l=function(){t.corsServers.forEach(function(e){i.default.defaults.io.corsEnabledServers.push(e)})},u=function(){var e=window._app.base?window._app.base+"/":"";window.highchartsPromise=(0,r.loadJS)(e+t.assetUrls.highcharts),window.highchartsPromise.then(function(){Highcharts.setOptions({chart:{style:{fontFamily:'"Fira Sans", Georgia, sans-serif'}},lang:{thousandsSep:","}})}),(0,r.loadJS)(e+t.assetUrls.highchartsMore)};l(),u(),s.default.run()});